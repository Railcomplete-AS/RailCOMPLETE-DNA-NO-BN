<?xml version="1.0" encoding="utf-8"?>
<RailwayObjectTypeDefinitions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
 <ReleaseNotesFolder>..\NO-BN\ReleaseNotes</ReleaseNotesFolder>
 <DnaIdentification Name="NO-BN 2021.a(beta1)">
  <DnaIri>
   <AdministrationCountry>NO</AdministrationCountry>
   <AdministrationDelimiter>-</AdministrationDelimiter>
   <AdministrationCode>BN</AdministrationCode>
   <AgentCountry>NO</AgentCountry>
   <AgentDelimiter>.</AgentDelimiter>
   <AgentCode>0001</AgentCode>
   <DateTime>2021-05-13T10:54:00+01:00</DateTime>
   <VersionNumber>2021.a</VersionNumber>
  </DnaIri>
  <Description>RailCOMPLETE(r) Definisjon  nettverkselementer for Bane NOR</Description>
  <AdministrationName>Bane NOR SF</AdministrationName>
  <AgentName>Railcomplete AS</AgentName>
 </DnaIdentification>
 <DistanceAcrossScreenAtDocumentStart>420</DistanceAcrossScreenAtDocumentStart>
 <ShowPositionQuantizeRounding>1.0</ShowPositionQuantizeRounding>
 <DefaultStagePattern>
  <Prefix/>
  <MainStageDigits>2</MainStageDigits>
  <SubStageDigits>2</SubStageDigits>
  <MainAndSubPartSeparator/>
  <StageSeparator>-</StageSeparator>
  <Suffix/>
 </DefaultStagePattern>
 <RightSideOfAlignmentPositive>true</RightSideOfAlignmentPositive>
 <DnaMappingFolder>..\NO-BN\DNA\DnaMappings</DnaMappingFolder>
 <SwitchGeometryPath>..\NO-BN\DNA\Switches\NO-BN-2021.a-SwitchGeometries.xml</SwitchGeometryPath>
 <SymbolLibraryPath>..\NO-BN\2D\NO-BN-2021.a-2D.dwg</SymbolLibraryPath>
 <ObjectThumbnailsPath>..\NO-BN\2D\NO-BN-2021.a-SymbolThumbnails.rc</ObjectThumbnailsPath>
 <Model3DLibraryFolder>..\NO-BN\3D\STD\EH</Model3DLibraryFolder>
 <Model3DLibraryFolder>..\NO-BN\3D\STD\EL</Model3DLibraryFolder>
 <Model3DLibraryFolder>..\NO-BN\3D\STD\FE</Model3DLibraryFolder>
 <Model3DLibraryFolder>..\NO-BN\3D\STD\KO</Model3DLibraryFolder>
 <Model3DLibraryFolder>..\NO-BN\3D\STD\KU</Model3DLibraryFolder>
 <Model3DLibraryFolder>..\NO-BN\3D\STD\SA</Model3DLibraryFolder>
 <Model3DLibraryFolder>..\NO-BN\3D\STD\Skilt</Model3DLibraryFolder>
 <Model3DLibraryFolder>..\NO-BN\3D\STD</Model3DLibraryFolder>
 <Model3DLayerMappingFolder>3D\LayerMappings</Model3DLayerMappingFolder>
 <FaqPath>..\NO-BN\FAQ\NO-BN-2021.a-faq.xml</FaqPath>
 <WebPagesPath>..\NO-BN\WebLinks\NO-BN-2021.a-WebLinks.xml</WebPagesPath>
 <TutorialsFolder>..\NO-BN\Tutorials</TutorialsFolder>
 <LuaTooltipPagesFolder>..\NO-BN\Lua\LuaTooltipPages</LuaTooltipPagesFolder>
 <LuaTooltipImagesPath>..\NO-BN\Lua\LuaTooltipPages\TooltipImages\TooltipImages.xaml</LuaTooltipImagesPath>
 <DefaultSettingsForCommands>
  <DefaultTrainDimensions>
   <CarWidth>3.40</CarWidth>
   <AxleSeparation>18.0</AxleSeparation>
   <AxleCount>2</AxleCount>
   <NoseLength>3.0</NoseLength>
   <TailLength>3.0</TailLength>
   <CarCount>1</CarCount>
   <CarSeparation>1.0</CarSeparation>
  </DefaultTrainDimensions>
 </DefaultSettingsForCommands>
 <DefaultUnresolved3DModelFileName>NO-BN-3D-FE-DIV-UKJENT</DefaultUnresolved3DModelFileName>
 <Units>
  <LinearUnit Precision="3">Decimal</LinearUnit>
  <AngularUnit Precision="3" Clockwise="false">Decimal Degrees</AngularUnit>
  <InsertionScaleUnit>Meters</InsertionScaleUnit>
  <LightingUnits>International</LightingUnits>
 </Units>
 <AutocadSupportFileSearchFolder>%appdata%\Autodesk\ApplicationPlugins\RC.bundle\Adm\NO-BN\AutoCAD</AutocadSupportFileSearchFolder>
 <DefaultFont>iso3098</DefaultFont>
 <DefaultStyle>iso</DefaultStyle>
 <DefaultHeight>1.0</DefaultHeight>
 <PropertySets>
  <ExtendedDataPropertySet Name="ISY Beskrivelse" IsVisible="true" IsWritable="true" IsLocked="false">
   <Properties>
    <ExtendedDataProperty Name="ISY Prosesskode" DataType="Text" Description="" DefaultValue="---" IsVisible="true" DisplayOrder="1"/>
    <ExtendedDataProperty Name="ISY Prosessnavn" DataType="Text" Description="" DefaultValue="---" IsVisible="true" DisplayOrder="2"/>
    <ExtendedDataProperty Name="ISY Mengde" DataType="Text" Description="" DefaultValue="---" IsVisible="true" DisplayOrder="3"/>
    <ExtendedDataProperty Name="ISY Enhet" DataType="Text" Description="" DefaultValue="---" IsVisible="true" DisplayOrder="4"/>
    <ExtendedDataProperty Name="ISY Sted" DataType="Text" Description="" DefaultValue="---" IsVisible="true" DisplayOrder="5"/>
    <ExtendedDataProperty Name="ISY Postnotat" DataType="Text" Description="" DefaultValue="---" IsVisible="true" DisplayOrder="6"/>
   </Properties>
  </ExtendedDataPropertySet>
 </PropertySets>
 <ShowLayerMenu HideMissingLayerSets="true"/>
 <ShowLayer Name="COM_ShowDepointsLayer" DisplayName="Symboler/Defpoints">
  <LayerSelection Type="ExactMatch" CaseSensitive="false">Defpoints</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowInsertionPoint" DisplayName="Symboler/Innsettingspunkt" DefaultOff="false">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCFE$$INNSETTINGSPUNKT</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowDescription" DisplayName="Symboler/Beskrivelse">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCFE$$SYMBOLBESKRIVELSE</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowSymbolFramesHistoric" DisplayName="Symbolrammer/Historisk">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCFE$SYMBOLRAMMER_HISTORIC</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowSymbolFramesAll" DisplayName="Symbolrammer/Alle">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCFE$SYMBOLRAMMER_HISTORIC</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCFE$SYMBOLRAMMER_UNFINISHED</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCFE$SYMBOLRAMMER_ERROR</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCFE$SYMBOLRAMMER_WARNING</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowSymbolFramesUnfinished" DisplayName="Symbolrammer/Uferdig">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCFE$SYMBOLRAMMER_UNFINISHED</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowSymbolFramesError" DisplayName="Symbolrammer/Feil">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCFE$SYMBOLRAMMER_ERROR</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowSymbolFramesWarning" DisplayName="Symbolrammer/Advarsel">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCFE$SYMBOLRAMMER_WARNING</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowName" DisplayName="Felles/Navn, alle objekttyper">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTFE@NAVN</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowTag" DisplayName="Felles/Tag">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTFE@TAG</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowInfo" DisplayName="Felles/Info">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTFE@INFO</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowReservedAreaForCabinetDoors" DisplayName="Felles/Reservert område for skapdører" DefaultOff="false">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCFE$$RESERVERT_FOR_SKAPDOERER</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowTrackUsage" DisplayName="Felles/Sporbruk">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">TFCO_UTV</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowRelations" DisplayName="Felles/Relasjoner">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">RCCO#ANNOTATIONS_RELATIONS</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowOwnAlignmentPosition" DisplayName="Felles/Posisjon i egen akse">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE#ANNOTATIONS_ALIGNMENT_POS_3D</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowReferenceAlignmentSystem" DisplayName="Felles/Referansesporsystem">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE#ANNOTATIONS_REFERENCEALIGNMENT</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowAlignmentNames" DisplayName="Felles/Linjenavn">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE#ANNOTATIONS_ALIGNMENTNAME</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowSighting" DisplayName="Felles/Sikt">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE#ANNOTATIONS_SIGHT_LINE</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE#ANNOTATIONS_SIGHT_AREA</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowMarkers" DisplayName="Felles/Markører">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE_MARKØRER</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowWatches" DisplayName="Felles/Watch">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE_WATCH</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowLabels" DisplayName="Felles/Etiketter">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE_ETIKETTER</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowRegions" DisplayName="Felles/Områder">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE_OMRÅDER</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowTables" DisplayName="Felles/Tabeller">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE_TABELLER</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="BNP_ShowAllBoards" DisplayName="Skilt/Alle skilt og stolper">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTEH_BKT</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKO_SKT</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_MSS</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowWipeoutForBoards" DisplayName="Skilt/Wipeout under alle skilt" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTSK$$WIPEOUT_SKILT</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="COM_ShowWipeoutForCabinets" DisplayName="Skilt/Wipeout under alle skap" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTFE$$WIPEOUT_SKAP</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SUB_ShowCableDucts" DisplayName="Underbygning/Alle føringsveier">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKU_KFØ_KABELKANAL</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKU_KFØ_RØRPAKKE</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKU_KFØ_PRESSRØR</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKU_KFØ_TREKKERØR</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKU_KFØ_TREKKEKUM</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SUB_ShowFoundationsAndFixtures" DisplayName="Underbygning/Alle fundamenter og skiltfester">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKU_FUN</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKU_EH_FUN</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKU_SPB</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SUB_ShowName" DisplayName="Underbygning/Navn">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKU@NAVN</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SUB_ShowTag" DisplayName="Underbygning/TAG">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKU@TAG</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SUB_ShowInfo" DisplayName="Underbygning/Objektinfo">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKU@INFO</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SUB_ShowFoundationAndFixtureLocators" DisplayName="Underbygning/Fundamentlokalisering">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTUB$$LOKALISERING_AV_FUNDAMENTER_OG_SKILTFESTER</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowAllPointObjectsExceptBoards" DisplayName="Overbygning/Alle punktobjekter unntatt skilt og sporforbindelser">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKO_MVS</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKO_SKJ</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKO_SVI</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKO_SKI</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKO_TNG</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKO_SST</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowAlignments" DisplayName="Overbygning/Spor">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKO_SPO</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowSwitchesAndCrossings" DisplayName="Overbygning/Sporveksel og sporkryss">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKO_SPV</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowContinuations" DisplayName="Overbygning/Sporfortsettelser">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKO_SPF</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowSwitchTongues" DisplayName="Overbygning/Sporvekseltunger">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKO_TNG</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowPlatforms" DisplayName="Overbygning/Plattformkanter">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTKO_PLF</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowName" DisplayName="Overbygning/Navn">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKO@NAVN</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowTag" DisplayName="Overbygning/TAG">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKO@TAG</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowInfo" DisplayName="Overbygning/Objektinfo">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKO@INFO</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowAnnotationObjectsForGeometryAndVerticalProfile" DisplayName="Sporannotering/Geometri og høydeprofil">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE#ANNOTATIONS_GEOMETRY</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE#ANNOTATIONS_VERTICALPROFILE</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE#ANNOTATIONS_ALIGNMENT_SEGMENT</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowFoulingPoints" DisplayName="Sporannotering/Spormiddel">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE#ANNOTATIONS_FOULINGPOINT</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowChainage" DisplayName="Sporannotering/Kilometrering">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE#ANNOTATIONS_MILEAGE</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTFE#ANNOTATIONS_MILEAGECHANGE</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowSwitchAndCrossingType" DisplayName="Sporforbindelser/Sporveksel og sporkryss type">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKO@SPV_TYPE</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowSwitchAndCrossingGraphicsForTrack" DisplayName="Sporforbindelser/Overbygnings-symbol for sporveksel og sporkryss" DefaultOff="false">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKO$SPV</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowSwitchAndCrossingGraphicsForHighVoltage" DisplayName="Sporforbindelser/KL-symbol for sporveksel (elektrifisering)" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH$SPV</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowSwitchAndCrossingGraphicsForSignaling" DisplayName="Sporforbindelser/Signal-symbol for sporveksel (omstilling og kontroll)" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTSA$SPV</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTSA$$WIPEOUT_SPORVEKSEL</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKO_TNG</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowSwitchLeftAndRightCentreLines" DisplayName="Sporforbindelser/Sporveksel og sporkryss senterlinjer (del av OB-symbol)" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKO$$SPORVEKSEL_GEOMETRI</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowSwitchLongSleepers" DisplayName="Sporforbindelser/Sporveksel langsvilleparti (del av OB-symbol)" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKO$$SPORVEKSEL_LANGSVILLEPARTI</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TRK_ShowSwitchAndCrossingShortSleepers" DisplayName="Sporforbindelser/Sporveksel kortsvilleparti (del av OB-symbol)" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKO$$SPORVEKSEL_KORTSVILLEPARTI</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowAllPointObjectsExceptBoards" DisplayName="Kontaktledning/Alle punktobjekter unntatt skilt">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTEH_FUN</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTEH_MAS</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTEH_UTL</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTEH_AAK</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowContactWire" DisplayName="Kontaktledning/Alle kontaktledninger">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTEH_KTL</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowCatenaryAndSupportingWires" DisplayName="Kontaktledning/Alt kl-oppheng">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTEH_KLO</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowName" DisplayName="Kontaktledning/Navn">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH@NAVN</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowTag" DisplayName="Kontaktledning/TAG">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH@TAG</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowInfo" DisplayName="Kontaktledning/Objektinfo">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH@INFO</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowTensioningForce" DisplayName="Kontaktledning/Avspenning strekkraft">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH@STREKKRAFT</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowSpanLength" DisplayName="Kontaktledning/Spennlengde">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH@SPENNLENGDE</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowCantileverSystemType" DisplayName="Kontaktledning/Utliggertype">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH$$UTLIGGER_TYPE</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowCantileverPushOrPullType" DisplayName="Kontaktledning/Utligger kraftretning">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH$$UTLIGGER_KRAFTRETNING</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowAutotransformerPoles" DisplayName="Kontaktledning/Poler autotransformator" DefaultOff="false">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH$$AUTOTRANSFORMATOR_POLER</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowWipeoutForIsolator" DisplayName="Kontaktledning/Wipeout for kontaktledningsobjekter" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH$$WIPEOUT_ISOLATOR</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowAllPointObjectsExceptBoards" DisplayName="Signal/Alle punktobjekter unntatt skilt">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_APS</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_ATB</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_ATC</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_ATK</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_AVI</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_DRV</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_LOK</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_MSS</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_SAM</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_SIG</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_SIK</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_SPD</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_SPF</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_SSP</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_TEL</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_TET</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_TEA</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_TVD</LayerSelection>
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSA_TER</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowName" DisplayName="Signal/Navn">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTSA@NAVN</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowTag" DisplayName="Signal/TAG">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTSA@TAG</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowInfo" DisplayName="Signal/Objektinfo">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTSA@INFO</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowAxleCounterSnapLine" DisplayName="Études signalisation/Ligne d'accrochage au compteur d'essieux" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCSI$$AKSELTELLER_SNAPPELINJE</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowAxleCcounterMinimumLateralSeparationBelow120kmh" DisplayName="Signal/Akselteller sensor minsteavstand til neste skinne inntil 120 km/h" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCSI$$AKSELTELLER_SIDEVEIS_MINSTEAVSTAND_INNTIL_120_KMH</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowAxleCcounterMinimumLateralSeparationAboveOrAt120kmh" DisplayName="Signal/Akselteller sensor minsteavstand til neste skinne over eller ved 120 km/h" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCSI$$AKSELTELLER_SIDEVEIS_MINSTEAVSTAND_OVER_ELLER_VED_120_KMH</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowAxleCounterReservedAreaForTuningUnit" DisplayName="Signal/Reservert område for 'Tp-sopp'" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCSI$$AKSELTELLER_RESERVERT_OMRAADE_FOR_TUNINGENHET</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowBaliseMetalFreeZone" DisplayName="Signal/Metallfritt profil rundt baliser" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCSI$$BALISE_METALLFRITT_PROFIL</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowBaliseSnaplinesAll" DisplayName="Signal/Alle snaplinjer for baliser" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCSI$$BALISE_SNAPPELINJER_3m</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCSI$$BALISE_SNAPPELINJER_8m</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCSI$$BALISE_SNAPPELINJER_12m</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowBaliseSnaplines3m" DisplayName="Signal/Ligne d'aide 3m pour balises" DefaultOff="false">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCSI$$BALISE_SNAPPELINJER_3m</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowBaliseSnaplines8m" DisplayName="Signal/Ligne d'aide 8m pour balises" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCSI$$BALISE_SNAPPELINJER_8m</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowBaliseSnaplines12m" DisplayName="Signal/Ligne d'aide 12m pour balises" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">RCSI$$BALISE_SNAPPELINJER_12m</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowSymbolsForSchematicDrawing" DisplayName="Signal/Symboles pour schéma-S (monoligne)">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTSA$$VISNING_SKJEMATISK_PLAN</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowSymbolsForCableDrawing" DisplayName="Signal/Kabelplan og geografiske symboler (1-streng)">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTSA$$VISNING_KABELPLAN</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="OCS_ShowSymbolsForIsolationAndReturnCurrentDrawing" DisplayName="Sporisolering og returkretsskjema symboler (2-streng)">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH$$VISNING_SPORISOLERING_OG_RETURKRETS</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowBrakingCurveConventional" DisplayName="Signal/ATC bremsekurver">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTSI_ANNOTATIONS_BRAKING_CURVE</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="SIG_ShowWipeoutForCircleInSwitch" DisplayName="Signal/Wipeout for sirkel i TK" DefaultOff="true">
  <LayerSelection Type="PartialMatch" CaseSensitive="true">JBTOB__KO_SPV_SPORVEKSEL_WIPEOUT</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="POW_ShowName" DisplayName="Lavspent/Navn">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEL@NAVN</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="POW_ShowTag" DisplayName="Lavspent/TAG">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEL@TAG</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="POW_ShowInfo" DisplayName="Lavspent/Objektinfo">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEL@INFO</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TEL_ShowName" DisplayName="Tele/Navn og info">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTTE@NAVN</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TEL_ShowTag" DisplayName="Tele/TAG">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTTE@TAG</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="TEL_ShowInfo" DisplayName="Tele/Objektinfo">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTTE@INFO</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="ALL_ShowName" DisplayName="Alle fag/Navn">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTFE@NAVN</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKU@NAVN</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKO@NAVN</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH@NAVN</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTSA@NAVN</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEL@NAVN</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTTE@NAVN</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="ALL_ShowTag" DisplayName="Alle fag/TAG" DefaultOff="true">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTFE@TAG</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKU@TAG</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKO@TAG</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH@TAG</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTSA@TAG</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEL@TAG</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTTE@TAG</LayerSelection>
 </ShowLayer>
 <ShowLayer Name="ALL_ShowInfo" DisplayName="Alle fag/Objektinfo">
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTFE@INFO</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKU@INFO</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTKO@INFO</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEH@INFO</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTSA@INFO</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTEL@INFO</LayerSelection>
  <LayerSelection Type="ExactMatch" CaseSensitive="true">JBTTE@INFO</LayerSelection>
 </ShowLayer>
 <DisplayGaugeSettings>
  <Profiles>
   <Profile Name="Nye baner på fri linje">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>0.055</Y>
     </Point>
     <Point>
      <X>1.275</X>
      <Y>0.055</Y>
     </Point>
     <Point>
      <X>1.600</X>
      <Y>0.375</Y>
     </Point>
     <Point>
      <X>2.200</X>
      <Y>0.375</Y>
     </Point>
     <Point>
      <X>2.200</X>
      <Y>3.800</Y>
     </Point>
     <Point>
      <X>1.860</X>
      <Y>4.900</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>4.900</Y>
     </Point>
    </HalfProfile>
   </Profile>
   <Profile Name="Nye baner på stasjon">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>0.055</Y>
     </Point>
     <Point>
      <X>1.275</X>
      <Y>0.055</Y>
     </Point>
     <Point>
      <X>1.600</X>
      <Y>0.375</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.375</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>2.200</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>2.200</X>
      <Y>3.800</Y>
     </Point>
     <Point>
      <X>1.860</X>
      <Y>4.900</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>4.900</Y>
     </Point>
    </HalfProfile>
   </Profile>
   <Profile Name="A-85 på fri linje">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.280</Y>
     </Point>
     <Point>
      <X>1.550</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>3.440</Y>
     </Point>
     <Point>
      <X>1.740</X>
      <Y>4.100</Y>
     </Point>
     <Point>
      <X>1.040</X>
      <Y>4.800</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>4.800</Y>
     </Point>
    </HalfProfile>
   </Profile>
   <Profile Name="A-85 på stasjon">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.280</Y>
     </Point>
     <Point>
      <X>1.550</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>1.740</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>1.740</X>
      <Y>1.120</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>1.120</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>3.440</Y>
     </Point>
     <Point>
      <X>1.740</X>
      <Y>4.100</Y>
     </Point>
     <Point>
      <X>1.040</X>
      <Y>4.800</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>4.800</Y>
     </Point>
    </HalfProfile>
   </Profile>
   <Profile Name="A-96 på fri linje">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.280</Y>
     </Point>
     <Point>
      <X>1.550</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>3.440</Y>
     </Point>
     <Point>
      <X>1.620</X>
      <Y>4.590</Y>
     </Point>
     <Point>
      <X>1.040</X>
      <Y>4.800</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>4.800</Y>
     </Point>
    </HalfProfile>
   </Profile>
   <Profile Name="A-96 på stasjon">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.280</Y>
     </Point>
     <Point>
      <X>1.550</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>1.740</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>1.740</X>
      <Y>1.120</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>1.120</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>3.440</Y>
     </Point>
     <Point>
      <X>1.620</X>
      <Y>4.590</Y>
     </Point>
     <Point>
      <X>1.040</X>
      <Y>4.800</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>4.800</Y>
     </Point>
    </HalfProfile>
   </Profile>
   <Profile Name="A-96T på fri linje">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.280</Y>
     </Point>
     <Point>
      <X>1.550</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>3.440</Y>
     </Point>
     <Point>
      <X>1.620</X>
      <Y>4.590</Y>
     </Point>
     <Point>
      <X>0.695</X>
      <Y>4.900</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>4.900</Y>
     </Point>
    </HalfProfile>
   </Profile>
   <Profile Name="A-96T på stasjon">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.280</Y>
     </Point>
     <Point>
      <X>1.550</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>1.740</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>1.740</X>
      <Y>1.120</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>1.120</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>3.440</Y>
     </Point>
     <Point>
      <X>1.620</X>
      <Y>4.590</Y>
     </Point>
     <Point>
      <X>1.620</X>
      <Y>4.590</Y>
     </Point>
     <Point>
      <X>0.695</X>
      <Y>4.900</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>4.900</Y>
     </Point>
    </HalfProfile>
   </Profile>
   <Profile Name="A-C på fri linje">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.280</Y>
     </Point>
     <Point>
      <X>1.550</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>3.440</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>4.900</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>4.900</Y>
     </Point>
    </HalfProfile>
   </Profile>
   <Profile Name="A-C på fri stasjon">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.000</Y>
     </Point>
     <Point>
      <X>1.450</X>
      <Y>0.280</Y>
     </Point>
     <Point>
      <X>1.550</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.380</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>1.740</X>
      <Y>0.760</Y>
     </Point>
     <Point>
      <X>1.740</X>
      <Y>1.120</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>1.120</Y>
     </Point>
     <Point>
      <X>2.120</X>
      <Y>3.440</Y>
     </Point>
     <Point>
      <X>1.680</X>
      <Y>4.900</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>4.900</Y>
     </Point>
    </HalfProfile>
   </Profile>
   <Profile Name="E Netto-Trådhøyde-5.6">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>4.800</Y>
     </Point>
     <Point>
      <X>1.275</X>
      <Y>4.800</Y>
     </Point>
     <Point>
      <X>1.275</X>
      <Y>5.345</Y>
     </Point>
     <Point>
      <X>0.971</X>
      <Y>5.600</Y>
     </Point>
     <Point>
      <X>0.350</X>
      <Y>5.600</Y>
     </Point>
     <Point>
      <X>0.350</X>
      <Y>7.400</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>7.400</Y>
     </Point>
    </HalfProfile>
   </Profile>
   <Profile Name="E Brutto-Trådhøyde-5.6m">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>4.800</Y>
     </Point>
     <Point>
      <X>1.425</X>
      <Y>4.800</Y>
     </Point>
     <Point>
      <X>1.425</X>
      <Y>5.500</Y>
     </Point>
     <Point>
      <X>1.130</X>
      <Y>5.835</Y>
     </Point>
     <Point>
      <X>0.585</X>
      <Y>5.835</Y>
     </Point>
     <Point>
      <X>0.585</X>
      <Y>7.800</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>7.800</Y>
     </Point>
    </HalfProfile>
   </Profile>
   <Profile Name="E Netto-Trådhøyde-5.1m">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>4.800</Y>
     </Point>
     <Point>
      <X>1.275</X>
      <Y>4.800</Y>
     </Point>
     <Point>
      <X>1.275</X>
      <Y>4.845</Y>
     </Point>
     <Point>
      <X>0.971</X>
      <Y>5.100</Y>
     </Point>
     <Point>
      <X>0.350</X>
      <Y>5.100</Y>
     </Point>
     <Point>
      <X>0.350</X>
      <Y>6.900</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>6.900</Y>
     </Point>
    </HalfProfile>
   </Profile>
   <Profile Name="E Brutto-Trådhøyde-5.1">
    <HalfProfile>
     <Point>
      <X>0.000</X>
      <Y>4.800</Y>
     </Point>
     <Point>
      <X>1.425</X>
      <Y>4.800</Y>
     </Point>
     <Point>
      <X>1.425</X>
      <Y>5.000</Y>
     </Point>
     <Point>
      <X>1.130</X>
      <Y>5.335</Y>
     </Point>
     <Point>
      <X>0.585</X>
      <Y>5.335</Y>
     </Point>
     <Point>
      <X>0.585</X>
      <Y>7.300</Y>
     </Point>
     <Point>
      <X>0.000</X>
      <Y>7.300</Y>
     </Point>
    </HalfProfile>
   </Profile>
  </Profiles>
 </DisplayGaugeSettings>
 <Relations>
  <SourceSpace>skilt</SourceSpace>
  <Relation Name="Montert på" AskForRelation="false" Color="120">
   <TargetSpace>skiltfeste</TargetSpace>
   <TargetSpace>signal</TargetSpace>
   <TargetSpace>markerboard</TargetSpace>
   <TargetSpace>skilt</TargetSpace>
   <TargetSpace>kl-mast</TargetSpace>
   <RelatesTo Prompt="Montert på" WarnAtSaturation="true" Min="0" Max="1"/>
   <ReverseRelatesTo Prompt="Er montasjemål for" Min="0" Max="inf"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>sporveksel</SourceSpace>
  <Relation Name="Sporveksel-sporveksel kobling" AskForRelation="false" Color="20">
   <TargetSpace>sporveksel</TargetSpace>
   <RelatesTo Prompt="Er koblet med" WarnAtSaturation="true" Min="0" Max="inf"/>
  </Relation>
  <Relation Name="EKV/DKV mekanisk sammenhengende tungesett" AskForRelation="false" Color="20">
   <TargetSpace>sporveksel</TargetSpace>
   <RelatesTo Prompt="Har felles tungesett med" WarnAtSaturation="true" Min="0" Max="1"/>
  </Relation>
  <Relation Name="Sporveksel-sporsperre kobling" AskForRelation="false" Color="20">
   <TargetSpace>sporsperre</TargetSpace>
   <RelatesTo Prompt="Er koblet med" WarnAtSaturation="true" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Er koblet med" WarnAtSaturation="true" Min="0" Max="inf"/>
  </Relation>
  <Relation Name="Sporveksel-skilt for bevegelig kryss" AskForRelation="false" AskForReverseRelation="false" Color="20">
   <TargetSpace>skilt</TargetSpace>
   <RelatesTo Prompt="Har" Min="0" Max="inf" WarnAtSaturation="true"/>
   <ReverseRelatesTo Prompt="Er skilt for" Min="0" Max="1" WarnAtSaturation="true"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>sporvekseltunge</SourceSpace>
  <Relation Name="Sporvekseltunge" AskForRelation="true" Color="200">
   <TargetSpace>sporveksel</TargetSpace>
   <RelatesTo Prompt="Er tunge for" WarnAtSaturation="true" Min="1" Max="1"/>
   <ReverseRelatesTo Prompt="Har" WarnAtSaturation="true" Min="1" Max="1"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>oppkjørsbjelke</SourceSpace>
  <Relation Name="Oppkjørsbjelke" AskForRelation="true" Color="70" RelationLineScale="2">
   <TargetSpace>tellepunkt</TargetSpace>
   <RelatesTo Prompt="Beskytter" WarnAtSaturation="true" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Beskyttet av" WarnAtSaturation="true" Min="0" Max="1"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>kl-annotering</SourceSpace>
  <Relation Name="KL-annotering" AskForRelation="true" Color="4">
   <TargetSpace>kontaktledning</TargetSpace>
   <RelatesTo Prompt="Er KL-annotering for" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Har" Min="0" Max="inf"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>kontaktledning</SourceSpace>
  <Relation Name="KL ledningsføring" AskForRelation="false" AskForReverseRelation="false" Color="20">
   <TargetSpace>utligger</TargetSpace>
   <RelatesTo Prompt="Festet til" WarnAtSaturation="true" Min="1" Max="inf"/>
   <ReverseRelatesTo Prompt="Utligger for" WarnAtSaturation="true" Min="1" Max="1"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>kraftavlasting</SourceSpace>
  <Relation Name="KL kraftavlasting" AskForRelation="false" AskForReverseRelation="true" Color="32">
   <TargetSpace>kontaktledning</TargetSpace>
   <TargetSpace>kl-oppheng</TargetSpace>
   <RelatesTo Prompt="Er opphengt av" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Er oppheng for" WarnAtSaturation="true" Min="1" Max="1"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>utligger</SourceSpace>
  <Relation Name="Mastetilhørighet" AskForRelation="true" Color="200">
   <TargetSpace>kl-mast</TargetSpace>
   <RelatesTo Prompt="Tilhører" WarnAtSaturation="true" Min="1" Max="1"/>
   <ReverseRelatesTo Prompt="Er kl-mast for" WarnAtSaturation="true" Min="0" Max="4"/>
  </Relation>
  <Relation Name="Utliggersekvens" AskForReverseRelation="true" Color="30">
   <TargetSpace>utligger</TargetSpace>
   <RelatesTo Prompt="Neste" WarnAtSaturation="false" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Forrige" WarnAtSaturation="false" Min="0" Max="inf" NumberOfPromptsDuringInsertion="1"/>
  </Relation>
  <Relation Name="Utliggerfiksering" AskForRelation="false" Color="200">
   <TargetSpace>kl-oppheng</TargetSpace>
   <RelatesTo Prompt="Har" WarnAtSaturation="true" Min="1" Max="1"/>
   <ReverseRelatesTo Prompt="Er fixpunktline for" WarnAtSaturation="true" Min="1" Max="1"/>
  </Relation>
  <Relation Name="Kontakttrådklemme" AskForRelation="false" AskForReverseRelation="true" Color="140">
   <TargetSpace>kontakttrådklemme</TargetSpace>
   <RelatesTo Prompt="Har" WarnAtSaturation="true" Min="1" Max="1"/>
   <ReverseRelatesTo Prompt="Tilhører" WarnAtSaturation="true" Min="1" Max="1"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>kl-mast</SourceSpace>
  <SourceSpace>kraftavlasting</SourceSpace>
  <Relation Name="KL-fundamenttilhørighet" AskForRelation="false" AskForReverseRelation="true" Color="254">
   <TargetSpace>kl-fundament</TargetSpace>
   <RelatesTo Prompt="Har" WarnAtSaturation="true" Min="0" Max="1"/>
   <ReverseRelatesTo Prompt="Er kl-fundament for" WarnAtSaturation="true" Min="0" Max="1"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>kl-mast</SourceSpace>
  <Relation Name="Mastesekvens" AskForRelation="false" AskForReverseRelation="true" Color="120">
   <TargetSpace>kl-mast</TargetSpace>
   <RelatesTo Prompt="Neste" WarnAtSaturation="true" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Forrige" WarnAtSaturation="false" Min="0" Max="inf" NumberOfPromptsDuringInsertion="1"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>kl-mast</SourceSpace>
  <Relation Name="Åk-mast" AskForRelation="false" AskForReverseRelation="true" Color="253">
   <TargetSpace>åk</TargetSpace>
   <RelatesTo Prompt="Er åk-mast for" WarnAtSaturation="true" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Er åk holdt oppe av" WarnAtSaturation="false" Min="0" Max="inf" NumberOfPromptsDuringInsertion="2"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>kl-mast</SourceSpace>
  <Relation Name="Hengemast i åk" AskForRelation="true" AskForReverseRelation="false" Color="254">
   <TargetSpace>åk</TargetSpace>
   <RelatesTo Prompt="Er hengemast festet i" Min="0" Max="1" WarnAtSaturation="true" NumberOfPromptsDuringInsertion="1"/>
   <ReverseRelatesTo Prompt="Er åk for hengemast -" Min="0" Max="inf" WarnAtSaturation="false" NumberOfPromptsDuringInsertion="2"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>avspenning</SourceSpace>
  <Relation Name="Avspenning" AskForRelation="true" Color="200">
   <TargetSpace>kontaktledning</TargetSpace>
   <RelatesTo Prompt="Avspenner" WarnAtSaturation="true" Min="1" Max="1"/>
   <ReverseRelatesTo Prompt="Avspennes av" WarnAtSaturation="true" Min="1" Max="1"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>kraftavlasting</SourceSpace>
  <Relation Name="Kraftavlasting" AskForRelation="true" Color="200">
   <TargetSpace>kontaktledning</TargetSpace>
   <TargetSpace>kl-oppheng</TargetSpace>
   <RelatesTo Prompt="Kraftavlaster" WarnAtSaturation="true" Min="1" Max="1"/>
   <ReverseRelatesTo Prompt="Har bardunfeste/streverfeste" WarnAtSaturation="true" Min="0" Max="1"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>apparatskap</SourceSpace>
  <Relation Name="Apparatskaptilhørighet" AskForReverseRelation="false" Color="20">
   <TargetSpace>signal</TargetSpace>
   <TargetSpace>balisegruppe</TargetSpace>
   <TargetSpace>tellepunkt</TargetSpace>
   <TargetSpace>sporvekseldrivmaskin</TargetSpace>
   <TargetSpace>sporsperredrivmaskin</TargetSpace>
   <RelatesTo Prompt="Gjelder for" WarnAtSaturation="true" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Tilhører" WarnAtSaturation="true" Min="0" Max="1"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>avsporingsindikator</SourceSpace>
  <Relation Name="Signaler som settes i stopp" AskForRelation="true" Color="220">
   <TargetSpace>signal</TargetSpace>
   <RelatesTo Prompt="River" Min="1" Max="inf"/>
   <ReverseRelatesTo Prompt="Signal rives av" WarnAtSaturation="true" Min="0" Max="inf"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>signal</SourceSpace>
  <Relation Name="Forsignal" AskForRelation="false" Color="30">
   <TargetSpace>signal</TargetSpace>
   <RelatesTo Prompt="Er forsignal for" WarnAtSaturation="true" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Er forsignalert av" WarnAtSaturation="true" Min="0" Max="inf"/>
  </Relation>
  <Relation Name="Togsporsignal" AskForRelation="false" Color="30">
   <TargetSpace>signal</TargetSpace>
   <RelatesTo Prompt="Er togsporsignal for" WarnAtSaturation="true" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Har togsporsignal" WarnAtSaturation="true" Min="0" Max="inf"/>
  </Relation>
  <Relation Name="Fundamenttilhørighet" AskForReverseRelation="true" Color="254">
   <TargetSpace>signalfundament</TargetSpace>
   <RelatesTo Prompt="Har" WarnAtSaturation="true" Min="1" Max="1"/>
   <ReverseRelatesTo Prompt="Er fundament for" WarnAtSaturation="true" Min="1" Max="inf" NumberOfPromptsDuringInsertion="1"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>tellepunkt</SourceSpace>
  <Relation Name="Akselteller ved signal" Color="140">
   <TargetSpace>signal</TargetSpace>
   <RelatesTo Prompt="Tilhører" WarnAtSaturation="true" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Er signal for" WarnAtSaturation="true" Min="0" Max="inf"/>
  </Relation>
  <Relation Name="Akselteller ved stolpe" Color="200">
   <TargetSpace>stolpe</TargetSpace>
   <RelatesTo Prompt="Tilhører" WarnAtSaturation="true" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Er stolpe for" WarnAtSaturation="true" Min="0" Max="inf"/>
  </Relation>
  <Relation Name="Akseltellersopp (tuningenhet) tilkobling" AskForReverseRelation="true" Color="140" RelationLineScale="1">
   <TargetSpace>akseltellersopp</TargetSpace>
   <RelatesTo Prompt="Har" WarnAtSaturation="true" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Er akseltellersopp for" WarnAtSaturation="true" Min="1" Max="inf" NumberOfPromptsDuringInsertion="1"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>sporvekseldrivmaskin</SourceSpace>
  <Relation Name="Sporvekseltilhørighet sporvekseldrivmaskin" AskForRelation="true" AskForReverseRelation="false" Color="220">
   <TargetSpace>sporveksel</TargetSpace>
   <RelatesTo Prompt="Driver" WarnAtSaturation="true" Min="1" Max="1"/>
   <ReverseRelatesTo Prompt="Har" Min="1" Max="inf" WarnAtSaturation="true"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>sporsperredrivmaskin</SourceSpace>
  <Relation Name="Sporsperretilhørighet sporsperredrivmaskin" AskForRelation="true" Color="220">
   <TargetSpace>sporsperre</TargetSpace>
   <RelatesTo Prompt="Driver" WarnAtSaturation="true" Min="1" Max="1"/>
   <ReverseRelatesTo Prompt="Har" WarnAtSaturation="true" Min="1" Max="1"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>lokalstiller</SourceSpace>
  <Relation Name="Objekttilhørighet lokalstiller" AskForRelation="true" Color="70">
   <TargetSpace>sporveksel</TargetSpace>
   <TargetSpace>sporsperre</TargetSpace>
   <RelatesTo Prompt="Omstiller" WarnAtSaturation="true"/>
   <ReverseRelatesTo Prompt="Omstilles av" WarnAtSaturation="true"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>balise</SourceSpace>
  <Relation Name="Balisegruppe tilhørighet" AskForRelation="true" AskForReverseRelation="false" Color="50">
   <TargetSpace>balisegruppe</TargetSpace>
   <RelatesTo Prompt="Tilhører" Min="1" Max="inf" NumberOfPromptsDuringInsertion="1"/>
   <ReverseRelatesTo Prompt="Inneholder" WarnAtSaturation="true" Min="2" Max="4" NumberOfPromptsDuringInsertion="4"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>balisegruppe</SourceSpace>
  <Relation Name="Objekttilhørighet balisegruppe" AskForRelation="true" Color="120">
   <TargetSpace>signal</TargetSpace>
   <TargetSpace>markerboard</TargetSpace>
   <TargetSpace>skilt</TargetSpace>
   <TargetSpace>stolpe</TargetSpace>
   <TargetSpace>sporveksel</TargetSpace>
   <RelatesTo Prompt="Gjelder for" WarnAtSaturation="true" Min="1" Max="inf"/>
   <ReverseRelatesTo Prompt="Har" Min="1" Max="inf"/>
  </Relation>
  <Relation Name="ATC telegramstyring" AskForRelation="true" Color="200">
   <TargetSpace>signal</TargetSpace>
   <TargetSpace>markerboard</TargetSpace>
   <TargetSpace>skilt</TargetSpace>
   <TargetSpace>stolpe</TargetSpace>
   <TargetSpace>sporveksel</TargetSpace>
   <RelatesTo Prompt="Henter ATC styringsinformasjon fra" Min="0" Max="inf" NumberOfPromptsDuringInsertion="1"/>
   <ReverseRelatesTo Prompt="Avgir ATC styringsinformasjon til" Min="0" Max="inf"/>
  </Relation>
  <Relation Name="ATC2 lenkingskjede" Color="140">
   <TargetSpace>balisegruppe</TargetSpace>
   <RelatesTo Prompt="Lenker til" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Er lenket til fra" Min="0" Max="inf"/>
  </Relation>
  <Relation Name="ATC2 bremsekurve" Color="220">
   <TargetSpace>balisegruppe</TargetSpace>
   <RelatesTo Prompt="Har bremsekurve målpunkt i" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Er bremsekurve målpunkt for" Min="0" Max="inf"/>
  </Relation>
  <Relation Name="ATC2 kodetabell tilhørighet" Color="70">
   <TargetSpace>kodetabell</TargetSpace>
   <RelatesTo Prompt="Tilhører" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Inneholder" Min="0" Max="inf"/>
  </Relation>
  <Relation Name="Posisjon definert av" AskForRelation="true" Color="30">
   <TargetSpace>balise</TargetSpace>
   <RelatesTo Prompt="Har posisjonsdefinerende" WarnAtSaturation="true" Min="1" Max="1"/>
   <ReverseRelatesTo Prompt="Definerer posisjon for" Min="1" Max="inf"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>markør</SourceSpace>
  <Relation Name="Markør" AskForRelation="true" Color="4">
   <TargetSpace>anything</TargetSpace>
   <RelatesTo Prompt="Er markør for" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Har" Min="0" Max="inf"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>etikett</SourceSpace>
  <Relation Name="Etikett" AskForRelation="true" Color="4">
   <TargetSpace>anything</TargetSpace>
   <RelatesTo Prompt="Er etikett for" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Har" Min="0" Max="inf"/>
  </Relation>
 </Relations>
 <Relations>
  <SourceSpace>watch</SourceSpace>
  <Relation Name="Watch" AskForRelation="true" Color="70">
   <TargetSpace>anything</TargetSpace>
   <RelatesTo Prompt="Er watch for" Min="0" Max="inf"/>
   <ReverseRelatesTo Prompt="Har" Min="0" Max="inf"/>
  </Relation>
 </Relations>
 <PropertyCategory Name="Document" Collapsed="false"/>
 <PropertyCategory Name="External data files" Collapsed="false"/>
 <PropertyCategory Name="File" Collapsed="false"/>
 <PropertyCategory Name="Patch" Collapsed="false"/>
 <PropertyCategory Name="Basic" Collapsed="true"/>
 <PropertyCategory Name="General" Collapsed="false"/>
 <PropertyCategory Name="Aligned object" Collapsed="true"/>
 <PropertyCategory Name="3D" Collapsed="true"/>
 <PropertyCategory Name="Model check" Collapsed="false"/>
 <PropertyCategory Name="Custom properties" Collapsed="false"/>
 <PropertyCategory Name="Local variables" Collapsed="true"/>
 <PropertyCategory Name="Earthing" Collapsed="true"/>
 <PropertyCategory Name="Metadata" Collapsed="true"/>
 <PropertyCategory Name="ISY Beskrivelse" Collapsed="true"/>
 <PropertyCategory Name="Presentation" Collapsed="true"/>
 <PropertyCategory Name="CAD" Collapsed="true"/>
 <PropertyCategory Name="Attachment" Collapsed="true"/>
 <PropertyCategory Name="Relations" Collapsed="true"/>
 <PropertyCategory Name="Sections" Collapsed="true"/>
 <PropertyCategory Name="Formulas" Collapsed="true"/>
 <PropertyCategory Name="Main signal" Collapsed="true"/>
 <PropertyCategory Name="Misc" Collapsed="true"/>
 <PropertyCategory Name="Geographical data" Collapsed="true"/>
 <PropertyCategory Name="Object general data" Collapsed="true"/>
 <PropertyCategory Name="Interlocking" Collapsed="true"/>
 <PropertyCategory Name="Switch attributes" Collapsed="true"/>
 <PropertyCategory Name="CAD" Collapsed="true"/>
 <PropertyCategory Name="Alignment" Collapsed="true"/>
 <PropertyOverride Name="id" DisplayName="ID" Category="Basic" Description="The 'id' built-in railML property [readonly String] holds a globally unique identifier. It is generated at object creation and never changed. Making object copies with ordinary CAD system commands or with RailCOMPLETE commands (such as RC-CopySelectionAlongPath) will assign a new globally unique id to each copy."/>
 <PropertyOverride Name="TimeStamp" DisplayName="Timestamp" Category="Basic" Description="The 'TimeStamp' built-in property [readonly ComplexType] holds version history for the object, such as creation time, number of times modified, who modified it etc. The minimum time lapse between registered timestamps is defined in the DNA."/>
 <PropertyOverride Name="RcType" DisplayName="RcType" Category="Basic" Description="The 'RcType' built-in property [readonly Enum] holds the object type name as defined in the current Definition of Network Assets (DNA). Additional info may be given as DisplayName for each object."/>
 <PropertyOverride Name="Variant" DisplayName="Variant" Category="General" Description="The 'Variant' built-in property [Enum] holds the currently selected Variant for the object. If the DNA object type declaration does not define any Variants, then the Variant property is void."/>
 <PropertyOverride Name="code" DisplayName="Code" Category="General" Description="The 'code' built-in railML property typically holds an alphanumerical string which is suitable for machine interpretation, identfying the object in a limited context. E.g., a point machine could derive its code (e.g.: '501_3') from its position within a switch ('3') and the switch's own code ('501'). The same code may appear several times within one model, but in different contexts (e.g.: different stations)."/>
 <PropertyOverride Name="name" DisplayName="Name" Category="General" Description="The 'name' built-in railML property typically holds a more ornamented version of the object's code, making it suitable for human reading but not for further parsing. Example: 'Drv.501_3' ('point drive machine 501.3'). Most objects will show their 'name' property as a text element in the CAD drawing, along with the symbol's 2D graphics. Hide/unhide text in the drawing using the ShowLayer tool."/>
 <PropertyOverride Name="lang" DisplayName="Language" Suppressed="true" Description="The embedded 'lang' (language) shall not be available to this railway administration."/>
 <PropertyOverride Name="Stage" DisplayName="Stage" Category="General" Description="The 'Stage' built-in property holds a free-format string encoding the object's placement in the succession of construction stages for your project. Hint: Append '_stage2000-6000' etc to your object layer names and assign a formula: Stage = layer:sub(-9), then use the ManageStagesUsinglayerNames tool to select the active stage."/>
 <PropertyOverride Name="dir" DisplayName="Direction" Category="Aligned object" Description="The 'dir' built-in railML enum property [up, down, both, none, unknown] holds the basic orientation of a point object. "/>
 <PropertyOverride Name="Alignment" DisplayName="Own Alignment" Category="Aligned object" Description="The 'Alignment' built-in property [TrackRef] refers to the alignment that the object belongs to, also referred to as its 'own alignment'. The point object's mileage property is the mileage  found perpendicularly to this own alignment."/>
 <PropertyOverride Name="ReferenceAlignment" DisplayName="Referance Alignment" Category="Aligned object" Description="The 'ReferenceAlignment' built-in property [TrackRef] refers to the alignment that the object's own alignment has appointed as it's 'parent' (reference) (at the point object's current location). See the Alignment Manager tools's tab named 'Reference'. The point object's referenceMileage property is the mileage found perpendicularly to this reference alignment."/>
 <PropertyOverride Name="TargetAlignment" DisplayName="Target Aligment" Category="Aligned object" Description="The 'Target Alignment' built-in property [TrackRef] refers to the other alignment that the object connects to, designating a continuation, a branch or a crossing."/>
 <PropertyOverride Name="geoCoord" Category="3D" Description="The 'geoCoord' built-in railML property [Triplet {X,Y,Z}] holds the 'real' position, expressed in World coordinates. This triplet is the basis for all geometrical computations involving the point object."/>
 <PropertyOverride Name="Seq" DisplayName="Sequence Number" Category="Local variables" Description="The 'Seq' built-in property [Integer] is a freely usable integer. It is typically used as a running number when it is convenient to put a formula to the code property, e.g.: code = 'Xyzzy-'..seq*2. Hint: Use the Object Manager's 'Fill series' to generate a Seq sequence n, n+1, n+2n...."/>
 <PropertyOverride Name="LuaExpressions" DisplayName="Lua expressions" Category="Formulas"/>
 <PropertyOverride Name="Description" DisplayName="Beskrivelsestekst" Category="Metadata"/>
 <PropertyOverride Name="SymbolFrame" Category="Presentation"/>
 <PropertyOverride Name="Color" Category="CAD"/>
 <PropertyOverride Name="Layer" Category="CAD"/>
 <PropertyOverride Name="Linetype" Category="CAD"/>
 <PropertyOverride Name="Lineweight" Category="CAD"/>
 <PropertyOverride Name="GlobalWidth" Category="CAD"/>
 <PropertyOverride Name="TargetAlignment" Category="Connections" Description="The 'TargetAlignment' built-in property [Reference] holds an object reference to the alignment that branches out from a continued track at a stock rail joint."/>
 <PropertyOverride Name="SwitchGeometry" Category="Connections"/>
 <PropertyOverride Name="ConnectionCourse" Category="Connections"/>
 <PropertyOverride Name="ContinuingWithBegin" Category="Connections"/>
 <PropertyOverride Name="ExtendingFromEnd" Category="Connections"/>
 <PropertyOverride Name="model"/>
 <PropertyOverride Name="kind"/>
 <PropertyOverride Name="derailSide" DisplayName="Avsporingsretning"/>
 <LuaFunction Name="RC__getCollectionOfRelatedObjects()" ReturnType="Collection,Int" Description="Returns a collection of objects connected through the specified relation, and the number of related objects found. Source object and visibility are optional arguments.">
  <Constructor>int RC_toint(double x)</Constructor>
  <Formula>function RC__toint(x) return string.format("%.0f",x) end</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getCollectionOfRelatedObjects()" ReturnType="Collection,Int" Description="Returns a collection of objects connected through the specified relation, and the number of related objects found. Source object and visibility are optional arguments.">
  <Constructor>Collection,Int RC__getCollectionOfRelatedObjects(String RelationName [,Reference Source [,Boolean Invisible]])</Constructor>
  <Formula>
			function RC__getCollectionOfRelatedObjects(RelationName,Source,Invisible)
				if Invisible then Invisible = true else Invisible = false end
				Source = Source or this
				--Is source a real object reference with an id?
				if Source.id == nil then
					return {},0,_warning,_info("*** RC__getCollectionOfRelatedObjects: Bad source object reference '"..tostring(Source).."'.")
				end
				if RelationName == nil then
					return {},0,_warning,_info("Missing relation name in function call.")
				elseif Source.Relations == nil then
					return {},0,_warning,_info("*** RC__getCollectionOfRelatedObjects: No such relation '"..RelationName.."' for object type '"..Source.RcType.."'.")
				end
				local r = Source.Relations[RelationName]
				if r == nil then
					return {},0
				elseif Invisible then
					return r,getCollectionLength(r)
				else
					r = r:filter(function (x) return x:isVisible() end)
					return r,getCollectionLength(r)
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getAngleFromDir()" ReturnType="Double" Description="Returns the angle in Decimal Degrees corresponding to the given direction [up | down | both | none | unknown]. 'Direction' and 'Rightsided' are optional arguments.">
  <Constructor>Double RC__getAngleFromDir([LaxDirection Direction [,Boolean RightSided]])</Constructor>
  <Formula>
			function RC__getAngleFromDir(d,rs)
				if d == nil then
					d = dir
					rs = RightSided
				elseif rs == nil then
					rs = false
				end
				if dir == 'up' then return 0
				elseif dir == 'down' then return 180
				elseif dir == 'both' then return rs and -90 or 90
				elseif dir == 'none' then return rs and 90 or -90 
				elseif dir == 'unknown' then return 45 
				else return 45,_info("Bad direction '"..d.."'.")
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getMileageFromRelatedObject()" ReturnType="Double" Description="Returns the mileage for the projection of the related object onto the calling object's own alignment. Source object is an optional argument.">
  <Constructor>Double RC__getMileageFromRelatedObject(String RelationName [,Reference Source])</Constructor>
  <Formula>
			function RC__getMileageFromRelatedObject(RelationName,Source)
				Source = Source or this
				if RelationName == nil then 
					return getPropertyValue("Mileage"),_warning,_info("Missing relation name in function call.")
				end
				local r,n = RC__getCollectionOfRelatedObjects(RelationName,Source)
				if n == 0 then 
					return getPropertyValue("Mileage"),_info("Object has no visible relation of type '"..RelationName.."'.")
				elseif n == 1 then 
					return getAlignmentInfo(Source.Alignment.id, r[0].geocoord.X, r[0].geoCoord.Y).Mileage,
						_info("Mileage deduced from object '"..RC__identify(r[0]).."' related by '"..RelationName.."'.")
				else
					return _warning,
						getAlignmentInfo(Source.Alignment.id, r[0].geocoord.X, r[0].geoCoord.Y).Mileage,
						_info("Mileage deduced from object '"..RC__identify(r[0]).."' related by '"..RelationName.."' (Note: more relations exist).")
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getDistanceToAlignmentFromRelatedObject()" ReturnType="Double" Description="Returns the distance to alignment for the projection of the related object onto the calling object's own alignment. Source object is an optional argument.">
  <Constructor>Double RC__getDistanceToAlignmentFromRelatedObject(String RelationName [,Reference Source])</Constructor>
  <Formula>
			function RC__getDistanceToAlignmentFromRelatedObject(RelationName,Source)
				local r,n
				Source = Source or this
				if RelationName == nil then 
					return getPropertyValue("DistanceToAlignment"),_warning,_info("Missing relation name in function call.")
				end
				r,n = RC__getCollectionOfRelatedObjects(RelationName,Source)
				if n == 0 then 
					return getPropertyValue("DistanceToAlignment"),_info("Object has no visible relation of type '"..RelationName.."'.")
				elseif n == 1 then 
					return getAlignmentInfo(Source.Alignment.id, r[0].geocoord.X, r[0].geoCoord.Y).DistanceToAlignment,
						_info("DistanceToAlignment deduced from object '"..RC__identify(r[0]).."' related by '"..RelationName.."'.")
				else
					return _warning,
						getAlignmentInfo(Source.Alignment.id, r[0].geocoord.X, r[0].geoCoord.Y).DistanceToAlignment,
						_info("DistanceToAlignment deduced from object '"..RC__identify(r[0]).."' related by '"..RelationName.."' (Note: more relations exist).")
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getRelativeElevationFromRelatedObject()" ReturnType="Double" Description="Returns the relative elevation above for the projection of the related object onto the calling object's own alignment. Source object is an optional argument.">
  <Constructor>Double RC__getRelativeElevationFromRelatedObject(String RelationName [,Reference Source])</Constructor>
  <Formula>
			function RC__getRelativeElevationFromRelatedObject(RelationName,Source)
				local r,n
				Source = Source or this
				if RelationName == nil then 
					return getPropertyValue("RelativeElevation"),_warning,_info("Missing relation name in function call.")
				end
				r,n = RC__getCollectionOfRelatedObjects(RelationName,Source)
				if n == 0 then 
					return getPropertyValue("RelativeElevation"),_info("Object has no visible relation of type '"..RelationName.."'.")
				elseif n == 1 then 
					return r[0].geoCoord.Z - getAlignmentInfo(Source.Alignment.id, r[0].geocoord.X, r[0].geoCoord.Y).Elevation,
						_info("RelativeElevation deduced from object '"..RC__identify(r[0]).."' related by '"..RelationName.."'.")
				else
					return _warning,
						r[0].geoCoord.Z - getAlignmentInfo(Source.Alignment.id, r[0].geocoord.X, r[0].geoCoord.Y).Elevation,
						_info("RelativeElevation deduced from object '"..RC__identify(r[0]).."' related by '"..RelationName.."' (Note: more relations exist).")
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getAngularOffsetFromRelatedObject()" ReturnType="Double" Description="Returns the angular offset for the projection of the related object onto the calling object's own alignment. Source object is an optional argument.">
  <Constructor>Double RC__getAngularOffsetFromRelatedObject(String RelationName [,Reference Source])</Constructor>
  <Formula>
			function RC__getAngularOffsetFromRelatedObject(RelationName,Source)
				local r,n
				Source = Source or this
				if RelationName == nil then 
					return getPropertyValue("AngularOffset"),_warning,_info("Missing relation name in function call.")
				end
				r,n = RC__getCollectionOfRelatedObjects(RelationName,Source)
				if n == 0 then 
					return getPropertyValue("AngularOffset"),_info("Object has no visible relation of type '"..RelationName.."'.")
				elseif n == 1 then
					return r[0].AngularOffset + (r[0].AlignmentTangent - Source.AlignmentTangent) * 180.0/math.pi,
						_info("AngularOffset deduced from object '"..RC__identify(r[0]).."' related by '"..RelationName.."'.")
				else
					return _warning,
						r[0].AngularOffset + (r[0].AlignmentTangent - Source.AlignmentTangent) * 180.0/math.pi,
						_info("AngularOffset deduced from object '"..RC__identify(r[0]).."' related by '"..RelationName.."' (Note: more relations exist).")
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getDirFromRelatedObject()" ReturnType="Double" Description="Returns the direction (Dir) from related object. Source object is an optional argument.">
  <Constructor>Double RC__getDirFromRelatedObject(String RelationName [,Reference Source])</Constructor>
  <Formula>
			function RC__getDirFromRelatedObject(RelationName,Source)
				local r,n
				Source = Source or this
				if RelationName == nil then 
					return getPropertyValue("Dir"),_warning,_info("Missing relation name in function call.")
				end
				r,n = RC__getCollectionOfRelatedObjects(RelationName,Source)
				if n == 0 then 
					return getPropertyValue("Dir"),_info("Object has no visible relation of type '"..RelationName.."'.")
				elseif n == 1 then
					return r[0].Dir,_info("Direction (Dir) deduced from object '"..RC__identify(r[0]).."' related by '"..RelationName.."'.")
				else
					return _warning,
						r[0].AngularOffset + (r[0].AlignmentTangent - Source.AlignmentTangent) * 180.0/math.pi,
						_info("Direction (Dir) deduced from object '"..RC__identify(r[0]).."' related by '"..RelationName.."' (Note: more relations exist).")
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__acsVector2wcsVector()" ReturnType="String" Description="Converts an Alignment Coordinate System (ACS) 2D vector into a World Coordinate System (WCS) 2D vector. Usage: wx,wy = RC__acsVector2wcsVector(lateralOffset,alongOffset) or wx,wy = RC__acsVector2wcsVector(lateralOffset,alongOffset,alongAxisWcsAngle).">
  <Constructor>Double,Double RC__acsVector2wcsVector(lateralOffset,alongOffset [,alongAxisWcsAngle = this.AlignmentTangent])</Constructor>
  <Formula>
			function RC__acsVector2wcsVector(acsX,acsY)
				--ACS = "Alignment Coordinate System", a basic RailCOMPLETE concept: 
				--acsX = Lateral offset to the right, perpendicular to the object's alignment axis
				--acsY = ALong offset in the direction of increasing distAlong, along the object's alignment axis
				--WCS = World Coordinate System, the CAD system's underlying absolute Cartesian coordinate system (XY-plane).
				local angle
				if alongAxisWcsAngle then 
					angle = math.rad(alongAxisWcsAngle - 90) --Subtract 90 DD since RailCOMPLETE ACS is 90 degrees off from Ifc / ISO 10303 usual axis definitions.
				else 
					angle = math.rad(this.AlignmentTangent - 90)
				end
				return acsX*math.cos(angle) + acsY*math.sin(angle), - acsX*math.sin(angle) + acsY*math.cos(angle)
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__identify()" ReturnType="String" Description="Returns the object's name if non-empty, or its code if non-empty, otherwise returns its ID. Addresses the calling object if no object reference is given.">
  <Constructor>String RC__identify([Reference obj])</Constructor>
  <Formula>
			function RC__identify(obj)
				obj = obj or this
				local t = obj:getPropertyValue("name")
				if t and t ~= "" then return t end
				t = obj:getPropertyValue("code")
				if t and t ~= "" then return t
				else return tostring(obj:getPropertyValue("id"))
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__isNan()" ReturnType="Bool" Description="Returns true if input value is NaN (not a number), otherwise returns false.">
  <Constructor>Bool RC__isNan(Double value)</Constructor>
  <Formula>function RC__isNan(x) return x ~= x end</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getUrlExtension()" ReturnType="String" Description="Returns filename extension (file type). Default url is the current document.">
  <Constructor>String RC__getUrlExtension([String url])</Constructor>
  <Formula>
			function RC__getUrlExtension(url)
				if url == nil then url = DocumentData.DocumentName end
				return url:match("[%.]([^%.]-)$") -- Extension
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getUrlDriveAndFolderAndFilename()" ReturnType="String" Description="Returns drive letter, folder name and file name. Default url is the current document.">
  <Constructor>String RC__getUrlDriveAndFolderAndFilename([String url])</Constructor>
  <Formula>
			function RC__getUrlDriveAndFolderAndFilename(url)
				if url == nil then url = DocumentData.DocumentName end
				return url:match("(.-)[%.][^%.]-$") -- Drive letter, folder and filename without extension
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getUrlDriveAndFolder()" ReturnType="String" Description="Returns drive letter and folder name. Default url is the current document.">
  <Constructor>String RC__getUrlDriveAndFolder([String url])</Constructor>
  <Formula>
			function RC__getUrlDriveAndFolder(url)
				if url == nil then url = DocumentData.DocumentName end
				return url:match("(.-)[\\/][^\\/]-$") -- Drive letter and folder name
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getUrlDrive()" ReturnType="String" Description="Returns drive letter. Default url is the current document.">
  <Constructor>String RC__getUrlDrive([String url])</Constructor>
  <Formula>
			function RC__getUrlDrive(url)
				if url == nil then url = DocumentData.DocumentName end
				return url:match("(.-)[:][^:]-$") -- Drive letter(s)
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getUrlFilename()" ReturnType="String" Description="Returns filename without extension. Default url is the current document.">
  <Constructor>String RC__getUrlFilename([String url])</Constructor>
  <Formula>
			function RC__getUrlFilename(url)
				if url == nil then url = DocumentData.DocumentName end
				return url:match("[\\/]?([^\\/]-)[%.][^%.]-$") -- Filename without extension
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getUrlFilenameAndExtension()" ReturnType="String" Description="Returns filename with extension. Default url is the current document.">
  <Constructor>String RC__getUrlFilenameAndExtension([String url])</Constructor>
  <Formula>
			function RC__getUrlFilenameAndExtension(url)
				if url == nil then url = DocumentData.DocumentName end
				return url:match("[\\/]?([^\\/]-)$") -- Filename and extension
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__sub()" ReturnType="String" Description="Returns a substring of the input string, starting with its i-th multibyte letter and ending with its j-th multibyte letter (the built-in Lua method sub() will treat a string just as an array of individual bytes). By default, i=1 and j=i.">
  <Constructor>String RC__sub(String s [,Int i [,Int j]])</Constructor>
  <Formula>
			function RC__sub(s,i,j)
				local p,r,c,t
				if s == nil then s = "" end
				if type(s) ~= "string" then s = tostring(s) end
				if i == nil then i = 1 end
				if j == nil then j = s:len() end
				p = 1
				r = 1
				while r &lt; i and p &lt;= s:len() do
					c = s:sub(p,p):byte()
					if c >= 128 then --Assume 2-byte code
						p = p+2
					else
						p = p+1
					end
					r = r+1
				end
				t = ""
				while r &lt;= j and p &lt;= s:len() do
					c = s:sub(p,p):byte()
					if c &gt;= 128 then --Assume 2-byte code
						if p &lt; s:len() then 
							t = t..s:sub(p,p+1) 
						end
						p = p+2
					else
						t = t..s:sub(p,p)
						p = p+1
					end
					r = r+1
				end
				return t
			end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="RC__round()" ReturnType="String" Description="Rounds floating point input x to p [-6..6] decimal places. Default precision is 0 decimals.">
  <Constructor>Double RC__round(Double x [, Int p])</Constructor>
  <Formula>
			function RC__round(x,p) 
				if math.abs(x) == math.huge then return x end --plus/minus Inf
				if p == nil then p = 0 end
				p = math.floor(p)
				if p &lt; -6 or p &gt; 6 then
					return "Precision ["..p.."] must be from -6 to 6, cannot format value ["..x.."]",_warning
				elseif p == 6 then x = string.format("%.6f",math.floor((x+0.5*1e-6)*1e6)/1e6)
				elseif p == 5 then x = string.format("%.5f",math.floor((x+0.5*1e-5)*1e5)/1e5) 
				elseif p == 4 then x = string.format("%.4f",math.floor((x+0.5*1e-4)*1e4)/1e4) 
				elseif p == 3 then x = string.format("%.3f",math.floor((x+0.5*1e-3)*1e3)/1e3) 
				elseif p == 2 then x = string.format("%.2f",math.floor((x+0.5*1e-2)*1e2)/1e2) 
				elseif p == 1 then x = string.format("%.1f",math.floor((x+0.5*1e-1)*1e1)/1e1) 
				elseif p == 0 then x = string.format("%d",math.floor((x+0.5*1e0)*1e0)/1e0)
				elseif p == -1 then x = string.format("%d",math.floor((x+0.5*1e1)*1e-1)/1e-1) 
				elseif p == -2 then x = string.format("%d",math.floor((x+0.5*1e2)*1e-2)/1e-2)
				elseif p == -3 then x = string.format("%d",math.floor((x+0.5*1e3)*1e-3)/1e-3)
				elseif p == -4 then x = string.format("%d",math.floor((x+0.5*1e4)*1e-4)/1e-4)
				elseif p == -5 then x = string.format("%d",math.floor((x+0.5*1e5)*1e-5)/1e-5)
				elseif p == -6 then x = string.format("%d",math.floor((x+0.5*1e6)*1e-6)/1e-6)
				end
				return tonumber(x)
			end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="RC__snap()" ReturnType="String" Description="Returns nearest multiple of step size. Default step size is 3. E.g., 4.51 => 6 and -7.49 => -6.">
  <Constructor>Double RC__snap(Double x [, Double stepSize])</Constructor>
  <Formula>
			function RC__snap(x,stepSize) 
				if stepSize == nil then 
					if x == nil then
						return 0,_warning
					else
						stepSize = 3
					end
				end
				stepSize = math.floor(math.abs(stepSize))
				if stepSize == 0 then
					return 0
				else
					return stepSize * math.floor((x / stepSize) + 0.5)
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getNearest3DStep()" ReturnType="Double" Description="Returns the nearest step value larger then the given argument (default is 10) which results in a complete 3D sweep of an alignment to ensure that the last sampled point is at the end of the alignment.">
  <Constructor>Double RC__getNearest3DStep(step) </Constructor>
  <Formula>
			function RC__getNearest3DStep(step)
				if step == nil then step = 10 end
				local a = RcAlignment
				-- is the caller an alignment?
				if a == nil then return step end
				local L = a.HorizontalProfile.Length
				if step &lt;= 0 or step &gt;= L then 
					return (L - 1e-3)
				else
					N = math.floor(L/step)
					return L/N - 1e-4
					--Note: if N gets very large then there might be a noticeable "missing link" at the end of the alignment
				end 
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__isMemberOf()" ReturnType="Boolean" Description="Returns true if table/collection/dictionary t contains object o. 'o' may be part of a numbered Lua sequence {3,5,7,11} or a value in a key/value pair {x=3,y=5,z=7,u=11}.">
  <Constructor>Boolean RC__isMemberOf(table t, Object o) </Constructor>
  <Formula>
			function RC__isMemberOf(t,obj) 
				local i
				if getTableValue(t) == nil and type(t) == "table" then
					-- A genuine Lua table, convert it to RailCOMPLETE/C# collection object (deleting the keys from key/value pairs):
					t = getCollectionFromTable(t)
					--Collections respond correctly to the '.count' attribute:
					for i = 0, t.count-1 do
						if t[i] == obj then 
							return true
						end
					end
				end
				return false
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__sortTable()" ReturnType="Table" Description="Returns a sorted table (indexed 1,2,...).">
  <Constructor>table RC__sortTable(table t)</Constructor>
  <Formula>
			function RC__sortTable(t)
				local u,v,n,i,j,k,lo
				if t == nil then return nil,_error end
				if type(t) ~= type({}) then return '***',_warning end
				--Insertion sort, ok for small tables. TODO: Implement QuickSort for larger tables.
				u = {}
				v = {}
				n = 0
				while t[n+1] do
					n = n + 1
					table.insert(u,t[n])
				end		
				for i = 1, n do
					lo = math.huge
					for j = 1, n-i+1 do
						if u[j] &lt; lo then 
							lo = u[j]
							k = j 
						end
					end
					table.insert(v,table.remove(u,k)) --insert smallest number from u into v
				end
				return v
			end 
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__toKm()" ReturnType="String" Description="Converts input x [m] into mileage [km] with precision p (0..6), default precision is 3. E.g., 462371.637 => 462.372.">
  <Constructor>Double RC__toKm(Double x [, Int p])</Constructor>
  <Formula>
			function RC__toKm(x,p) 
				if p == nil then 
					if x == nil then
						return 0.0,_warning
					else
						p = 3
					end
				end
				p = math.floor(math.abs(p))
				if p &lt; 0 or p &gt; 6 then
					return "Precision ["..p.."] must be from 0 to 6, cannot format value ["..x.."]",_warning
				elseif p == 0 then return string.format("%.0f",math.floor((x+0.5*1e3)*1e-3)/1e0)
				elseif p == 1 then return string.format("%.1f",math.floor((x+0.5*1e2)*1e-2)/1e1)
				elseif p == 2 then return string.format("%.2f",math.floor((x+0.5*1e1)*1e-1)/1e2) 
				elseif p == 3 then return string.format("%.3f",math.floor((x+0.5*1e0)*1e0)/1e3)
				elseif p == 4 then return string.format("%.4f",math.floor((x+0.5*1e-1)*1e1)/1e4) 
				elseif p == 5 then return string.format("%.5f",math.floor((x+0.5*1e-2)*1e2)/1e5) 
				elseif p == 6 then return string.format("%.6f",math.floor((x+0.5*1e-3)*1e3)/1e6) 
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getDistance2D()" ReturnType="Double" Description="Returns the Euclidian distance in the XY plane between inputs p1 and p2, each being geoCoord or table {['X']=x,['Y']=y}. p2 is by default the calling object. Z's are ignored.">
  <Constructor>Double RC__getDistance2D(Point p1 [,Point p2])</Constructor>
  <Formula>
			function RC__getDistance2D(p1,p2) 
				local x1,x2,y1,y2
				if p1 == nil then 
					return 0,_warning --bad args
				elseif p2 == nil then
					p2 = this
				end
				if p1.geoCoord then 
					x1 = p1.geoCoord.X
					y1 = p1.geoCoord.Y
				elseif p1.X then 
					x1 = p1.X
					y1 = p1.Y
				else
					return 0,_warning,_info("First point has no X coordinate.")
				end
				if p2.geoCoord then 
					-- Ordinary RailwayPlacedObject
					x2 = p2.geoCoord.X
					y2 = p2.geoCoord.Y
				elseif p2.X then 
					x2 = p2.X
					y2 = p2.Y
				else
					return 0,_warning,_info("Second point has no X coordinate.")
				end
				return math.sqrt(math.pow(x2-x1,2) + math.pow(y2-y1,2))
			end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="RC__getDistance3D()" ReturnType="Double" Description="Returns the Euclidian distance in XYZ space between inputs p1 and p2, each being geoCoord or table {['X']=x,['Y']=y,['Z']=z}. p2 is by default the calling object. Z's are 0 if missing.">
  <Constructor>Double RC__getDistance3D(Point p1 [,Point p2])</Constructor>
  <Formula>
			function RC__getDistance3D(p1,p2) 
				local x1,x2,y1,y2,z1,z2
				-- This code will work both for railML geoCoord entities and for tables using "X", "Y" and "Z" as indices. 
				if p1 == nil then
					return 0,_warning --bad args
				elseif p2 == nil then
					p2 = this
				end
				if p1.geoCoord then 
					x1 = p1.geoCoord.X
					y1 = p1.geoCoord.Y
					z1 = p1.geoCoord.Z
				elseif p1.X then 
					x1 = p1.X
					y1 = p1.Y
					z1 = p1.Z == nil and 0 or p1.Z
				else
					return 0,_warning,_info("First point has no X coordinate.")
				end
				if p2.geoCoord then 
					x2 = p2.geoCoord.X
					y2 = p2.geoCoord.Y
					z2 = p2.geoCoord.Z
				elseif p2.X then 
					x2 = p2.X
					y2 = p2.Y
					z2 = p2.Z == nil and 0 or p2.Z
				else
					return 0,_warning,_info("Second point has no X coordinate.")
				end
				return math.sqrt(math.pow(x2-x1,2) + math.pow(y2-y1,2) + math.pow(z2-z1,2))
			end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="RC_com_getNearestEntireKm()" ReturnType="String" Description="Returns object's reference mileage's whole km when also half km is to be shown, e.g., 461.749 => 461 (half km is 5) and 461.750 => 462 (half km is 0).">
  <Constructor>Int RC_com_getNearestEntireKm([RailwayPlacedObject obj])</Constructor>
  <Formula>
			function RC_com_getNearestEntireKm(obj)
				if obj == nil then
					obj = this
				end
				return math.floor(math.floor((obj.ReferenceMileage/500)+.5)/2)
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC_com_getNearestEntireKm2()" ReturnType="String" Description="Returns object's reference mileage's whole km when the half km is not to be shown, e.g., 461.749 => 462 (no half km) and 461.750 => 462 (no half km).">
  <Constructor>Int RC_com_getNearestEntireKm2([RailwayPlacedObject obj])</Constructor>
  <Formula>
			function RC_com_getNearestEntireKm2(obj)
				if obj == nil then
					obj = this
				end
				return math.floor(math.floor(obj.ReferenceMileage/1000 + 0.5))
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC_com_getNearestHalfKm()" ReturnType="String" Description="Returns object's reference mileage's half km (0 or 5), e.g., 461.750 => 0 (whole km is 461) and 462.372 => 5 (whole km is 462).">
  <Constructor>Int RC_com_getNearestHalfKm([RailwayPlacedObject obj])</Constructor>
  <Formula>
			function RC_com_getNearestHalfKm(obj)
				if obj == nil then
					obj = this
				end
				return (math.floor((obj.ReferenceMileage/500)+0.5)%2)*5
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC_com_getLabelItem1()" ReturnType="String" Description="Returns the ReferenceMileage, formated as Km.&lt;value&gt;, for the label's own insertion point.">
  <Constructor>String RC_com_getLabelItem1()</Constructor>
  <Formula>
			function RC_com_getLabelItem1()
				return "Km."..RC__toKm(referenceMileage,3)
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC_com_getLabelItem2()" ReturnType="String" Description="Returns a list consisting of the Code for each item related to the label (labels can relate to anything).">
  <Constructor>String RC_com_getLabelItem2()</Constructor>
  <Formula>
			function RC_com_getLabelItem2()
				local r,n,s,i
				s = "Er etikett for anything"
				r,n = RC__getCollectionOfRelatedObjects(s)
				if n == 0 then 
					return "UNFINISHED - Relate with '"..s.."'."
				else
					t = "("..r[0].code
					for i = 1, n-1 do
						t = t..", "..r[i].code
					end
					return t..")"
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC_com_getLabelItem3()" ReturnType="String" Description="Returns the reference alignment Code for the label itself (not for a related item).">
  <Constructor>String RC_com_getLabelItem3()</Constructor>
  <Formula>
			function RC_com_getLabelItem3()
				return "(Ref. "..referenceAlignment.code..")"
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="RC_com_getAreasOfVariant()" ReturnType="Collection of RcArea" Description="Returns a count and a collection of visible areas of the given variant, enclosing the object.">
  <Constructor>Int, Collection of RcArea RC_com_getAreasOfVariant(String areaVariantName [, String guidString])</Constructor>
  <Formula>
			function RC_com_getAreasOfVariant(areaVariantName, guidString)
				local obj = guidString and getObjectFromId(guidString) or this
				local areas = obj.RcArea:filter(function (x) return x:isVisible() and x.Variant:match(areaVariantName) end)
				return areas.count,areas
			end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="RC_com_getOcpStationReference()" ReturnType="ObjRef" Description="Returns an object reference for the current Operation Control Point (OCP) area, or nil if not contained in any (visible) OCP area.">
  <Constructor>ObjRef RC_com_getOcpStationReference()</Constructor>
  <Formula>
			function RC_com_getOcpStationReference()
				local OcpAreas = RcArea:filter(function (x) return x:isVisible() and x.Variant:lower():match("ocp") end)
				return getCollectionLength(OcpAreas) == 0 and "" or OcpAreas[0] --a GUID string.
			end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="RC_com_getOcpStationRef()" ReturnType="ObjRef" Description="Included for backwards compatilbility. Calls RC_com_getOcpStationReference(), which returns an ObjRef and not a GUID string as mandataed by railML." HideFromUser="false">
  <Constructor>ObjRef RC_com_getOcpStationRef()</Constructor>
  <Formula>
			function RC_com_getOcpStationRef()
				return RC_com_getOcpStationReference()
			end
       </Formula>
 </LuaFunction>
 <LuaFunction Name="RC_com_getOcpCode()" ReturnType="String" Description="Returns the code property for the Operation / Control Point (OCP) area surrounding the object.">
  <Constructor>String RC_com_getOcpCode([Reference obj])</Constructor>
  <Formula>
			function RC_com_getOcpCode(obj)
				local OcpAreas,n
				obj = obj or this
				local OcpAreas = obj.RcArea:filter(function (x) return x:isVisible() and x.Variant:lower():match("ocp") end)
				n = getCollectionLength(OcpAreas)
				if n == 0 then 
					return "(UNFINISHED - No 'OCP område' area enclosing object.)"
				elseif n == 1 then
					return OcpAreas[0].code
				else
					return "(*** Multiple 'OCP område' areas enclosing object ["..RC__identify(OcpAreas[0])..", "..RC__identify(OcpAreas[1]).." ...]."
				end
			end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN__setSymbolFrame()" ReturnType="String" Description="Checks object model check attributes for warnings and errors, turns on the corresponding symbol frame (_error/_warning/[no frame]).">
  <Constructor>String NOBN__setSymbolFrame()</Constructor>
  <Formula>
			function NOBN__setSymbolFrame()
				-- More symbol frame types may be available - see the appropriate Style Definitions file.
				_language = 1 -- 1:English, 2:Norwegian, 3:French, 4:German
				_frames = { 
					UNFINISHED	= { "Unfinished",	"Uferdig",		"Incomplet",		"Inkomplett"		},
					HISTORIC	= { "Historic",		"Historisk",	"Historique",		"Historisch"		},
					ERROR		= { "Error",		"Feil",			"Erreur",			"Fehlerhaft"		},
					WARNING		= { "Warning",		"Advarsel",		"Avertissement",	"Warnung"			},
					SECTION_TAG	= { "section",		"avsnitt",		"zone",				"Abschnitt"			},
					SECTION		= { "Section-2.75",	"Section-2.75",	"Section-2.75",		"Abschnitt-2.75"	}
				}
			
				--Priority: Show HISTORIC then INCOMPLETE then ERROR then WARNING then OTHER or NO_FRAME

				-- By convention, historic layers have names starting with the 'at' character '@':
				if (layer:sub(1,1) == '@') then
					return _frames.HISTORIC[_language]
				end
				
				t = _frames.UNFINISHED[_language]
				if code:upper():match(t:upper()) or name:upper():match(t:upper()) then 
					return t
				end
				
				--Check for errors or warnings:
				modelChecks = LuaExpressions:filter(function(x) return x.IsModelCheck end)
				if (modelChecks:filter(function(x) return x.Symbol == "_error" end).Count &gt; 0) then 
					return _frames.ERROR[_language]
				elseif (modelChecks:filter(function(x) return x.Symbol == "_warning" end).Count &gt; 0) then
					return _frames.WARNING[_language]
				end
			
				--Deal with axle counter special section objects (the layer name will depend on the DNA in use):
				if RcType:upper():match(_frames.SECTION_TAG[_language]:upper()) then 
					return _frames.SECTION[_language]
				end
				
				return "" --no frame
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_com_assistAssignEarthingAlignment()" ReturnType="AlignmentRef" Description="Suggests an earthing alignment reference for an object, based on its RcType, its Variant and its surroundings. The function assumes that rails of RcType 'JBTKO_SKI Kjørekant' are present and have been divided already into insulated and non-insulated sections.">
  <Constructor>AlignmentRef NOBN_com_assistAssignEarthingAlignment([ObjRef obj])</Constructor>
  <Formula>
function NOBN_com_assistAssignEarthingAlignment(obj)
	--TODO: Consider replacing "Red/Green" filter with a downwards search for track insulation with railML property 'left', 'right', 'both', 'none' (in associated track).
	if obj == nil then obj = this end

	--Gauge tolerance when looking for rails belonging to the same track:
	gaugeTolerance = 0.030 --[m]
	--If not too far away, we prefer a dedicated earth rail over double insulated track, where you should consider not earthing to both rails:
	railDistanceTolerance = 6.000  --[m]

	if EarthingMethod == "None" then 
		return

	elseif EarthingMethod == "Unknown" then 
		return _info("UNFINISHED - Earthing method is Unknown, cannot deduce EarthingAlignment.")
		
	elseif EarthingMethod == "Rail" then
		r = getClosestAlignments("JBTKO_SKI Kjørekant",obj):filter(function (x) return x:getPropertyValue("Color"):upper() == "RED" end)
		if getAlignmentInfo(r[0].id,obj).NormalProjectionExists then
			--Find distance sideways to closest insulated rail:
			d = getAlignmentInfo(r[0].id,obj).DistanceToAlignment
		else
			--No normal projection exists onto insulated rail, so look for  distance to closest start/end of closest insulated rail:
			d = math.min(RC__getDistance2D(r[0].RcAlignment.StartPoint,obj),RC__getDistance2D(r[0].RcAlignment.EndPoint,obj))
		end
		if math.abs(d) &lt;= railDistanceTolerance then
			--If distance to insulated rail is reasonably short, then use it now...
			return r[0]
		else 
			--...otherwise, check if the two closest *un*insulated rails belong to the same track, asuuming both are (through use of impedances) carrying return current:
			--Btw, this proceudre fails if the object is between two tracks where insulated rail distances are just above the tolerance, so that the two closest 
			--return rails belong to two *different* railway tracks.
			r = getClosestAlignments("JBTKO_SKI Kjørekant"):filter(function (x) return getAlignmentInfo(x.id).NormalProjectionExists and x.color:upper() == "GREEN" end)
			n = getCollectionLength(r)
			d0 = getAlignmentInfo(r[0].id,obj).DistanceToAlignment
			d1 = getAlignmentInfo(r[1].id,obj).DistanceToAlignment
			if math.abs(math.abs(d0-d1) - r[0].AlignmentSystem.AlignmentGauge) &lt; gaugeTolerance then
				--Pick closest un-insulated rail, although it is 'bad taste' if we thereby end up
				--with objects earthed to both rails within one double-insulated track circuit:
				return r[0]
			else
				return _info("Search for nearby rails suitable for protective earthing failed (i.e., rails of type 'JBTKO_SKI Kjørekant', carrying return current).")
			end
		end
		r = getClosestAlignments("JBTKO_SKI Kjørekant",obj):filter(function (x) return x:getPropertyValue("Color"):upper() == "RED" end)
		return r[0]

	elseif EarthingMethod == "Wire" then 
		r = getClosestAlignments("JBTEH_JOR Jordleder",obj)
		return r[0]
		
	elseif EarthingMethod == "Object" then 
		--Just return - and let similar Lua code for the 'EarthingObject' reference property do the job:
		return
	end
end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_com_assistAssignEarthingObject()" ReturnType="ObjectRef" Description="Suggests an earthing object reference for an object, based on its RcType, its Variant and its surroundings. The function assumes that there is an object nearby that can offer protective earth.">
  <Constructor>AlignmentRef NOBN_com_assistAssignEarthingObject([ObjRef obj])</Constructor>
  <Formula>
function NOBN_com_assistAssignEarthingObject(obj)
	if obj == nil then obj = this end
	local earthingConnectionMaxLength = 10 --[m]

	if obj.EarthingMethod == "None" then 
		return _void
	
	elseif obj.EarthingMethod == "Unknown" then 
		return _void,_info("UNFINISHED - Earthing method is Unknown, cannot deduce EarthingObject.")
	
	elseif obj.EarthingMethod == "Rail" then
		return _void
	
	elseif obj.EarthingMethod == "Wire" then 
		return _void
	
	elseif obj.EarthingMethod == "Object" then 
		local npo = getNearbyPointObjects2D(earthingConnectionMaxLength,obj):filter
			(function (x)
				local em = x:getPropertyValue("EarthingMethod")
				local ea = x:getPropertyValue("EarthingAlignment")
				local eo = x:getPropertyValue("EarthingAlignment")
				return 
					((em == 'Rail' or em == 'Wire') and (ea and ea ~= obj))
					or
					((em == 'Object') and (eo and eo ~= obj))
			end)
		if getCollectionLength(npo) &gt; 0 then
			return npo[0]
		else 
			return _void,_error,_info("UNFINISHED - Earthing method is Object, but no suitable earth providing objects found.")
		end
		
	else
		-- Should not happen
		return nil,_info("*** ERROR - Bad Earthing Method.")
	end
end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_com_assistAssignEarthingLabelText()" ReturnType="String" Description="Suggests an earthing alignment label text for an object, based on its RcType, its Variant and its surroundings. The function assumes that the object already has a defined EarthingMethod and EarthingAlignment/EarthingObject.">
  <Constructor>String NOBN_com_assistAssignEarthingLabelText([ObjRef obj])</Constructor>
  <Formula>
function NOBN_com_assistAssignEarthingLabelText(obj)
	if obj == nil then obj = this end
	if obj.EarthingMethod == "None" then 
		return ""
	elseif obj.EarthingMethod == "Object" then
		return RC__identify(obj.EarthingObject).." / "..RC__identify(obj)
	elseif obj.EarthingMethod == "Wire" then 
		return RC__identify(obj.EarthingAlignment).." / "..RC__identify(obj)
	elseif obj.EarthingMethod == "Rail" then 
		return RC__identify(obj.EarthingAlignment).." / "..RC__identify(obj)
	elseif obj.EarthingMethod == "Unknown" then 
		return "(?)".." / "..RC__identify(obj)
	else
		return _error,"*** ERROR - Bad Earthing Method ["..obj.EarthingMethod.."]."
	end
end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_com_assignEarthingLabelColor" ReturnType="String" Description="Assigns the color for the permanent marking tag attached to earthing connector, deduced from the object's discipline.">
  <Constructor>String NOBN_com_assignEarthingLabelColor([ObjRef obj])</Constructor>
  <Formula>
function NOBN_com_assistAssignEarthingLabelColor(obj)
	obj = obj or this
	if obj.Discipline == "Felles" then return 7 --"Hvit"
	elseif obj.Discipline == "Underbygning" then return 7 --"Hvit"
	elseif obj.Discipline == "Overbygning" then return 7 --"Hvit"
	elseif obj.Discipline == "Kontaktledning" then return 1 --"Rød"
	elseif obj.Discipline == "Signal" then return 3 --"Grønn"
	elseif obj.Discipline == "Tele" then return 2 --"Gul"
	elseif obj.Discipline == "Lavspent" then return 5 --"Blå"
	elseif obj.Discipline == "Skilt" then return 7 --"Hvit"
	else 
		return _error,"*** ERROR - Uncrecognized discipline ["..obj.Discipline.."]."
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_com_assistAssignEarthingLabelColor()" ReturnType="String" Description="Suggests an earthing alignment label color for an object, based on its discipline.">
  <Constructor>String NOBN_com_assistAssignEarthingLabelColor([ObjRef obj])</Constructor>
  <Formula/>
 </LuaFunction>
 <LuaFunction Name="NOBN_com_assistAssignEarthingPosBias()" ReturnType="Double" Description="Suggests an earthing alignment pos bias for an object, based on its earthing method and its surroundings. A non-zero bias moves the 'earthing landing point' along the earthing alignment.">
  <Constructor>Double NOBN_com_assistAssignEarthingPosBias([ObjRef obj])</Constructor>
  <Formula>
function NOBN_com_assistAssignEarthingPosBias(obj)
	if obj == nil then obj = this end
	local offset = 1
	if obj.EarthingMethod == "Rail" then
		if getAlignmentInfo(obj.EarthingAlignment.id).NormalProjectionExists then
			return 0
		else 
			--Move earth connection a little past insulation along insulated rail's tangent direction (at start or end of rail): 
			ps = obj.EarthingAlignment.RcAlignment.StartPoint
			pe = obj.EarthingAlignment.RcAlignment.EndPoint
			ds = RC__getDistance2D(ps,obj)
			de = RC__getDistance2D(pe,obj)
			if ds &lt; de then
				u = obj.EarthingAlignment.RcAlignment.StartTangent
				return ((ps.X-geoCoord.X)*u.X + (ps.Y-geoCoord.Y)*u.Y) > 0 and offset or -offset 
			else
				u = obj.EarthingAlignment.RcAlignment.EndTangent
				return ((ps.X-geoCoord.X)*u.X + (ps.Y-geoCoord.Y)*u.Y) > 0 and offset or -offset 
			end
		end
	end
end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_getLiftFromCant()" ReturnType="Double" Description="Returns a track-bound object's Z-coordinate offset above TopOfRail [m], consistent with own alignment's local cant. If called from an alignment object, the reserved identifier '_position' must be provided as an input argument.">
  <Constructor>Double NOBN_trk_getLiftFromCant([_position])</Constructor>
  <Formula>
function NOBN_trk_getLiftFromCant(where)
	--If called to express e.g. sleepers and rails for a 3D alignment, then '_position' is provided by RC as 'where', sampled along the alignment.
	--'where' is a data structure, if present, consisting of .Pos and .Ref
	if where == nil then
		-- can be called from point objects:
		ai = getAlignmentInfo()
	else
		-- can be called from anywhere, including an alignment, as a sampled formula:
	    ai = getAlignmentInfo(where)
	end
	if RcAlignment == nil then 
		-- 'this' is a point object:
		cg = Alignment.AlignmentSystem.CantGauge
		lwc = Alignment.AlignmentSystem.QuickMode3DLiftWithCant
		dta = DistanceToAlignment
	else 
		-- 'this' is an alignment:
		cg = AlignmentSystem.CantGauge
		lwc = AlignmentSystem.QuickMode3DLiftWithCant
		dta = 0.0 --DistanceToAlignment
	end
	if not lwc then 
		return 0.0,_info("Alignment system does not lift with cant.")
	end
	c = ai.Cant
    if c == nil or RC__isNan(c) then
        return 0.0,_info("UNFINISHED - No cant data in alignment, assuming zero cant.")
	elseif c == 0 then
		return 0.0
    else
        -- Cant is measured in millimeter superelevation
        -- Ask alignment system whether cant leads to lift or not:
	    h = c/1000.0 --[m]
		if h &gt; cg then 
			h = cg - 0.001 -- Almost 90 degrees roll...
			msg = "Cant truncated to max, "..RC__round(1000*h).." mm."
		else
			msg = RC__round(1000*h).." mm cant."
		end
		railSeparationXY = math.sqrt(cg^2 - h^2)
		if h == 0.0 then
			return 0.0,_info(msg)
		else
			cr = ai.CantRotation
			if cr == "CCW" then
				-- Right rail lifted above left rail
				return h/2 + h/2 * dta / (railSeparationXY / 2)
			elseif cr == "CW" then
				-- Left rail lifted above right rail
				return h/2 - h/2 * dta / (railSeparationXY / 2)
			else
				return 0.0,_error,_info("Bad cant rotation data ["..CantRotation.."], assuming zero lift.")
			end
		end
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_getDistanceToAlignmentFromCantAndTrackPlaneDistance()" ReturnType="Double" Description="Returns a track-bound object's 2D distance to the alignment axis as a function of its track plane distance to own model insertion axis (track axis). 'TrackPlaneDistance' is by default set to half of the rail separation. If called from an alignment object, the reserved identifier '_position' holding a {Pos, Ref} must be provided as an input argument.">
  <Constructor>Double NOBN_trk_getDistanceToAlignmentFromCantAndTrackPlaneDistance([Double TrackPlaneDistance [,_position]])</Constructor>
  <Formula>
function NOBN_trk_getDistanceToAlignmentFromCantAndTrackPlaneDistance(TrackPlaneDistance,where)
	local cg
	if RcAlignment == nil then 
		-- 'this' is a point object:
		cg = Alignment.AlignmentSystem.CantGauge
	else 
		-- 'this' is an alignment:
		cg = AlignmentSystem.CantGauge
	end
	if TrackPlaneDistance == nil then
		--No specific distance as input, use side of track and place on rail:
		TrackPlaneDistance = RightSided and cg/2.0 or -cg/2.0
	end
	--If called to express e.g. sleepers and rails for a 3D alignment, then '_position' is provided by RC as 'where', sampled along the alignment.
	--'where' is a data structure, if present, consisting of .Pos and .Ref
	if where == nil then
		-- Assume function has been called from a point object:
		ai = getAlignmentInfo()
	else
	    ai = getAlignmentInfo(where)
	end
	g = ai.Gradient
	h = ai.Cant/1000.0
	if RC__isNan(h) then 
		return TrackPlaneDistance,_info("No cant data in alignment, assuming zero cant.")
	else
		-- Scale track plane distance to alignment with effect of cant:
	 	return TrackPlaneDistance * math.sqrt(1 - (h/cg)^2)
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_getRollFromCant()" ReturnType="Double" Description="Returns a track-bound object's sideways roll [Decimal Degrees], consistent with own alignment's local cant and object direction up/down. If called from an alignment object, the reserved identifier '_position' must be provided as an input argument.">
  <Constructor>Double NOBN_trk_getRollFromCant([_position])</Constructor>
  <Formula>
			function NOBN_trk_getRollFromCant(where)
				--If called to express e.g. sleepers and rails for a 3D alignment, then '_position' is provided by RC as 'where', sampled along the alignment.
				--'where' is a data structure, if present, consisting of .Pos and .Ref
				if where == nil then
					-- Assume function was called from a point object:
					ai = getAlignmentInfo()
				else
					-- can be called from anywhere, including an alignment, as a sampled formula:
					ai = getAlignmentInfo(where)
				end
				if RcAlignment == nil then 
					-- 'this' is a point object:
					cg = Alignment.AlignmentSystem.CantGauge
				else 
					-- 'this' is an alignment:
					cg = AlignmentSystem.CantGauge
				end
				c = ai.Cant
				if c == nil or RC__isNan(c) then
					return 0.0,_info("UNFINISHED - No cant data in alignment, assuming zero cant.")
				elseif c == 0 then
					return 0.0
				else
					-- Cant is measured in millimeter superelevation, with rotation clockwise or counterclockwise in the track's direction
					-- Assume that only one rail is lifted at a time.
					h = c/1000.0
					cr = tostring(ai.CantRotation)
					if  cr:upper() == "CW" then
						return math.asin(h/cg)*(180/math.pi)
					elseif cr:upper() == "CCW" then 
						return -math.asin(h/cg)*(180/math.pi)
					else
						return 90.0,_error,_info("Bad cant rotation data ["..CantRotation.."], assuming 90 degrees roll as a visual warning.")
					end
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_com_getRollFromCantInterpretedAsDecimalDegrees()" ReturnType="Double" Description="Returns a roll angle deduced from an alignment's cant, where Cant is interpreted as decimal degrees and CW/CCW.">
  <Constructor>Double NOBN_com_getRollFromCantInterpretedAsDecimalDegrees([_position])</Constructor>
  <Formula>
			function NOBN_com_getRollFromCantInterpretedAsDecimalDegrees(where)
				--If called to express e.g. a road, or OCS wire clamps or sweeping a contact wire, then '_position' is provided by RC, sampled along the alignment.
				if where == nil then
					ai = getAlignmentInfo()
				else
					ai = getAlignmentInfo(where)
				end
				angleInDecimalDegrees = ai.Cant --  NB! Cant is interpreted as decimal degrees CW/CCW.
				if (RC__isNan(angleInDecimalDegrees)) then
					return 0,_info("UNFINISHED - No cant (to be interpreted as an angle in decimal degrees) data in non-track alignment, assuming zero cant.")
				elseif angleInDecimalDegrees == 0 then
					return 0
				else
					-- Cant is measured in millimeter superelevation, with rotation clockwise or counterclockwise in the track's direction
					-- Assume that only one rail is lifted at a time.
					cr = tostring(ai.CantRotation)
					if  cr:upper() == "CW" then
						return angleInDecimalDegrees
					elseif cr:upper() == "CCW" then 
						return -angleInDecimalDegrees
					else
						return 90.0,_error,_info("Bad cant rotation data ["..CantRotation.."], assuming 90 degrees roll as a visual warning.")
					end
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_getPitchFromGradient()" ReturnType="Double" Description="Returns a track-bound object's pitch [decimal degrees], consistent with own alignment's local gradient, and object orientation up/down/both/none. If called from an alignment object, the reserved identifier '_position' must be provided as an input argument.">
  <Constructor>Double NOBN_trk_getPitchFromGradient([_position])</Constructor>
  <Formula>
function NOBN_trk_getPitchFromGradient(where)
	--If called to express e.g. sleepers and rails for a 3D alignment, then '_position' is provided by RC, sampled along the alignment.
	if where == nil then
		g = getAlignmentInfo().gradient
	else
	    g = getAlignmentInfo(where).gradient 
	end
    if RC__isNan(g) then
        return 0.0,_info("No gradient data in alignment, assuming zero gradient.")
    else
        return math.atan(g/1000)*(180/math.pi)
    end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_getYawFromDir()" ReturnType="Double" Description="Returns object's 3D rotation [DD] from its direction property 'dir' (up/down/none/both) and side of alignment, as seen in the direction of increasing mileage. If a non-zero rotation [DD] is provided, then the rotation takes precedence over the 'dir' property. Balises are a special case, assuming cable extends to the right from the 3D model, a slight leftside bias turns the balise around so the cable extends at the left side of the track.">
  <Constructor>Double NOBN_trk_getYawFromDir([Double rotation])</Constructor>
  <Formula>
function NOBN_trk_getYawFromDir(rotation)
	d = getPropertyValue("dir") --Strip off _symbol and _info() if any, get just the plain string value
	if RcType == "JBTSA_ATB Balise" then 
		--Special case: Place balise slightly to the right of center track to keep the cable extending to the right
		--We assume that all balises have cable extending to the right when seen in the 3D object's 'up' direction
		--(the cable will then be best protected for left-handed normal driving on double track lines).
		if AngularOffset == nil then 
			return RightSided and 0.0 or 180.0
		else	
			return AngularOffset + (RightSided and 0.0 or 180.0)
		end
	end
	if rotation == nil and AngularOffset == nil then
		-- No argument given, and no standard property 'AngularOffset' exists for the current object
		if d == 'up' then
			return 0.0
		elseif d == 'down' then
			return 180.0
		elseif d == 'both' then
			return RightSided and -90.0 or 90.0
		elseif d == 'none' then
			return RightSided and 90.0 or -90.0
		else --d == unknown':
			return 45.0,_warning,_info("EnableDirectionSetting is 'unknown', cannot compute yaw, assuming 45 degrees as a visual warning.")
		end
	else
		--Modify 'dir' with extra rotation:
		if rotation == nil then
			--No arg given, use object's own AngularOffset:
			rotation = AngularOffset
		else 
			if math.abs(rotation) &lt; 4e-4 then 
				rotation = 0.0 --remove small inaccuracies
			end
		end
		if d == 'up' then
			return rotation,_info("'up' with "..rotation.." degrees extra rotation.")
		elseif d == 'down' then
			return 180.0+rotation,_info("'down' with "..rotation.." degrees extra rotation.")
		elseif d == 'both' then
			return (RightSided and -90.0 or 90.0) + rotation,_info("'both' with "..rotation.." degrees extra rotation.")
		elseif d == 'none' then
			return (RightSided and 90.0 or -90.0) + rotation,_info("'none' with "..rotation.." degrees extra rotation.")
		else --d == unknown':
			return 45.0,_warning,_info("EnableDirectionSetting is 'unknown', cannot compute yaw, assuming 45 degrees as a visual warning .")
		end
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_getSignalSightingRequirement()" ReturnType="String" Description="Returns the sighting requirement according to TRV regulations for signals. Speed is extracted from the object's own alignment using getAlignmentInfo().Speed.">
  <Constructor>Double NOBN_sig_getSignalSightingRequirement()</Constructor>
  <Formula>
function NOBN_sig_getSignalSightingRequirement()
	local DesignSpeed = getAlignmentInfo().Speed or 130 --130 km/h assumed if alignment has no design speed available

	if RcType == "JBTSA_SIG ERTMS" then
		-- ERTMS marker board - Fixed 150m requirement?
		if MarkerBoard == "-" then
			return 150,_info(DesignSpeed.." km/h: 150m fixed sighting requirement for ERTMS boards.")
		elseif DwarfSignal == "Ja" and MarkerBoard == "-" then
			return 50,_info("50m fixed sighting requirement during shunting movements (NB! There are rules for sight/stopping distance towards Ss43 as well).")
		end
	
	elseif RcType == "JBTSA_SIG Signal" then
		if (DwarfSignal == "Ja" or HighShuntingSignal == "Ja") and not MainSignal:match("^Hs") then
			return 50,_info("50m fixed sighting requirement during shunting movements (NB! There are rules for sight/stopping distance towards Ss43 as well).")
	
		elseif MainSignal:match("^Hs") and DistantSignal == "-" then
			-- Ref TRV Signal prosjektering, 2.1.2 "Hovedsignal"
			--NB! If through-signaling is in use, the sighting requirements are reduced to 80 km/h requirements - see TRV change ca 2019.
			if DesignSpeed &gt; 210 then
				return 250,_info(DesignSpeed.." km/h: Min. 150m main signal unbroken sigthing, 4 seconds from 135 to 210 km/h, and 250m above 210 km/h.")
			else 
				v = math.max(135,math.min(210,DesignSpeed))
				return RC__round(v/3.6 * 4, 0),_info(DesignSpeed.." km/h: Min. 150m main signal unbroken sigthing, 4 seconds from 135 to 210 km/h, max. 250m above 210 km/h.")
			end

		elseif MainSignal:match("^Hs") and DistantSignal == "-" then 
			-- Ref TRV Signal prosjektering, 2.1.3 "Forsignal"
			v = math.max(40,math.min(130,DesignSpeed))
			return RC__round(v/3.6 * 7, 0),_info(DesignSpeed.." km/h: Min. 78m distant signal unbroken sighting, 7 seconds from 40 to 130 km/h, max 250m above 130 km/h.")

		elseif EndOfTrainRoute ~= "-" then
			-- Ref TRV Signal prosjektering, 2.1.2 "Hovedsignal"
			if DesignSpeed &gt; 210 then
				return 250,_info(DesignSpeed.." km/h: Min. 150m main signal unbroken sigthing, 4 seconds from 135 to 210 km/h, and 250m above 210 km/h.")
			else 
				v = math.max(135,math.min(210,DesignSpeed))
				return RC__round(v/3.6 * 4, 0),_info(DesignSpeed.." km/h: Min. 150m main signal unbroken sigthing, 4 seconds from 135 to 210 km/h, max. 250m above 210 km/h.")
			end
	
		elseif HighShuntingSignal ~= "-" then
			return 50,_info("50m fixed sighting requirement during shunting movements.")
	
		else
			return 0,_info(DesignSpeed.." km/h: Bad JBTSA_SIG Signal type [RcType="..RcType..", Variant="..(Variant and "(void)" or Variant.."."))
		end

	
	elseif RcType == "JBTSA_SIG Brusignal/Frostportsignal" or RcType == "JBTSA_SIG Rasvarslingssignal" then
		--TODO: Check requirements with Bane NOR
		if DesignSpeed &gt; 210 then
			return 250,_info(DesignSpeed.." km/h: Min. 150m main signal unbroken sigthing, 4 seconds from 135 to 210 km/h, and 250m above 210 km/h.")
		else 
			v = math.max(135,math.min(210,DesignSpeed))
			return RC__round(v/3.6 * 4, 0),_info(DesignSpeed.." km/h: Min. 150m main signal unbroken sigthing, 4 seconds from 135 to 210 km/h, max. 250m above 210 km/h.")
		end

	
	elseif RcType == "SA-SIG PLO-signal" then
		-- Ref TRV Signal prosjektering, 2.1.2 "Hovedsignal"
		if DesignSpeed &gt; 210 then
			return 250,_info(DesignSpeed.." km/h: Min. 150m main signal unbroken sigthing, 4 seconds from 135 to 210 km/h, and 250m above 210 km/h.")
		else 
			v = math.max(135,math.min(210,DesignSpeed))
			return RC__round(v/3.6 * 4, 0),_info(DesignSpeed.." km/h: Min. 150m main signal unbroken sigthing, 4 seconds from 135 to 210 km/h, max. 250m above 210 km/h.")
		end

	elseif RcType == "SA-SIG PLO-forsignal" then
		-- Ref TRV Signal prosjektering, 2.1.3 "Forsignal"
		v = math.max(40,math.min(130,DesignSpeed))
		return RC__round(v/3.6 * 7, 0),_info(DesignSpeed.." km/h: Min. 78m distant signal unbroken sighting, 7 seconds from 40 to 130 km/h, max 250m above 130 km/h.")

	elseif RcType == "JBTSA_SIG Veisignal" then
		--Signal mot vei
		return 30,_info("30m fixed sighting requirement for road traffic towards level crossing signal (To be verified!).")

	elseif RcType == "JBTSA_SIG Brusignal/Frostportsignal" then 
		--Samme byggeteknikk som for 3-lys Hs (2 røde blink / 1 hvit blink)
		return 150,_info("150m fixed sighting requirement for bridge / frost gate signal (To be verified!).")

	elseif RcType == "JBTSA_SIG Togsporsignal" then
		--Ingen spesielle krav, plasseres når lokfører eller ombordansvarlig ikke ser hovedsignal (ikke tillatt i nye anlegg)
		return 50,_info("50m fixed sighting requirement for Togsporsignal (old type RepHs repeater signal) (To be verified!).")

	else
		return 0,_info(DesignSpeed.." km/h: Bad signal type [RcType="..RcType..", Variant="..(Variant and "(void)" or Variant.."."))
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_bnp_getBoardOffset3dZ()" ReturnType="String" Description="Returns the default pole 3D offset Z, i.e. the height of the pole.">
  <Constructor>Double NOBN_bnp_getBoardOffset3dZ()</Constructor>
  <Formula>
function NOBN_bnp_getBoardOffset3dZ()
	-- To be mounted below other board on common pole:
	if Variant:find("Meterangivelse") then return 2.6 --May be placed under 68F
	elseif Variant:find("68F") then return 2.8 --Tilleggshastighet, to be placed under 68

	--To be mounted relatively low on NSI63 optical signal's mast:
	elseif Variant:find("62") then return 2.85 --Ugyldighetssignal på standard Bane NOR signalmast alternativ 2
	elseif Variant:find("72") then return 2.45 --FJS begynner/slutter
	elseif Variant:find("73") then return 2.45 --Rasvarsling
	elseif Variant:find("F-ATC") or Variant:find("D-ATC") then return 2.9

	--To be mounted on front/top of optical light signal's sunscreen:
	elseif Variant:find("60E") then return 5.80 --ATC Varsel. Remember to adjust Offset3d.Y as well.

	--Close to track, low placement, with pole:
	elseif Variant:find("Bevegelig kryss") then return 0.5 --Short vertical pole close to track
	elseif Variant:find("69") then return 1.5 --Temporary speed restriction, to be mounted with horizontal pole to track/sleeper

	--Close to track, low placement, no pole:
	elseif Variant:find("Baliseskilt") then return 0.0 --Mounted on platform element's side towards track, at A-balise

	--May be hanging from yoke, othwerwise on own pole:
	elseif Variant:find("Spornummer") then return Yokemounted and -1 or 3.5
	-- TODO elseif Variant:find("E34") then return Yokemounted and -1 or 3.5 --ERTMS Stedsskilt
	elseif Variant:find("E35") then return Yokemounted and -1 or 3.5 --ERTMS Stoppskilt

	--To be read by train driver sitting in train, AND by walking people:
	elseif Variant:find("1000V") then return 2.5
	elseif Variant:find("kjedebrudd") then return 2.5

	--To be read by walking people:
	elseif Variant:find("Nødtelefon") then return 2.00
	elseif Variant:find("Stopp se og lytt") then return 2.00 --Skilt langs bilvei, for mennesker
	elseif Variant:find("Arbeidsområde") then return 2.02 --Tenkt montert på et NSI hovedsignal

	-- High relative Elevations, no pole:
	elseif Variant:find("75B") then return 0.0 --Old km board type, directly on tunnel wall (high RelativeElevation)
	elseif Variant:find("Rømningsavstand") then return 0.0 --Escape route distance / direction board, directly on tunnel wall

	else 
		return 3.5
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_bnp_getPoleRoutingDefaultValue()" ReturnType="String" Description="Returns the default pole setting for the board in question, from {'none','vertical','horizontal'}.">
  <Constructor>enum {'None','Vertical','Horizontal'} NOBN_bnp_getPoleRoutingDefaultValue()</Constructor>
  <Formula>
function NOBN_bnp_getPoleRoutingDefaultValue()
	if Variant:find("Baliseskilt")
		or Variant:find("60E")
		or Variant:find("62")
		or Variant:find("67E")
		or Variant:find("68F")
		or Variant:find("70")
		or Variant:find("72A")
		or Variant:find("72B")
		or Variant:find("73")
		or Variant:find("Arbeidsområde")
		or Variant:find("138") --Trafikkskilt Andreaskors langs bilvei ved PLO, festes på lyssignal mot vei
	then 
		return "None"

	elseif variant:find("69") then
		return "Horizontal" --Fixed with temporary bracket to closest rail/sleeper

	else 
		return "Vertical"
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_bnp_getBoardSightingRequirement()" ReturnType="String" Description="Returns the sighting requirement according to TRV regulations for vegetation clearance towards boards. Speed is extracted from the object's own alignment using getAlignmentInfo().Speed.">
  <Constructor>Double NOBN_bnp_getBoardSightingRequirement()</Constructor>
  <Formula>
function NOBN_bnp_getBoardSightingRequirement()
	local DesignSpeed = getAlignmentInfo().Speed or 130 --130 km/h assumed if alignment has no design speed available

	if 	   Variant:find("Baliseskilt")
		or Variant:find("Arbeidsområde")
		or Variant:find("75C") -- 75C: Hev sporrenser
		or Variant:find("75D") -- 75D: Senk sporrenser
		or Variant:find("60E") --ATC Varsel - Monteres på Fs eller Hs+Fs
		or Variant:find("62") --Ugyldighetsskilt - står alltid sammen med Hs, Fs eller enkelt innkjørsignal
		or Variant:find("64E") --64E: Blå/Hvit Teknisk stolpe
		or Variant:find("67E") --Orienteringssignal dagtid, unngå å gi signal 83 "Tog kommer" mellom kl 22 og 06
		or Variant:find("68F") --Tilleggshastighet underskilt - står alltid sammen med signal 68AB
		or Variant:find("68G") --Krengetoghasighet underskilt - står alltid sammen med signal 68AB
		or Variant:find("101") --ID-skilt av alle typer
		or Variant:find("102") --PIL
		or Variant:find("138") --Trafikkskilt Andreaskors langs bilvei ved PLO, festes på lyssignal mot vei
	then
		--No sighting requirement:
		return 0,_info("No sighting requirement.")

	elseif
		(Variant:find("60") and not Variant:find("60E")) --60ABCD_FGH: ATC skilt
		or variant:find("61") --61ABC: Avstandsskilt 1/2/3 (1000/800/250 meter)
		or variant:find("63") --63AB: Fallviser/Stigningsviser
		or Variant:find("64A") --64A: Grense-innkoblingsstolpe
		or Variant:find("64B") --64B: Seksjoneringsstolpe
		or Variant:find("64C") --64C: Rasvarslingsstolpe
		or Variant:find("64D") --64D: Bremsestolpe
		or Variant:find("65") --65ABCDEFG: KL-skilt
		or Variant:find("66") --66: Togvei slutt
		or variant:find("68A") --69A: Nedsatt hastighet
		or variant:find("68B") --69B: Økt hastighet
		or variant:find("68C") --69C: Avvikende hastighet
		or variant:find("68D") --69D: Markeringsmerke
		or variant:find("69") --69AB: Midlertidig hastighet
		or Variant:find("70") --70: Planovergangsskilt "V"
		or Variant:find("72") --72AB: FJS begynner/slutter
		or Variant:find("73") --73: Rasvarsling
		or Variant:find("74") --74: Toglengdeskilt
		or Variant:find("75A") --75AB: Kilometerskilt, gammel type
		or Variant:find("75B") --75AB: Kilometer, ny type
	then
		-- Ref TRV Underbygning vedlikehold, 2.1.1 "Sikt til signaler og skilt"
		v = math.max(40,math.min(130,DesignSpeed))
		d = RC__round(v/3.6 * 5, 0)
		return d,_info(d.."m required at "..DesignSpeed.." km/h (5 seconds unbroken sighting, min. 56m, max. 181m.")

	elseif		
		--Krav som til dvergsignaler pga kun aktuelle å observere under skifting (40 km/h / 50 meter)
		   Variant:find("51") --51ABCD: Sporvekselsignal, lysreflekterende. A=tilRettspor, B=fraAvvik, C=tilV, D=tilH
		or Variant:find("52") --52ABCD: Sporvekselsignal for kryssporveksel. A=fraVtilH, B=fraHtilV, C=fraVtilV, D=fraHtilH.
		or Variant:find("53") --53: Sporsperresignal, "sporet sperret"
		or Variant:find("54") --54: Sporsperresignal, "sporet fritt"
		or Variant:find("64E") --64E: Dvergsignalstolpe
	then
		return 50,_info("50m fixed sighting requirement during shunting movements.")

	else
		return 0,_info(DesignSpeed.." km/h: Bad board type [RcType="..RcType..", Variant="..(Variant and "(void)" or Variant.."."))
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sub_getFoundationCode()" ReturnType="String" Description="Returns the code for a foundation / bolt group / deduced from its associated object (based on RcType and close proximity).">
  <Constructor>String NOBN_sub_getFoundationCode([ObjRef obj])</Constructor>
  <Formula>
			function NOBN_sub_getFoundationCode(obj)
				local tol = 0.25 --Look for a matching object close to 'obj'
				local function fn(obj,objectTypes,errMsg)
		 			--Check for matching objects in prioritized order.
					local ot,n,i,o
					ot = getCollectionFromTable(objectTypes)
					n = ot.count
					for i=0,n-1 do
						o = getNearbyPointObjects2D(tol,ot[i],obj)
						if getCollectionLength(o) &gt; 0 then return o[0].code end
					end
					return errMsg 
				end
		
				if obj == nil then obj = this end
				if RcType:match("JBTEH_FUN KL%-fundament") then 
					return fn(obj,{"JBTEH_MAS KL-mast","JBTEH_BAR Bardunfeste"},"UNFINISHED - no visible OCS mast or spanner / strecher fastener found at foundation.")
				elseif RcType:match("JBTKU_FUN Signalfundament") then 
					return fn(obj,{"JBTSA_SIG Signal"},"UNFINISHED - no visible signal found at foundation.")
				elseif RcType:match("JBTKU_FUN Apparatskapfundament") then 
					return fn(obj,{"JBTSA_APS Apparatskap"},"UNFINISHED - no visible signal cabinet found at foundation.")
				elseif RcType:match("JBTKU_FUN Telefundament") then 
					return fn(obj,{"TODO: Define telecom objects here :ODOT"},"UNFINISHED - no visible matching telecom object found at foundation.")
				end
			end
		</Formula>
 </LuaFunction>
 <FoulingPointSetting Name="1 Ny bane, tog/*" MaxSearchLength="200" LuaFunctionName="NOBN_trk_getFoulingPointDistanceNewTrain" FoulingPointGraphicsType="0"/>
 <FoulingPointSetting Name="2 Ny bane, skift/skift" MaxSearchLength="200" LuaFunctionName="NOBN_trk_getFoulingPointDistanceNewShunting" FoulingPointGraphicsType="1"/>
 <FoulingPointSetting Name="3 Eks. bane, tog/*" MaxSearchLength="200" LuaFunctionName="NOBN_trk_getFoulingPointDistanceExistingTrain" FoulingPointGraphicsType="2"/>
 <FoulingPointSetting Name="4 Eks. bane, skift/skift" MaxSearchLength="200" LuaFunctionName="NOBN_trk_getFoulingPointDistanceExistingShunting" FoulingPointGraphicsType="3"/>
 <LuaFunction Name="NOBN_trk_getFoulingPointDistanceNewTrain()" ReturnType="Double" Description="Returns fouling point distance for new line's switch when one or both legs carry train traffic." HideFromUser="false">
  <Constructor>Double NOBN_trk_getFoulingPointDistanceNewTrain(foulingPointCandidate,path1,path2,path1IsLeftOfPath2)</Constructor>
  <Formula>
			function NOBN_trk_getFoulingPointDistanceNewTrain(foulingPointCandidate,path1,path2,path1IsLeftOfPath2)
				return math.max(4.000, 2.120 + 1.700 + 0.100 + NOBN_trk_getFoulingPointLocalContribution(foulingPointCandidate,path1,path2,path1IsLeftOfPath2))
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_getFoulingPointDistanceNewShunting()" ReturnType="Double" Description="Returns fouling point distance for new line's switch when no legs carry train traffic." HideFromUser="false">
  <Constructor>Double NOBN_trk_getFoulingPointDistanceNewShunting(foulingPointCandidate,path1,path2,path1IsLeftOfPath2)</Constructor>
  <Formula>
			function NOBN_trk_getFoulingPointDistanceNewShunting(foulingPointCandidate,path1,path2,path1IsLeftOfPath2)
				return math.max(4.000, 2.120 + 1.700 - 0.100 + NOBN_trk_getFoulingPointLocalContribution(foulingPointCandidate,path1,path2,path1IsLeftOfPath2))
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_getFoulingPointDistanceExistingTrain()" ReturnType="Double" Description="Returns fouling point distance for existing line's switch when one or both legs carry train traffic." HideFromUser="false">
  <Constructor>Double NOBN_trk_getFoulingPointDistanceExistingTrain(foulingPointCandidate,path1,path2,path1IsLeftOfPath2)</Constructor>
  <Formula>
			function NOBN_trk_getFoulingPointDistanceExistingTrain(foulingPointCandidate,path1,path2,path1IsLeftOfPath2)
				return math.max(0.000, 2.120 + 1.700 + 0.100 + NOBN_trk_getFoulingPointLocalContribution(foulingPointCandidate,path1,path2,path1IsLeftOfPath2))
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_getFoulingPointDistanceExistingShunting()" ReturnType="Double" Description="Returns fouling point distance for existing line's switch when no legs carry train traffic." HideFromUser="false">
  <Constructor>Double NOBN_trk_getFoulingPointDistanceExistingShunting(foulingPointCandidate,path1,path2,path1IsLeftOfPath2)</Constructor>
  <Formula>
			function NOBN_trk_getFoulingPointDistanceExistingShunting(foulingPointCandidate,path1,path2,path1IsLeftOfPath2)
				return math.max(0.000, 2.120 + 1.700 - 0.100 + NOBN_trk_getFoulingPointLocalContribution(foulingPointCandidate,path1,path2,path1IsLeftOfPath2))
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_getFoulingPointLocalContribution()" ReturnType="Double" Description="Returns the extra coach separation needed due to local curvatures (Kinner=81/2R, Kouter=63/2R) and to local cants (2.3*SignficantCantDifference)." HideFromUser="false">
  <Constructor>Double NOBN_trk_getFoulingPointLocalContribution(foulingPointCandidate,path1,path2,path1IsLeftOfPath2)</Constructor>
  <Formula>
			function NOBN_trk_getFoulingPointLocalContribution(
				foulingPointCandidate,	--Point2d: a candidate fouling point, from which we will calculate the instantaneous required FP separation.
				path1,					--RailwayPath: a structure containing a list of AlignmentIntervals, which is an interval on an alignment represented by the alignment's ObjectId, two positions, and a direction.
				path2,					--RailwayPath: a structure containing a list of AlignmentIntervals.
				path1IsLeftOfPath2		--Boolean: true iff path1 is to the left of path2 when vieweing the switch from the WCS positive Z axis, looking into the tip-of-tongues.
			)
			
				function Kinner(R) 
					--First term of a Taylor series, b^2/2r, assuming b=9 meter (standard Bane NOR assumption for halfAxleSeparation)
					--See ..\Google Drive\RC_DEV\I - Issues\Attachments\2020-03-17 Taylor series expansion for RC-DisplayEnvelope (issue #6338)
					return 81.0 / (2*R)
				end

				function Kouter(R)
					--First term of a Taylor series, (2bc+c^2)/2r, assuming c=3 meter (standard Bane NOR assumption for tail/nose extension from end/nose axle)
					--See ..\Google Drive\RC_DEV\I - Issues\Attachments\2020-03-17 Taylor series expansion for RC-DisplayEnvelope (issue #6338)
					return 63.0 / (2*R)
				end

				--Retrieve alignment geometry info:
				local path1Info = getAlignmentInfo(foulingPointCandidate.X, foulingPointCandidate.Y, path1)
				local path2Info = getAlignmentInfo(foulingPointCandidate.X, foulingPointCandidate.Y, path2)
				local t1 = path1Info.Segment.Type 
				local t2 = path2Info.Segment.Type 
				local cw1 = (path1Info.SignedRadius &gt; 0) --CW (true) or not CW (false)
				local cw2 = (path2Info.SignedRadius &gt; 0) --CW (true) or not CW (false)
				local r1 = math.abs(path1Info.SignedRadius) --Note: Reading path1Info.Radius fails for clothoids
				local r2 = math.abs(path2Info.SignedRadius) --Note: Reading path2Info.Radius fails for clothoids

				--Deduce contributions from inner/outer curves:
				local curveContribution = 0.0
				if path1IsLeftOfPath2 then
					if t1 ~= "Straight" then curveContribution = curveContribution + (cw1 and Kouter(r1) or Kinner(r1)) end
					if t2 ~= "Straight" then curveContribution = curveContribution + (cw2 and Kinner(r2) or Kouter(r2)) end
				else
					--path1 is right of path2
					if t1 ~= "Straight" then curveContribution = curveContribution + (cw1 and Kinner(r1) or Kouter(r1)) end
					if t2 ~= "Straight" then curveContribution = curveContribution + (cw2 and Kouter(r2) or Kinner(r2)) end
				end
											
				--Retrieve alignment superelevation info [mm], convert to [m]:
				local c1 = RC__isNan(path1Info.Cant) and 0.0 or path1Info.Cant/1000.0
				local c2 = RC__isNan(path2Info.Cant) and 0.0 or path2Info.Cant/1000.0
				local cr1 = path1Info.CantRotation == nil and "CW" or path1Info.CantRotation --Treat as "CW" if no cant present
				local cr2 = path2Info.CantRotation == nil and "CW" or path2Info.CantRotation --Treat as "CW" if no cant present

				--Deduce contributions from cant, checking whether the cants lean 'net' towards each other or not.
				local cantContribution = 0.0
				if path1IsLeftOfPath2 then 
					if cr1 == "CW" and cr2 == "CCW" then cantContribution = 2.3 * (c1+c2) --both leaning towards each other
					elseif cr1 == "CW" and cr2 == "CW" then cantContribution = 2.3 * math.max(0,c1-c2) --both leaning to the right
					elseif cr1 == "CCW" and cr2 == "CCW" then cantContribution = 2.3 * math.max(0,c2-c1) --both leaning to the left
					elseif cr1 == "CCW" and cr2 == "CW" then cantContribution = 0.0 --both leaning away from each other
					else return 98.0 --error
					end
				else
					--path1 is right of path2
					if cr1 == "CW" and cr2 == "CCW" then cantContribution = 0.0 --both leaning away from each other
					elseif cr1 == "CW" and cr2 == "CW" then cantContribution = 2.3 * math.max(0,c2-c1) --both leaning to the right
					elseif cr1 == "CCW" and cr2 == "CCW" then cantContribution = 2.3 * math.max(0,c1-c2) --both leaning to the left
					elseif cr1 == "CCW" and cr2 == "CW" then cantContribution = 2.3 * (c1+c2) --both leaning towards each other
					else return 99.0 --error
					end
				end

				return curveContribution + cantContribution
			end
		</Formula>
 </LuaFunction>
 <PositionToolSettings Name="SNCF1" LuaKmFormattingFunctionName="SNCF_placeholder1"/>
 <LuaFunction Name="NOBN_com_chkNumberOfOcpAreas()" ReturnType="String" Description="Model check assessing the number of (visible) Operation / Control Point (OCP) areas that the object belongs to.">
  <Constructor>String NOBN_com_chkNumberOfOcpAreas()</Constructor>
  <Formula>
			function NOBN_com_chkNumberOfOcpAreas()
				areas = RcArea:filter(function(x) return x.RcType == "JBTFE_DIV OCP område" end)
				if (areas.Count == 0) then 
					return "0: UNFINISHED - Object does not belong to any Operation / Control area (OCP). Create an Rc-Area of type 'OCP' around the object."
					-- NB: Leave it to the object's own SymbolFrame formula to define whether a 'Unfinished' frame should be shown or not
				elseif (areas.Count == 1) then 
					return areas[0].code..": OK - Object belongs to just one Operation / Control (OCP) area.",_ok
				else 
					return areas.Count..": WARNING - Object belongs to several Operation / Control (OCP) areas.",_warning
				end
			end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_com_chkTriggerPointObjectModelChecks()" ReturnType="String" Description="Finds the point objects inside this area, they may then be refreshed whenever the area itself is modelchecked.">
  <Constructor>NOBN_com_chkTriggerPointObjectModelChecks()</Constructor>
  <Formula>
			function NOBN_com_chkTriggerPointObjectModelChecks()
				local objList = getPointObjectsInArea():filter(
								function (x) 
									return (x.RcType ~= "JBTFE_DIV Område") and (x.RcType ~= "JBTFE_DIV OCP område") and (x.RcType ~= "JBTKO_SPO Spor")
								end)
				local n = getCollectionLength(objList)
				local t = {}
				local i
				for i = 0, n-1 do
					table.insert(t,objList[i])
				end
				if n == 0 then
					return 0,_info("No point objects in area.")
				else
					return n,t,_info(n.." point objects' model checks have been refreshed.")
				end
			end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_chkConnectionAlignmentCompatibility()" ReturnType="String" Description="Checks that own alignment type and target alignment type are compatible at a connection.">
  <Constructor>String NOBN_trk_chkConnectionAlignmentCompatibility()</Constructor>
  <Formula>
function NOBN_trk_chkConnectionAlignmentCompatibility()
	if Alignment == nil then return "UNFINISHED - Missing own alignment." end
	if TargetAlignment == nil then return "UNFINISHED - Missing target alignment." end
	if TargetAlignment.RcType ~= Alignment.RcType then return TargetAlignment.RcType..": ERROR - Target alignment type must be same as own alignment type '"..Alignment.RcType.."'.",_error end
	if Alignment.id == TargetAlignment.id then return TargetAlignment.id..": ERROR - Target alignment is same as own alignment.",_error end
	return Alignment.RcType.."/"..TargetAlignment.RcType..": OK - Alignment types are compatible.",_ok
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_chkConnectionContinuity()" ReturnType="String" Description="Checks that alignments are well-positioned where they meet (in the XY-plane).">
  <Constructor>String NOBN_trk_chkConnectionContinuity()</Constructor>
  <Formula>
function NOBN_trk_chkConnectionContinuity()
	tol = 0.030 -- meter
	if Alignment == nil then return "UNFINISHED - Missing own alignment." end
	if TargetAlignment == nil then return "UNFINISHED - Missing target alignment." end
	if RcType == "KO-SPF Sporfortsettelse" then
		if ExtendingFromEnd then 
			p1 = alignment.RcAlignment.EndPoint
		else
			p1 = alignment.RcAlignment.StartPoint
		end 
		if ContinuingWithBegin then
			p2 = TargetAlignment.RcAlignment.StartPoint
		else 
			p2 = TargetAlignment.RcAlignment.EndPoint
		end
		delta = RC__getDistance2D(p1,p2)
	elseif RcType == "KO-SPV Sporveksel" then
		if not getAlignmentInfo().NormalProjectionExists then
			return Alignment.code..": WARNING - Connection object has no projection onto its own alignment (cannot compute mileage).",_warning
		end
		p1 = getAlignmentInfo().Point --Projection of stock rail joint onto own alignment (2D)
		d1 = RC__getDistance2D(p1,TargetAlignment.RcAlignment.StartPoint)
		d2 = RC__getDistance2D(p1,TargetAlignment.RcAlignment.EndPoint)
		delta = d1 &lt; d2 and d1 or d2
	elseif RcType == "KO-SPV Sporkryss" then
		-- Check that both alignments pass, i.e. none of them should have a continuation exactly at the crossing's position
		if not getAlignmentInfo(Alignment.id).NormalProjectionExists then
			return "ERROR: Crossing is outside Own Alignment - move crossing or extend own alignment.",_error
		elseif not getAlignmentInfo(TargetAlignment.id).NormalProjectionExists then
			return "ERROR: Crossing is outside Target Alignment - move crossing or extend target alignment.",_error
		else
			delta = RC__getDistance2D(getAlignmentInfo().Point.getAlignmentInfo(TargetAlignment.id).Point) --p projection (in XY-plane) onto both alignments
			if (delta &lt; tol/2) then
				return string.format("%.03f",delta) .. ": OK – Crossing is close to both alignments where they cross, within 50% of tolerance " .. string.format("%.03f", tol).." m.",_ok
			elseif (delta &lt; tol) then
				return string.format("%.03f",delta) .. ": WARNING – Crossing should be moved closer to where alignments cross, but is still within tolerance " .. string.format("%.03f", tol).." m.",_warning
			else
				return string.format("%.03f",delta) .. ": ERRROR – Crossing is placed too far away from where alignments cross, outside tolerance " .. string.format("%.03f", tol).." m.",_error
			end
		end
	else
		return RcType..": ERROR - Bad connection object type",_error
	end
	if (delta &lt; tol/2) then return string.format("%.03f",delta) .. ": OK – Alignments meet at connection within 50% of tolerance " .. string.format("%.03f", tol).." m.",_ok
	elseif (delta &lt; tol) then return string.format("%.03f",delta) .. ": WARNING – Alignments should be closer at connection, but are still within tolerance " .. string.format("%.03f", tol).." m.",_warning
	else return string.format("%.03f",delta) .. ": ERROR: Alignments are too far apart at connection, outside tolerance " .. string.format("%.03f", tol).." m.",_error end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_chkConnectionTangentMatch()" ReturnType="String" Description="Checks that alignment tangents (directions) match where they meet (in the XY-plane).">
  <Constructor>String NOBN_trk_chkConnectionTangentMatch()</Constructor>
  <Formula>
function NOBN_trk_chkConnectionTangentMatch()
	tol = 1.0  -- decimal degrees (Deutsche Bahn allegedly allows 1 degree in discontinuities)
	maxNumber = 20 -- 2:(maxNumber*2) is the steepest crossing that we will classify as a crossing and not as an engineering error
	if Alignment == nil then return "UNFINISHED - Missing own alignment." end
	if TargetAlignment == nil then return "UNFINISEHD - Missing target alignment." end
	
	if RcType == "KO-SPF Sporfortsettelse" then
		if ExtendingFromEnd then 
			t1 = Alignment.RcAlignment.HorizontalProfile.EndDir * (180/math.pi)
		else
			t1 = Alignment.RcAlignment.HorizontalProfile.Segments[0].StartDir * (180/math.pi)
		end 
		if ContinuingWithBegin then
			t2 = TargetAlignment.RcAlignment.HorizontalProfile.Segments[0].StartDir * (180/math.pi)
		else
			t2 = TargetAlignment.RcAlignment.HorizontalProfile.EndDir * (180/math.pi)
		end
		delta = ((90 + t2 - t1) % 180) - 90 --decimal degrees difference (alignments may be counterdirected)
		if (math.abs(delta) &lt; tol / 2) then return string.format("%.03f",delta) .. ": OK - Tangents match within 50% of tolerance +/- " .. string.format("%.03f", tol).." degrees.",_ok
		elseif (math.abs(delta) &lt; tol) then return string.format("%.03f",delta) .. ": WARNING – Tangents match, but close to tolerance +/- " ..
				string.format("%.03f", tol).." degrees.",_warning
		else return string.format("%.03f",delta) .. ": ERROR – Tangents are too different, outside tolerance +/- " .. string.format("%.03f", tol).." degrees.",_error
		end

	elseif RcType == "KO-SPV Sporveksel" then
		if not getAlignmentInfo().NormalProjectionExists then
			return Alignment.code..": WARNING - Connection object has no projection onto its own alignment (cannot compute mileage).",_warning
		end
		p1 = getAlignmentInfo().Point --Projection of stock rail joint onto own alignment (2D)
		d1 = RC__getDistance2D(p1,TargetAlignment.RcAlignment.StartPoint)
		d2 = RC__getDistance2D(p1,TargetAlignment.RcAlignment.EndPoint)
		t1 = math.atan(getAlignmentInfo().Tangent.Y, getAlignmentInfo().Tangent.X) * (180/math.pi) -- Can disregard Tangent.Z here, since only relative zize Y:X matters
		if d1 &lt; d2 then
			t2 = TargetAlignment.RcAlignment.HorizontalProfile.StartDir * (180/math.pi)
		else
			t2 = TargetAlignment.RcAlignment.HorizontalProfile.EndDir * (180/math.pi)
		end
		delta = ((90 + t2 - t1) % 180) - 90 --decimal degrees difference (alignments may be counterdirected)
		if (math.abs(delta) &lt; tol / 2) then return string.format("%.03f",delta) .. ": OK - Tangents match within 50% of tolerance +/- " .. string.format("%.03f", tol).." degrees.",_ok
		elseif (math.abs(delta) &lt; tol) then return string.format("%.03f",delta) .. ": WARNING – Tangents match, but close to tolerance +/- " ..
				string.format("%.03f", tol).." degrees.",_warning
		else return string.format("%.03f",delta) .. ": ERROR – Tangents are too different, outside tolerance +/- " .. string.format("%.03f", tol).." degrees.",_error
		end

	elseif RcType == "KO-SPV Sporkryss" then
		if not getAlignmentInfo().NormalProjectionExists then
			return Alignment.code..": WARNING - Connection object has no projection onto its own alignment (cannot compute mileage).",_warning
		end
		if not getAlignmentInfo(TargetAlignment.id).NormalProjectionExists then
			return TargetAlignment.code..": WARNING - Connection object has no projection onto its target alignment (cannot compute mileage).",_warning
		end
		-- Can disregard Tangent.Z here, since only relative size Y:X matters:
		t1 = math.atan(getAlignmentInfo().Tangent.Y, getAlignmentInfo().Tangent.X) * (180/math.pi)
		t2 = math.atan(getAlignmentInfo(TargetAlignment.id).Tangent.Y, getAlignmentInfo(TargetAlignment.id).Tangent.X) * (180/math.pi)

		x_1_9 = (180/math.pi) * math.atan(1/9) -- Single or double slip 1:9 point
		x_1_12 = (180/math.pi) * math.atan(1/12) -- Single or double slip 1:12 point
		x_2_9 = 2.0 * (180/math.pi) * math.atan(1/9) -- Crossing between four 1:9 switches in parallel tracks
		x_2_12 = 2.0 *(180/math.pi) * math.atan(1/12) -- Crossing between four 1:12 switches in parallel tracks

		delta = math.abs(((90 + t2 - t1) % 180) - 90) --decimal degrees difference (alignments may be counterdirected)
		d_1_9 = delta - x_1_9
		d_1_12 = delta - x_1_12
		d_2_9 = delta - x_2_9
		d_2_12 = delta - x_2_12
		crossingNumber = 1/math.tan(math.abs(delta*(math.pi/180))) --Add the angles between each track to the centerline between the tracks
	
		-- If angle is close to 1:9 or 1:12 then the crossing is probably part of an Englishman (EKW, DKW), and not a crossing:
		if math.abs(d_1_12) &lt; tol then 
			if math.abs(d_1_12) &lt; (tol / 2) then 
				return string.format("%.03f (1:%.03f): OK - Crossing tangents match 1:12 within 50%% of tolerance +/- %.03f degrees.", 
					d_1_12, 1/math.tan(delta*(math.pi/180)), tol),_ok
			else 
				return string.format("%.03f (1:%.03f): WARNING – Crossing tangents match 1:12, but close to tolerance +/- %.03f degrees.", 
					d_1_12, 1/math.tan(delta*(math.pi/180)), tol),_warning
			end
		elseif math.abs(d_1_9) &lt; tol then 
			if math.abs(d_1_9) &lt; (tol / 2) then 
				return string.format("%.03f (1:%.03f): OK - Crossing tangents match 1:9 within 50%% of tolerance +/- %.03f degrees.",
					d_1_9, 1/math.tan(delta*(math.pi/180)), tol),_ok
			else 
				return string.format("%.03f (1:%.03f): WARNING – Crossing tangents match 1:9, but close to tolerance +/- %.03f degrees.",
					d_1_9, 1/math.tan(delta*(math.pi/180)), tol),_warning
			end

		-- A standard crossing matches two symmetrical pairs of 1:9 or 1:12 switches (here called '2_9' and '2_12'):
		elseif math.abs(d_2_12) &lt; tol then 
			if math.abs(d_2_12) &lt; (tol / 2) then 
				return string.format("%.03f (2:%.03f): OK - Crossing tangents match 2:12 within 50%% of tolerance +/- %.03f degrees.", 
					d_2_12, 1/math.tan((delta/2)*(math.pi/180)), tol),_ok
			else 
				return string.format("%.03f (2:%.03f): WARNING – Crossing tangents match 2:12, but close to tolerance +/- %.03f degrees.", 
					d_2_12, 1/math.tan((delta/2)*(math.pi/180)), tol),_warning
			end
		elseif math.abs(d_2_9) &lt; tol then 
			if math.abs(d_2_9) &lt; (tol / 2) then 
				return string.format("%.03f (2:%.03f): OK - Crossing tangents match 2:9 within 50%% of tolerance +/- %.03f degrees.",
					d_2_9, 1/math.tan((delta/2)*(math.pi/180)), tol),_ok
			else 
				return string.format("%.03f (2:%.03f): WARNING – Crossing tangents match 2:9, but close to tolerance +/- %.03f degrees.",
					d_2_9, 1/math.tan((delta/2)*(math.pi/180)), tol),_warning
			end

		elseif crossingNumber &gt;= maxNumber then 
			return string.format("%.03f (1:%.01f): ERROR - Crossing tangents are close to being parallel, check for engineering or measurement errors.",
					delta, crossingNumber),_error

		else
			return string.format("%.03f (1:%.01f): WARNING – Crossing tangents do not fit 1:9, 1:12, 2:9 or 2:12 (single slip / double slip / 4 switches) within tolerance %.03f degrees", 
					delta, 1/(2*math.tan((delta/2)*(math.pi/180))), tol),_warning
		end
	
	else 
		return RcType..": ERROR - Bad connection object type",_error
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_chkConnectionElevationMatch()" ReturnType="String" Description="Checks that alignment elevations (Z-coordinate) match at the connection.">
  <Constructor>String NOBN_trk_chkConnectionElevationMatch()</Constructor>
  <Formula>
function NOBN_trk_chkConnectionElevationMatch()
	tol = 0.030  -- meter
	if Alignment == nil then return "UNFINISHED - Missing own alignment." end
	--Drop distance2D check here - is covered in other test:
	--if math.abs(DistanceToAlignment) &gt; 2e-3 then return string.format("%.03f",DistanceToAlignment)..
	--	": WARNING - Distance (2D) to own alignment should be close to zero.",_warning end
	if TargetAlignment == nil then return "UNFINISEHD - Missing target alignment." end
	if RcType == "KO-SPF Sporfortsettelse" then
		if ExtendingFromEnd then 
			z1 = Alignment.RcAlignment.EndPoint.Z
		else
			z1 = Alignment.RcAlignment.StartPoint.Z
		end 
		if ContinuingWithBegin then
			z2 = TargetAlignment.RcAlignment.StartPoint.Z
		else 
			z2 = TargetAlignment.RcAlignment.EndPoint.Z
		end
		delta = z2 - z1 -- meter difference in elevations at connection

	elseif RcType == "KO-SPV Sporveksel" then
		if not getAlignmentInfo().NormalProjectionExists then
			return Alignment.code..": WARNING - Connection object has no projection onto its own alignment (cannot compute mileage).",_warning
		end
		p1 = getAlignmentInfo().Point		--The projection of the StockRailJoint onto its own alignment
		d1 = RC__getDistance2D(TargetAlignment.RcAlignment.StartPoint,p1)
		d2 = RC__getDistance2D(TargetAlignment.RcAlignment.EndPoint,p1)
		z1 = p1.Z 							--TopOfRail where StockRailJoint is projected onto own alignment
		if d1 &lt; d2 then
			z2 = TargetAlignment.RcAlignment.StartPoint.Z
		else
			z2 = TargetAlignment.RcAlignment.EndPoint.Z
		end

	elseif RcType == "KO-SPV Sporkryss" then
		if not getAlignmentInfo().NormalProjectionExists then
			return Alignment.code..": WARNING - Connection object has no projection onto its own alignment (cannot compute mileage).",_warning
		end
		if not getAlignmentInfo(TargetAlignment.id).NormalProjectionExists then
			return TargetAlignment.code..": WARNING - Connection object has no projection onto its target alignment (cannot compute mileage).",_warning
		end
		z1 = getAlignmentInfo().Elevation
		z2 = getAlignmentInfo(TargetAlignment.id).Elevation
	
	else 
		return RcType..": ERROR - Bad connection object type",_error
	end
	if RC__isNan(z1) then z1 = 0 end
	if RC__isNan(z2) then z2 = 0 end
	delta = z2 - z1 -- meter difference in elevations at connection
	if (math.abs(delta) &lt; tol / 2) then return string.format("%.03f (%.03f / %.03f)",delta,z1,z2) .. ": OK - Elevations match within 50% of tolerance +/- " .. string.format("%.03f", tol).." m.",_ok
	elseif (math.abs(delta) &lt; tol) then return string.format("%.03f (%.03f / %.03f)",delta,z1,z2) .. ": WARNING – Elevations match, but close to tolerance +/- " .. string.format("%.03f", tol).." m.",_warning
	else return string.format("%.03f (%.03f / %.03f)",delta,z1,z2) .. ": ERROR – Elevations are too different, outside tolerance +/- " .. string.format("%.03f", tol).." m.",_error end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_chkConnectionGradientMatch()" ReturnType="String" Description="Checks the continuity of gradient through the connection.">
  <Constructor>NOBN_trk_chkConnectionGradientMatch()</Constructor>
  <Formula>
function NOBN_trk_chkConnectionGradientMatch()
	tol = 1.0  -- o/oo (per mille, elevation change per thousand meters running length)
	if Alignment == nil then return "UNFINISHED - Missing own alignment." end
	--Drop distance2D check here - is covered in other test:
	--if math.abs(DistanceToAlignment) > 2e-3 then return string.format("%.03f",DistanceToAlignment)..
	--	": WARNING - Distance (2D) to own alignment should be close to zero.",_warning end
	if TargetAlignment == nil then return "UNFINISHED - Missing target alignment." end
	if RcType == "KO-SPF Sporfortsettelse" then --find gradient in o/oo from the tangent vector at the alignment's ends, where there ends are closest
		if ExtendingFromEnd then 
			t = Alignment.RcAlignment.EndTangent
			g1 = 1000*math.atan(t.Z, math.sqrt(t.X^2 + t.Y^2))
			t1 = Alignment.RcAlignment.HorizontalProfile.EndDir
		else
			t = Alignment.RcAlignment.StartTangent
			g1 = 1000*math.atan(t.Z, math.sqrt(t.X^2 + t.Y^2))
			t1 = Alignment.RcAlignment.HorizontalProfile.Segments[0].StartDir
		end 
		if ContinuingWithBegin then
			t = TargetAlignment.RcAlignment.StartTangent
			g2 = 1000*math.atan(t.Z, math.sqrt(t.X^2 + t.Y^2))
			t2 = TargetAlignment.RcAlignment.HorizontalProfile.Segments[0].StartDir
		else 
			t = TargetAlignment.RcAlignment.EndTangent
			g2 = 1000*math.atan(t.Z, math.sqrt(t.X^2 + t.Y^2))
			t2 = TargetAlignment.RcAlignment.HorizontalProfile.EndDir
		end

	elseif RcType == "KO-SPV Sporveksel" then
		if not getAlignmentInfo().NormalProjectionExists then
			return Alignment.code..": WARNING - Connection object has no projection onto its own alignment (cannot compute mileage).",_warning
		end

		 --Own alignment's gradient and direction at stock rail joint:
		t = getAlignmentInfo().Tangent
		g1 = 1000*math.atan(t.Z, math.sqrt(t.X^2 + t.Y^2))
		t1 = math.atan(t.Y,t.X) * (180/math.pi)

		--Target alignment's gradient and direction where branch track takes off from own alignment:
		p1 = getAlignmentInfo().Point --The projection of the StockRailJoint onto its own alignment
		d1 = RC__getDistance2D(TargetAlignment.RcAlignment.StartPoint,p1)
		d2 = RC__getDistance2D(TargetAlignment.RcAlignment.EndPoint,p1)
		if d1 &lt; d2 then
			t = TargetAlignment.RcAlignment.StartTangent
			g2 = 1000 * math.atan(t.Z, math.sqrt(t.X^2 + t.Y^2))
			t2 = (180/math.pi) * math.atan(t.Y, t.X)
		else
			t = TargetAlignment.RcAlignment.EndTangent
			g2 = 1000*math.atan(t.Z, math.sqrt(t.X^2 + t.Y^2))
			t2 = (180/math.pi) * math.atan(t.Y, t.X)
		end

	else 
		return RcType..": ERROR - Bad connection object type",_error
	end

	-- Return o/oo difference in gradients at connection:
	if math.cos(t2-t1) > 0 then
		-- Same mileage directions
		delta = g2 - g1
	else 
		-- Opposite mileage directions
		delta = g2 - (-g1)
	end
	if (math.abs(delta) &lt; tol / 2) then
		return string.format("%.03f (%.03f / %.03f)",delta,g1,g2) .. ": OK - Gradients match within 50% of tolerance +/- " .. string.format("%.03f", tol).." o/oo.",_ok
	elseif (math.abs(delta) &lt; tol) then
		return string.format("%.03f (%.03f / %.03f)",delta,g1,g2) .. ": WARNING – Gradients match, but close to tolerance +/- " .. string.format("%.03f", tol).." o/oo.",_warning
	else 
		return string.format("%.03f (%.03f / %.03f)",delta,g1,g2) .. ": ERROR – Gradients are too different, outside tolerance +/- " .. string.format("%.03f", tol).." o/oo",_error
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_chkConnectionCantMatch()" ReturnType="String" Description="Checks the cant (superelevation) continuity through the connection.">
  <Constructor>NOBN_trk_chkConnectionCantMatch()</Constructor>
  <Formula>
function NOBN_trk_chkConnectionCantMatch()
	tol = 0.010  -- cant (superelevation) [m]
	msg = ""
	if Alignment == nil then return "UNFINISHED - Missing own alignment." end
	--Drop distance2D check here - is covered in other test:
	--if math.abs(DistanceToAlignment) &gt; 2e-3 then return string.format("%.03f",DistanceToAlignment)..
	--	": WARNING - Distance (2D) to own alignment should be close to zero.",_warning end
	if TargetAlignment == nil then return "UNFINISHED - Missing target alignment." end
	if RcType == "KO-SPF Sporfortsettelse" then
		if ExtendingFromEnd then
			p1 = Alignment.RcAlignment.EndPoint
		else
			p1 = Alignment.RcAlignment.StartPoint
		end 
		if ContinuingWithBegin then
			p2 = TargetAlignment.RcAlignment.StartPoint
		else 
			p2 = TargetAlignment.RcAlignment.EndPoint
		end
		z1 = getAlignmentInfo(p1).Cant
		z2 = getAlignmentInfo(TargetAlignment.id,p2).Cant
	
	elseif RcType == "KO-SPV Sporveksel" then
		if not getAlignmentInfo().NormalProjectionExists then
			return Alignment.code..": WARNING - Connection object has no projection onto its own alignment (cannot compute mileage).",_warning
		end
		p1 = getAlignmentInfo().Point		--The projection of the StockRailJoint onto its own alignment
		d1 = RC__getDistance2D(TargetAlignment.RcAlignment.StartPoint,p1)
		d2 = RC__getDistance2D(TargetAlignment.RcAlignment.EndPoint,p1)
		z1 = getAlignmentInfo().Cant
		if d1 &lt; d2 then
			z2 = getAlignmentInfo(TargetAlignment.id,TargetAlignment.RcAlignment.StartPoint).Cant		
		else
			z2 = getAlignmentInfo(TargetAlignment.id,TargetAlignment.RcAlignment.EndPoint).Cant			
		end

	else 
		return RcType..": ERROR - Bad connection object type",_error
	end

	if RC__isNan(z1) then z1 = 0 end
	if RC__isNan(z2) then z2 = 0 end
	delta = z2 - z1 -- difference [mm] in superelevations at connection
	-- Presentation in meters:
	--TODO: Check all combinations of CW, CCW and track directions
	delta = delta/1000
	if (math.abs(delta) &lt; tol / 2) then return string.format("%.03f (%.03f / %.03f)",delta,z1,z2) .. ": OK - Cants match within 50% of tolerance +/- " .. string.format("%.03f", tol).." m.",_ok
	elseif (math.abs(delta) &lt; tol) then return string.format("%.03f (%.03f / %.03f)",delta,z1,z2) .. ": WARNING – Cants match, but close to tolerance +/- " .. string.format("%.03f", tol).." m.",_warning
	else return string.format("%.03f (%.03f / %.03f)",delta,z1,z2) .. ": ERROR – Cants are too different, outside tolerance +/- " .. string.format("%.03f", tol).." m.",_error end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_chkConnectionGradientAndCantMatch()" ReturnType="String" Description="Checks the cant (superelevation) continuity through the connection.">
  <Constructor>NOBN_trk_chkConnectionGradientAndCantMatch(callingProperty)</Constructor>
  <Formula>
function NOBN_trk_chkConnectionGradientAndCantMatch(CallingProperty)
	-- 'CallingProperty' identifies the intended custom property where the result is to be returned (since this function does not know otherwise who is calling)
	tol = 0.300  -- Decimal degrees
	msg = "" -- to be returned with _info(msg)
	if Alignment == nil then return "UNFINISHED - Missing own alignment." end
	--Drop distance2D check here - is covered in other test:
	--if math.abs(DistanceToAlignment) &gt; 2e-3 then return string.format("%.03f",DistanceToAlignment)..
	--	": WARNING - Distance (2D) to own alignment should be close to zero.",_warning end
	if TargetAlignment == nil then return "UNFINISHED - Missing target alignment." end
	if RcType == "KO-SPV Sporkryss" then
		if not getAlignmentInfo().NormalProjectionExists then
			return Alignment.code..": WARNING - Connection object has no projection onto its own alignment (cannot compute mileage).",_warning
		end
		if not getAlignmentInfo(TargetAlignment.id).NormalProjectionExists then
			return TargetAlignment.code..": WARNING - Connection object has no projection onto its target alignment (cannot compute mileage).",_warning
		end
		-- Get info about the projections of the Crossing onto its own / its target alignment
		a1 = getAlignmentInfo() --own alignment
		a2 = getAlignmentInfo(TargetAlignment.id) --target alignment

		-- Crossing's projection onto own and target alignments [3D vector {X,Y,Z}]:
		p1 = a1.Point						
		p2 = a2.Point
		
		-- Alignments' tangential, normalized, vectors at projection points [3D vector {X,Y,Z}]:
		t1 = getAlignmentInfo().Tangent
		t2 = getAlignmentInfo(TargetAlignment.id).Tangent
		if t1 == nil or t2 == nil then return "UNFINISHED - Missing elevation data, cannot compute normal vector(s)." end

		-- Alignment direction phi wrt WCS East [rad]:
		phi1 = math.atan(a1.Tangent.y,a1.Tangent.x)
		phi2 = math.atan(a2.Tangent.y,a2.Tangent.x)
		
		-- JigSymbolAppearance angle rho ("rholl"...) theta (zenith angles) due to cant [rad] (roll with cant):
		h1 = a1.Cant/1000.0
		h2 = a2.Cant/1000.0
		if RC__isNan(h1) and RC__isNan(h2) then 
			msg = "UNFINISHED -  Missing cant data in both alignments, assuming zero cant."
		elseif RC__isNan(h1) then 
			msg = "UNFINISHED -  Missing cant data in own alignment, assuming zero cant."
		elseif RC__isNan(h2) then 
			msg = "UNFINISHED -  Missing cant data in crossing (target) alignment, assuming zero cant."
		end
		-- 'this' is a point object:
		cg = Alignment.AlignmentSystem.CantGauge
		tcg = TargetAlignment.AlignmentSystem.CantGauge
		if tcg ~= cg then return ": ERROR - cant gauges are not identical in the two alignments: "..string.format("%.3f / %.3f",cg,tcg),_error end 
		if RC__isNan(h1) then 
			h1 = 0.0
			rho1 = 0.0
		else
			rho1 = math.asin((a1.CantRotation=="CCW" and h1 or -h1) / cg) 
		end
		if RC__isNan(h2) then
			h2 = 0.0
			rho2 = 0.0
		else
			rho2 = math.asin((a2.CantRotation=="CCW" and h2 or -h2) / cg) 
		end
		
		-- Rotation angle theta ('thilt'...) around the Alignment Coordinate System Y-axis (perp to track direction), Z pointing straight up (pitch with gradient)
		theta1 = math.atan(t1.z,math.sqrt(t1.x^2+t1.y^2)) 
		theta2 = math.atan(t2.z,math.sqrt(t2.x^2+t2.y^2)) 

		--Start with normal vector (0,0,1)
		n = {x="0.0",y="0.0",z="1.0"}

		--Then, apply zenith angle rho (roll) in the coordinate system where the 'x' axis points along the track direction:
		u1 = {x="0.0",y="0.0",z="0.0"}
		u1.x = 0.0
		u1.y = math.cos(rho1)*n.y - math.sin(rho1)*n.z
		u1.z = math.sin(rho1)*n.y + math.cos(rho1)*n.z

		u2 = {x="0.0",y="0.0",z="0.0"}
		u2.x = 0.0
		u2.y = math.cos(rho2)*n.y - math.sin(rho2)*n.z
		u2.z = math.sin(rho2)*n.y + math.cos(rho2)*n.z

		--Then, pitch the rolled normal vector with theta (tilt) around the second axis in the same axis system (perpendicular to the track direction):
		v1 = {x="0.0",y="0.0",z="0.0"}
		v1.x = math.cos(theta1)*u1.x - math.sin(theta1)*u1.z
		v1.y = u1.y
		v1.z = math.sin(theta1)*u1.x + math.cos(theta1)*u1.z
	
		v2 = {x="0.0",y="0.0",z="0.0"}
		v2.x = math.cos(theta2)*u2.x - math.sin(theta2)*u2.z
		v2.y = u2.y
		v2.z = math.sin(theta2)*u2.x + math.cos(theta2)*u2.z
			
		--Finally, express vectors in WCS coordinates, i.e rotate by phi (the forward direction in the WCS XY plane) around the WCS Z axis:
		w1 = {x="0.0",y="0.0",z="0.0"}
		w1.x = math.cos(phi1)*v1.x - math.sin(phi1)*v1.y
		w1.y = math.sin(phi1)*v1.x + math.cos(phi1)*v1.y 
		w1.z = v1.z 
	
		w2 = {x="0.0",y="0.0",z="0.0"}
		w2.x = math.cos(phi2)*v2.x - math.sin(phi2)*v2.y 
		w2.y = math.sin(phi2)*v2.x + math.cos(phi2)*v2.y 
		w2.z = v2.z
	
		--Assert normalized vectors:
		d1 = math.sqrt(w1.x^2+w1.y^2+w1.z^2)
		if math.abs(d1-1.000) > 4e-4 then return RC__round(d1,3)..": ERROR - w1 not unit vector.",_error end 
		d2 = math.sqrt(w2.x^2+w2.y^2+w2.z^2)
		if math.abs(d2-1.000) > 4e-4 then return RC__round(d2,3)..": ERROR - w2 not unit vector.",_error end 
		
		--Find 3D angle between normal vectors (knowing that cos(delta) = (w1.w2)/(|w1|*|w2|) - and both vectors are already of length 1. 
		delta = math.acos(w1.x*w2.x + w1.y*w2.y + w1.z*w2.z) * 180/math.pi 

		if (CallingProperty == "Var1") then
			return string.format("delta= %.04f",delta)
			..string.format(", rho= %.04f / %.04f",rho1*180/math.pi,rho2*180/math.pi)
			..string.format(", theta= %.04f / %.04f",theta1*180/math.pi,theta2*180/math.pi)
			..string.format(", phi= %.04f / %.04f",phi1*180/math.pi,phi2*180/math.pi)
		end

		if (CallingProperty == "Var2") then
			return string.format("N=(%.04f,%.04f,%.04f) / (%.04f,%.04f,%.04f)",
			-math.cos(phi1)*math.sin(theta1)*math.cos(rho1) + math.sin(phi1)*math.sin(rho1),
			-math.sin(phi1)*math.sin(theta1)*math.cos(rho1) - math.cos(phi1)*math.sin(rho1),
			math.cos(theta1)*math.cos(rho1),
			-math.cos(phi2)*math.sin(theta2)*math.cos(rho2) + math.sin(phi2)*math.sin(rho2),
			-math.sin(phi2)*math.sin(theta2)*math.cos(rho2) - math.cos(phi2)*math.sin(rho2),
			math.cos(theta2)*math.cos(rho2)
			)
		end
		
	else 
		return RcType..": ERROR - Bad connection object type",_error,_info(msg)
	end

	if (math.abs(delta) &lt; tol / 2.0) then return string.format("%.03f",delta) .. ": OK - Normal vectors match within 50% of tolerance +/- " .. string.format("%.03f",tol).." degrees.",_ok,_info(msg)
	elseif (math.abs(delta) &lt; tol) then return string.format("%.03f",delta) .. ": WARNING – Normal vectors match, but close to tolerance +/- " .. string.format("%.03f",tol).." degrees.",_warning,_info(msg)
	else return string.format("%.03f",delta) .. ": ERROR – Normal vectors are too different, outside tolerance +/- " .. string.format("%.03f",tol).." degrees.",_error,_info(msg) end
end		
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_getSwitchLabelItem1()" ReturnType="String" Description="Returns the Fouling Point and Stock Rail joint reference mileages for a related switch.">
  <Constructor>String NOBN_trk_getSwitchLabelItem1([Boolean mileageIncreasesTowardsLeft])</Constructor>
  <Formula>
			function NOBN_trk_getSwitchLabelItem1(mileageIncreasesTowardsLeft)
				if mileageIncreasesTowardsLeft == nil then 
					mileageIncreasesTowardsLeft = false
				end
				local r,v,fp,ss
				r = Relations["Er etikett for anything"]
				if getCollectionLength(r) == 0 then
					return "UNFINISHED - Relate with 'Er etikett for anything'.",_warning
				else
					v = r[0]
					if v.RcType ~= "KO-SPV Sporveksel" then
						return "Bad related object type ["..v.RcType.."], a switch was expected",_warning
					end
					ss = v.ReferenceMileage
					fp = getFoulingPoints(v)
					if getCollectionLength(fp) == 0 then	
						return "Km. "..RC__toKm(ss).." (fant ikke Mid)",_warning
					else 
						fp = fp[0].Branch1.ReferenceMileage
						if ss &lt; fp then 
							if mileageIncreasesTowardsLeft == true then
								return "Km."..RC__toKm(fp).."/"..RC__toKm(ss)
							else
								return "Km."..RC__toKm(ss).."/"..RC__toKm(fp)
							end
						else
							if mileageIncreasesTowardsLeft == true then
								return "Km."..RC__toKm(ss).."/"..RC__toKm(fp)
							else
								return "Km."..RC__toKm(fp).."/"..RC__toKm(ss)
							end
						end
					end
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_getSwitchLabelItem2()" ReturnType="String" Description="Returns the related switch's name.">
  <Constructor>String NOBN_trk_getSwitchLabelItem2([Boolean mileageIncreasesTowardsLeft])</Constructor>
  <Formula>
			function NOBN_trk_getSwitchLabelItem2(mileageIncreasesTowardsLeft)
				if mileageIncreasesTowardsLeft == nil then 
					mileageIncreasesTowardsLeft = false
				end
				local s,r,n,v,fp,ss
				s = "Er etikett for anything"
				r,n = RC__getCollectionOfRelatedObjects(s)
				if n == 0 then
					return "UNFINISHED - Relate with '"..s.."'."
				else
					v = r[0]
					if v.RcType ~= "KO-SPV Sporveksel" then
						return "Bad related object type ["..v.RcType.."], a switch was expected",_warning
					end
					ss = v.ReferenceMileage
					fp = getFoulingPoints(v)
					if getCollectionLength(fp) == 0 then	
						return "SS "..v.code.." (fant ikke Mid)",_warning
					else
						mid = fp[0].Branch1.ReferenceMileage
						if ss &lt; fp then 
							if mileageIncreasesTowardsLeft == true then
								return "Mid/SS "..v.Code
							else
								return "SS/Mid "..v.Code
							end
						else
							if mileageIncreasesTowardsLeft == true then
								return "SS/Mid "..v.Code
							else
								return "Mid/SS "..v.Code
							end
						end
					end
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_getSwitchLabelItem3()" ReturnType="String" Description="Returns the switch's reference alignment code.">
  <Constructor>String NOBN_trk_getSwitchLabelItem3()</Constructor>
  <Formula>
			function NOBN_trk_getSwitchLabelItem3()
				local r,v,mid,ss
				r = Relations["Er etikett for anything"]
				if getCollectionLength(r) == 0 then
					return "UNFINISHED - Relate with 'Er etikett for anything'.",_warning
				else
					v = r[0]
					if v.RcType ~= "KO-SPV Sporveksel" then
						return "Bad related object type ["..v.RcType.."], 'KO-SPV Sporveksel' was expected",_warning
					end
					return "(Ref. "..v.ReferenceAlignment.Code..")"
				end
			end
		</Formula>
 </LuaFunction>
 <ObjectType DataType="RailCOMPLETELabel" Class="RailwayPlacedObject" Name="FE-DIV Etikett" Layer="JBTFE_ETIKETTER" Color="ByLayer" Group="Felles/Etiketter">
  <RelationSpace>etikett</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Felles"/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="A-1-0-VLB-018">
   <Variant Name="A-1-0-VLB-018"/>
   <Variant Name="A-1-0-VLT-018"/>
   <Variant Name="A-1-0-VRB-018"/>
   <Variant Name="A-1-0-VRT-018"/>
   <Variant Name="B-1-0-HLB-018"/>
   <Variant Name="B-1-0-HLT-018"/>
   <Variant Name="B-1-0-HRB-018"/>
   <Variant Name="B-1-0-HRT-018"/>
   <Variant Name="C-1-0-HLB-025"/>
   <Variant Name="C-1-0-HLT-025"/>
   <Variant Name="C-1-0-HRB-025"/>
   <Variant Name="C-1-0-HRT-025"/>
   <Variant Name="C-1-1-HLB-025-018"/>
   <Variant Name="C-1-1-HLT-025-018"/>
   <Variant Name="C-1-1-HRB-025-018"/>
   <Variant Name="C-1-1-HRT-025-018"/>
   <Variant Name="C-1-2-HLB-025-018"/>
   <Variant Name="C-1-2-HLT-025-018"/>
   <Variant Name="C-1-2-HRB-025-018"/>
   <Variant Name="C-1-2-HRT-025-018"/>
   <Variant Name="D-1-1-HLB-025-018"/>
   <Variant Name="D-1-1-HLT-025-018"/>
   <Variant Name="D-1-1-HRB-025-018"/>
   <Variant Name="D-1-1-HRT-025-018"/>
   <Variant Name="D-1-2-HLB-025-018"/>
   <Variant Name="D-1-2-HLT-025-018"/>
   <Variant Name="D-1-2-HRB-025-018"/>
   <Variant Name="D-1-2-HRT-025-018"/>
  </Variants>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),5)</Formula>
  </LuaExpression>
  <LuaExpression Name="ReferenceMileage">
   <Formula>
				s = "Er etikett for anything"
				r,n = RC__getCollectionOfRelatedObjects(s)
				if n == 0 then 
					return getPropertyValue("ReferenceMileage"),_info("UNFINISHED - Relate with '"..s.."'.")
				else
					return r[0].ReferenceMileage
				end

				r,n = RC__getCollectionOfRelatedObjects("Er etikett for anything")
				return (n &gt; 0) and r[0].ReferenceMileage or getPropertyValue("ReferenceMileage")
			</Formula>
  </LuaExpression>
  <LuaExpression Name="LabelItem1">
   <Formula>RC_com_getLabelItem1()</Formula>
  </LuaExpression>
  <LuaExpression Name="LabelItem2">
   <Formula>RC_com_getLabelItem2()</Formula>
  </LuaExpression>
  <LuaExpression Name="LabelItem3">
   <Formula>RC_com_getLabelItem3()</Formula>
  </LuaExpression>
  <InsertPointObject DisplayName="Etikett A" VariantName="A-1-0-VRB-018" DisplayBlockName="NO-BN-2D-JBTFE-LABEL-A-1-0-VRB-018-{{SymbolMode}}">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject DisplayName="Etikett B" VariantName="B-1-0-HLT-018" DisplayBlockName="NO-BN-2D-JBTFE-LABEL-B-1-0-HRB-018-{{SymbolMode}}">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject DisplayName="Etikett C" VariantName="C-1-0-HLT-025" DisplayBlockName="NO-BN-2D-JBTFE-LABEL-C-1-0-HRB-025-{{SymbolMode}}">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject DisplayName="Etikett C (2 linjer)" VariantName="C-1-1-HLT-025-018" DisplayBlockName="NO-BN-2D-JBTFE-LABEL-C-1-0-HRB-025-{{SymbolMode}}">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject DisplayName="Etikett D" VariantName="D-1-1-HRB-025-018" DisplayBlockName="NO-BN-2D-JBTFE-LABEL-D-1-1-HRB-025-018-{{SymbolMode}}">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject DisplayName="Etikett D (3 linjer)" VariantName="D-1-2-HRB-025-018" DisplayBlockName="NO-BN-2D-JBTFE-LABEL-D-1-2-HRB-025-018-{{SymbolMode}}">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTFE-LABEL-A-1-0-VLB-018" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="true" AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTFE-LABEL
				{% if    Variant == 'A-1-0-VLB-018' %}A-1-0-VLB-018
				{% elsif Variant == 'A-1-0-VLT-018' %}A-1-0-VLT-018
				{% elsif Variant == 'A-1-0-VRB-018' %}A-1-0-VRB-018
				{% elsif Variant == 'A-1-0-VRT-018' %}A-1-0-VRT-018
			
				{% elsif Variant == 'B-1-0-HLB-018' %}B-1-0-HLB-018
				{% elsif Variant == 'B-1-0-HLT-018' %}B-1-0-HLT-018
				{% elsif Variant == 'B-1-0-HRB-018' %}B-1-0-HRB-018
				{% elsif Variant == 'B-1-0-HRT-018' %}B-1-0-HRT-018

				{% elsif Variant == 'C-1-0-HLB-025' %}C-1-0-HLB-025
				{% elsif Variant == 'C-1-0-HLT-025' %}C-1-0-HLT-025
				{% elsif Variant == 'C-1-0-HRB-025' %}C-1-0-HRB-025
				{% elsif Variant == 'C-1-0-HRT-025' %}C-1-0-HRT-025

				{% elsif Variant == 'C-1-1-HLB-025-018' %}C-1-1-HLB-025-018
				{% elsif Variant == 'C-1-1-HLT-025-018' %}C-1-1-HLT-025-018
				{% elsif Variant == 'C-1-1-HRB-025-018' %}C-1-1-HRB-025-018
				{% elsif Variant == 'C-1-1-HRT-025-018' %}C-1-1-HRT-025-018

				{% elsif Variant == 'C-1-2-HLB-025-018' %}C-1-2-HLB-025-018
				{% elsif Variant == 'C-1-2-HLT-025-018' %}C-1-2-HLT-025-018
				{% elsif Variant == 'C-1-2-HRB-025-018' %}C-1-2-HRB-025-018
				{% elsif Variant == 'C-1-2-HRT-025-018' %}C-1-2-HRT-025-018

				{% elsif Variant == 'D-1-1-HLB-025-018' %}D-1-1-HLB-025-018
				{% elsif Variant == 'D-1-1-HLT-025-018' %}D-1-1-HLT-025-018
				{% elsif Variant == 'D-1-1-HRB-025-018' %}D-1-1-HRB-025-018
				{% elsif Variant == 'D-1-1-HRT-025-018' %}D-1-1-HRT-025-018

				{% elsif Variant == 'D-1-2-HLB-025-018' %}D-1-2-HLB-025-018
				{% elsif Variant == 'D-1-2-HLT-025-018' %}D-1-2-HLT-025-018
				{% elsif Variant == 'D-1-2-HRB-025-018' %}D-1-2-HRB-025-018
				{% elsif Variant == 'D-1-2-HRT-025-018' %}D-1-2-HRT-025-018
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
   <SymbolAttribute Tag="T01">
    <Value>{{LabelItem1}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="T02">
    <Value>{{LabelItem2}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="T03">
    <Value>{{LabelItem3}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETETable" Class="RCTable" Name="FE-DIV Brukerdefinert tabell" Layer="JBTFE_TABELLER" Color="ByLayer" Group="Felles/Brukerdefinert tabell">
  <RelationSpace>tabell</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>Variant .. " - " .. RC__getUrlFilename()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Brukerdefinert">
   <Variant Name="Brukerdefinert"/>
  </Variants>
  <InsertTable VariantName="Brukerdefinert" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Brukerdefinert</Title>
    <IncludeTitle>true</IncludeTitle>
    <ShowInvisibleObjects>false</ShowInvisibleObjects>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>false</LuaFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <Font>RC-STANDARD</Font>
    <TitleTextHeight>5</TitleTextHeight>
    <HeaderTextHeight>3.5</HeaderTextHeight>
    <DataTextHeight>2.5</DataTextHeight>
    <VerticalCellMargin>1.0</VerticalCellMargin>
    <HorizontalCellMargin>1.0</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>0</WrapDepth>
    <WrapSpacing>0</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>false</RepeatHeaders>
    <TableFormat>Standard</TableFormat>
    <Columns>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>Name</Data>
      <Title>Navn</Title>
      <Sort/>
      <Guid>71b321ec-4bc3-493d-974b-2b01236d720c</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>string.format("Km.%.3f",ReferenceMileage/1000)</Data>
      <Title>Km eget spor</Title>
      <Sort>Ascending</Sort>
      <Guid>10272f0b-a413-49f6-bd6a-b520ea345d97</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>10272f0b-a413-49f6-bd6a-b520ea345d97</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETETable" Class="RCTable" Name="FE-DIV Skiltplantabell" Layer="JBTFE_TABELLER" Color="ByLayer" Group="Felles/Skiltplantabeller">
  <RelationSpace>tabell</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>Variant .. " - " .. RC__getUrlFilename()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Skiltplan tabell (tverrfaglig trafikkskiltplan)">
   <Variant Name="Skiltplan tabell (tverrfaglig trafikkskiltplan)"/>
   <Variant Name="Arbeidsområder"/>
   <Variant Name="Stasjonsskilt (publikumsskilting)"/>
   <Variant Name="Rømningsskilt i tunnel"/>
   <Variant Name="Høyspenningsfare på KL-master"/>
  </Variants>
  <InsertTable VariantName="Skiltplan tabell" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Skiltplan tabell</Title>
    <IncludeTitle>true</IncludeTitle>
    <ShowInvisibleObjects>false</ShowInvisibleObjects>
    <ObjectManagerFilter/>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>false</LuaFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <TitleTextHeight>12</TitleTextHeight>
    <HeaderTextHeight>10</HeaderTextHeight>
    <DataTextHeight>8</DataTextHeight>
    <VerticalCellMargin>1.5</VerticalCellMargin>
    <HorizontalCellMargin>1.5</HorizontalCellMargin>
    <BlockScale>5</BlockScale>
    <MinRowHeight>3</MinRowHeight>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>0</WrapDepth>
    <WrapSpacing>0</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>false</RepeatHeaders>
    <TableFormat>Standard</TableFormat>
    <Columns>
     <ColumnSpecification>
      <Headers/>
      <Width>30</Width>
      <Data>if (alignment.type ~= "mainTrack" or alignment.mainDir == "down") and (dir == "up" or dir == "both") then 
	pri = 2000
elseif (alignment.type ~= "mainTrack" or alignment.mainDir == "down") and (dir == "down" or dir == "both") then  
	pri = 3000
elseif (alignment.type == "mainTrack" and alignment.mainDir == "up") and (dir == "up" or dir == "both") then  
	pri = 0
elseif (alignment.type == "mainTrack" and alignment.mainDir == "up") and (dir == "down") then  
	pri = 1000
else 
	pri = -1,_warning
end 

local function is(pattern)
	if variant == nil then 
		return false
	else 
		return string.match(Variant,pattern)
	end
end

--Signal prioritering
if is("60") then delta = 0
elseif is("62") then delta = 1
elseif is("101") then delta = 2
elseif is("refleks") then delta = 3
elseif is("102") then delta = 4
elseif is("68C") then delta = 5
elseif is("72") then delta = 6

--Hastighetsskilt
elseif is("68A") or is("68B") then delta = 7
elseif is("68F") then delta = 8
elseif is("68G") then delta = 9
elseif is("68D") then delta = 10
elseif is("69") then delta = 11

--Toglengdeskilt
elseif is("74") then delta = this.trainLength
else delta = 40
end

return pri + delta</Data>
      <Title>Pri</Title>
      <Sort>Ascending</Sort>
      <Guid>be5a9dbd-24ed-4eca-8694-c8bc64016af4</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Banestrekning</Title>
       </Header>
       <Header>
        <Title>XXXX</Title>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title>Stedsreferanse</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>string.format("%3d %03d",ReferenceMileage/1000,(ReferenceMileage+0.5)%1000) --No period, avoid AutoCAD interpretation</Data>
      <Title>Posisjon skilt (km)</Title>
      <Sort>Ascending</Sort>
      <Guid>b92803e9-ec1a-485e-848b-2c512ce4a309</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Banestrekning</Title>
       </Header>
       <Header>
        <Title>XXXX</Title>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title>Stedsreferanse</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>local a = Relations["Har balisegruppe"]
if a.Count == 0 then
	return " "
else
	if a[0].Variant == "Repeterbalisegruppe" then
		target=a[0].Relations["Henter ATC styringsinformasjon fra signal/markerboard/skilt/stolpe/sporveksel"][0]
				
	elseif a[0].Variant == "Hastighetsbalisegruppe" then
		target=a[0].Relations["Har bremsekurve målpunkt i balisegruppe"][0].Relations["Har posisjonsdefinerende balise"][0]
	else
		target = a[0].Relations["Har posisjonsdefinerende balise"][0]
	end
	dif=target.ReferenceMileage-a[0].Relations["Har posisjonsdefinerende balise"][0].ReferenceMileage
	d = math.floor(dif + 0.5)
	if d == 0 then
		return " "
	else
		return math.abs(d)
	end
end</Data>
      <Title>Avstand merke [m]</Title>
      <Sort/>
      <Guid>343c68ed-38b2-49de-aef9-5359fe321add</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title>Fall</Title>
       </Header>
      </Headers>
      <Width>50</Width>
      <Data>local a,d

if (Relations["Har balisegruppe"].Count == 0) then 
	return " "
else
	a = Relations["Har balisegruppe"][0].Relations["Har bremsekurve målpunkt i balisegruppe"]			--Assume that start item has only one target item
	--First, find distance
	d = math.abs(a:distance())
	if (d == 0) then return " "	end
	--Second, find difference in elevation above sea level:
	t1 = getAlignmentInfo(this)
	t2 = getAlignmentInfo(a[0])
	local e1 = t1.elevation
	local e2 = t2.elevation
	local g1 = t1.gradient
	local g2 = t2.gradient

	if (tostring(dir) == "down") then
		g1 = -g1
		g2 = -g2
	elseif (tostring(dir) ~= "up") then
		return "*ERROR - bad direction*"
	end
		
	local g3 = (e2 - e1) / d * 1000
	
	-- Reduce info if gradients at each end are nearly identical to the average gradient: 
	if (math.abs(g2-g1) &lt; .01) and (math.abs(g3-g1) &lt; .01) then
		if(g3 &lt; 0) then return string.format("%.01f",-g3) end
	else 
		if (g1 &lt; 0) then return string.format("%.1f",-g1) end
	end
end
</Data>
      <Title>I kjøre- retn. [o/oo]</Title>
      <Sort/>
      <Guid>7eeee3be-c021-461d-a91e-56ee876b1257</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title>Skilt</Title>
       </Header>
       <Header>
        <Title>Øvrige spor</Title>
       </Header>
      </Headers>
      <Width>70</Width>
      <Data>if (alignment.type ~= "mainTrack" or alignment.mainDir == "down") and (dir == "up" or dir == "both") then 
	return getInvertedBlockImage(false,false,true,3)
end </Data>
      <Title>I km-retn.</Title>
      <Sort/>
      <Guid>9df3e927-ae52-4c1e-be75-fdeee7876f95</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title>Skilt</Title>
       </Header>
       <Header>
        <Title>Øvrige spor</Title>
       </Header>
      </Headers>
      <Width>70</Width>
      <Data>if (alignment.type ~= "mainTrack" or alignment.mainDir == "down") and (dir == "down") then  
	return getInvertedBlockImage(false,false,true,3)
end </Data>
      <Title>Mot km-retn.</Title>
      <Sort/>
      <Guid>b178d976-32be-4886-b30c-5a1c6b27a788</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title>Skilt</Title>
       </Header>
       <Header>
        <Title>Hovedspor</Title>
       </Header>
      </Headers>
      <Width>70</Width>
      <Data>if (alignment.type == "mainTrack" and alignment.mainDir == "up") and (dir == "up" or dir == "both") then  
	return getInvertedBlockImage(false,false,true,3)
end</Data>
      <Title>I km-retn.</Title>
      <Sort/>
      <Guid>694da97b-ad25-46e1-ae9c-3f4927febb72</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title/>
       </Header>
       <Header>
        <Title>Skilt</Title>
       </Header>
       <Header>
        <Title>Hovedspor</Title>
       </Header>
      </Headers>
      <Width>70</Width>
      <Data>if (alignment.type == "mainTrack" and alignment.mainDir == "up") and (dir == "down") then  
	return getInvertedBlockImage(false,false,true,3)
end </Data>
      <Title>Mot km-retn.</Title>
      <Sort/>
      <Guid>96431658-43eb-4e9a-ad75-adbb1efe6f72</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Dokumentnummer:</Title>
       </Header>
       <Header>
        <Title>Revisjon:</Title>
       </Header>
       <Header>
        <Title>Dato</Title>
       </Header>
       <Header>
        <Title/>
       </Header>
      </Headers>
      <Width>350</Width>
      <Data>local s0 = ""
local s1 = ""
local s5 = ""
if Variant then s0 = Variant else s0 = "" end
if (attachment == nil) then
	s1 = ""
	s5 = ""
else
	if getCollectionLength(Relations["Har balisegruppe"]) == 0 then
	
		--TODO: Bruk heller getCollectionLength(Relations[Er stolpe for tellepunkt"] &gt; 0 etc
		if Variant:match("64E") and Relations["Er stolpe for tellepunkt"] and Relations["Er stolpe for tellepunkt"][0] then
			s1 = "\nTilhører \t\t"..Relations["Er stolpe for tellepunkt"][0].RcType
			
		elseif Variant:match("68") or Variant:match("64E") or Variant:match("Signal 60") then
			obj = getNearbyPointObjects2D(15)
			s1 = " "
			for i = 0,obj.count-1 do
				if obj[i].Variant:match("balisegruppe") or obj[i].RcType:match("sporingsindikator")  then
					if obj[i].Relations["Har bremsekurve målpunkt i balisegruppe"] then
						if obj[i].Relations["Har bremsekurve målpunkt i balisegruppe"].Count ~= 0 then 
							s1 = "\nTilhører \t\t"..obj[i].name.." med målpunkt i balisegruppe "..obj[i].Relations["Har bremsekurve målpunkt i balisegruppe"][0].name
							break
						else 
							s1 = "\nTilhører \t\t"..obj[i].name
							break
						end
					end
				elseif obj[i].RcType:match("Telle") and Variant:match("64E") then
					s1 = "\nTilhører \t\t"..obj[i].RcType
					break
				end	
			end
		else
			s1 = " "
		end
		
		if Variant:match("kryss") then
			obj = getNearbyPointObjects2D(10)
			s1 = " "
			for i = 0,obj.count-1 do
				if obj[i].RcType:match("veksel") then
					s1="\nTilhører \t\t".."V."..tostring(obj[i].code)
					break
				elseif obj[i].RcType:match("Drivmaskin") then
					Cd = tostring(obj[i].name)
					place = string.find(Cd,"%.")
					s1 = "\nTilhører \t\t".."V."..string.sub(Cd,1,place-1)	
					break
				end				
			end
		end	
		
	else 
		if Relations["Har balisegruppe"][0].Relations["Har bremsekurve målpunkt i balisegruppe"] then
			if Relations["Har balisegruppe"][0].Relations["Har bremsekurve målpunkt i balisegruppe"].Count ~= 0 then 
				s1 = "\nTilhører \t\t"..Relations["Har balisegruppe"][0].name.." med målpunkt i balisegruppe "..Relations["Har balisegruppe"][0].Relations["Har bremsekurve målpunkt i balisegruppe"][0].name
			end
		else
			s1 = "\nTilhører \t\t"..Relations["Har balisegruppe"][0].name
		end
	end
	
	if (Attachment.Variant == nil) then 
		s5 = ""
	elseif Attachment.RcType:match("SPB") then
		s5 = "\nMontert på \t\t"..this.Attachment.Variant
	elseif Attachment.RcType:match("SA%-SIG") then
		s5="\nMontert på \t\t"..tostring(Attachment.name)
	else
		obj= getNearbyPointObjects2D(10)
		for i=0,obj.count-1 do
			if obj[i].RcType:match("SA%-SIG") and not this.RcType:match("Signal 68") then
				s5="\nMontert på \t\t"..tostring(obj[i].name)
				break
			elseif obj[i].RcType:match("SPB") then
				s5="\nMontert på \t\t"..tostring(obj[i].Variant)
				break
			else
				s5 = "\nMontert på \t\t"..this.Attachment.Variant				
			end				
		end		
			
	end
end
return s0..s1..s5
</Data>
      <Title>Anmerkning</Title>
      <Sort/>
      <Guid>089c3e0b-5fd8-44ce-8e86-9dc08934f5ec</Guid>
      <Alignment>MiddleLeft</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Dokumentnummer:</Title>
       </Header>
       <Header>
        <Title>Revisjon:</Title>
       </Header>
       <Header>
        <Title>Dato</Title>
       </Header>
       <Header>
        <Title/>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>return Alignment.name</Data>
      <Title>Spor</Title>
      <Sort>Ascending</Sort>
      <Guid>88a08f68-05ba-4e5c-a7b6-4ed8d281a731</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Dokumentnummer:</Title>
       </Header>
       <Header>
        <Title>Revisjon:</Title>
       </Header>
       <Header>
        <Title>Dato:</Title>
       </Header>
       <Header>
        <Title/>
       </Header>
      </Headers>
      <Width>50</Width>
      <Data>d = math.abs(DistanceToAlignment)
if d &lt; 1.8 then return "Bad dist: "..d  --less than this and the poor sign/board will be hit by a train  
elseif RightSided then return "Høyre"
else return "Venstre" 
end</Data>
      <Title>Side av spor</Title>
      <Sort/>
      <Guid>0352ae4c-7592-4694-9a4f-5a154ef4fbea</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Dokumentnummer:</Title>
       </Header>
       <Header>
        <Title>Revisjon:</Title>
       </Header>
       <Header>
        <Title>Dato</Title>
       </Header>
       <Header>
        <Title/>
       </Header>
      </Headers>
      <Width>25</Width>
      <Data>local function is(pattern)
	if variant == nil then return false
	else return string.match(Variant,pattern)
	end
end

if is("68") or is("69") or is("74")		then return "SO"
elseif is("64A") 						then return "SE"
elseif is("64B") or is("65") 			then return "E"
elseif is("63") or is("75") 			then return "O"
elseif is("kjedebrudd") 				then return "SO"
elseif is("bevegelig kryss") 			then return "SO"
else
	return "S"
end</Data>
      <Title>Fag</Title>
      <Sort/>
      <Guid>549bdf1f-00d5-43dd-99a4-c079f24ac2c4</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Dokumentnummer:</Title>
       </Header>
       <Header>
        <Title>Revisjon:</Title>
       </Header>
       <Header>
        <Title>Dato</Title>
       </Header>
       <Header>
        <Title/>
       </Header>
      </Headers>
      <Width>90</Width>
      <Data>if Tag == "" then return "-" else return Tag end</Data>
      <Title>BaneData ID</Title>
      <Sort/>
      <Guid>204f9496-eefb-4c67-9a4d-1fdf83e6b0d4</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>b92803e9-ec1a-485e-848b-2c512ce4a309</string>
     <string>88a08f68-05ba-4e5c-a7b6-4ed8d281a731</string>
     <string>be5a9dbd-24ed-4eca-8694-c8bc64016af4</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETETable" Class="RCTable" Name="FE-DIV Sporprosjekteringstabell" Layer="JBTFE_TABELLER" Color="ByLayer" Group="Overbygning/Sporprosjekteringstabeller">
  <RelationSpace>tabell</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>Variant .. " - " .. RC__getUrlFilename()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Track data overview">
   <Variant Name="Track data overview"/>
   <Variant Name="Track connectivity"/>
  </Variants>
  <InsertTable VariantName="Track data overview" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Track data overview</Title>
    <IncludeTitle>true</IncludeTitle>
    <ShowInvisibleObjects>false</ShowInvisibleObjects>
    <ObjectManagerFilter/>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>RcType == "JBTKO_SPO Spor"</LuaFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <TitleTextHeight>5</TitleTextHeight>
    <HeaderTextHeight>3.5</HeaderTextHeight>
    <DataTextHeight>2.5</DataTextHeight>
    <VerticalCellMargin>1</VerticalCellMargin>
    <HorizontalCellMargin>1</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <MinRowHeight>3</MinRowHeight>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>0</WrapDepth>
    <WrapSpacing>0</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>false</RepeatHeaders>
    <VerticalNumbering>
     <Enabled>true</Enabled>
     <IsVertical>true</IsVertical>
     <Location>Left</Location>
     <NumberFormat>Numbers</NumberFormat>
     <TextHeight>2</TextHeight>
     <HideBorders>true</HideBorders>
     <Alignment>MiddleCenter</Alignment>
    </VerticalNumbering>
    <HorizontalNumbering>
     <Enabled>false</Enabled>
     <IsVertical>false</IsVertical>
     <Location>Bottom</Location>
     <NumberFormat>Numbers</NumberFormat>
     <TextHeight>2</TextHeight>
     <HideBorders>true</HideBorders>
     <Alignment>MiddleCenter</Alignment>
    </HorizontalNumbering>
    <TableFormat>Standard</TableFormat>
    <Font>RC-STANDARD</Font>
    <Columns>
     <ColumnSpecification>
      <Guid>c493578d-b4dc-48fe-8af8-c55a96dc0556</Guid>
      <Headers>
       <Header Name="General"/>
       <Header Name="Object Type"/>
      </Headers>
      <Width>40</Width>
      <Sort>Ascending</Sort>
      <Alignment>MiddleCenter</Alignment>
      <Data>RcType</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>71b321ec-4bc3-493d-974b-2b01236d720c</Guid>
      <Headers>
       <Header Name="General"/>
       <Header Name="Track name"/>
      </Headers>
      <Width>100</Width>
      <Sort>Ascending</Sort>
      <Alignment>MiddleCenter</Alignment>
      <Data>name</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>36dd2219-d127-489f-a924-69c8d4d0c885</Guid>
      <Headers>
       <Header Name="General"/>
       <Header Name="Horizontal length [m]"/>
      </Headers>
      <Width>40</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>string.format("%.03f",RcAlignment.EndMileage-RcAlignment.StartMileage)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>2dffb58b-f6a6-457b-98df-e2ffb37a285f</Guid>
      <Headers>
       <Header Name="General"/>
       <Header Name="Direction of increasing mileage (assuming fairly horizontal tracks in current UCS)"/>
      </Headers>
      <Width>40</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>
-- Compare the X-coordinates (0 decimal degrees = East) for start and end of alignment in current User Coordinate System:
o = DocumentData.Document.Database.Ucsorg
u = DocumentData.Document.Database.Ucsxdir
ang = math.atan(u.y,u.x)
p = RcAlignment.StartPoint
u1x =  (p.x-o.x)*math.cos(ang) + (p.y-o.y)*math.sin(ang)
--u1y = -(p.x-o.x)*math.sin(ang) + (p.y-o.y)*math.cos(ang)
p = RcAlignment.EndPoint
u2x =  (p.x-o.x)*math.cos(ang) + (p.y-o.y)*math.sin(ang)
--u2y = -(p.x-o.x)*math.sin(ang) + (p.y-o.y)*math.cos(ang)
return string.format("%s",u2x-u1x > 0 and "Right" or "Left")					
					</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>0bf10925-d101-482f-be0b-dfbe2239b92d</Guid>
      <Headers>
       <Header Name="Start"/>
       <Header Name="Mileage [km]"/>
      </Headers>
      <Width>40</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>RC__toKm(RcAlignment.StartMileage,6)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>aaa10872-cf3a-4246-8889-0acb9f79275e</Guid>
      <Headers>
       <Header Name="Start"/>
       <Header Name="Tangent direction [WCS decimal degrees (East=0, positive=CCW)]"/>
      </Headers>
      <Width>40</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>
						ang = (360 + math.atan(RcAlignment.StartTangent.Y,RcAlignment.StartTangent.X)*180/math.pi) % 360 
						if ang > 180 then ang = ang - 360 end
						return string.format("%.03f",ang)
					</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>f90bb4a3-6c04-4d52-ada9-e1bd55a76c1b</Guid>
      <Headers>
       <Header Name="Start"/>
       <Header Name="Gradient [o/oo]"/>
      </Headers>
      <Width>40</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>x = RcAlignment.StartTangent.x
y = RcAlignment.StartTangent.y
z = RcAlignment.StartTangent.z
g = 1000 * math.sqrt(z^2 / (x^2 + y^2))
return string.format("%.03f",g)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>446b7aaf-02ea-45f4-8276-a4fab794ef67</Guid>
      <Headers>
       <Header Name="End"/>
       <Header Name="Mileage [km]"/>
      </Headers>
      <Width>40</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>RC__toKm(RcAlignment.EndMileage,6)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>cb9d1988-966c-437c-bc84-7e0564e0a83f</Guid>
      <Headers>
       <Header Name="End"/>
       <Header Name="Tangent direction [WCS decimal degrees (East=0)]"/>
      </Headers>
      <Width>40</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>
						ang = (360 + math.atan(RcAlignment.EndTangent.Y,RcAlignment.EndTangent.X)*180/math.pi) % 360 
						if ang > 180 then ang = ang - 360 end
						return string.format("%.03f",ang)
					</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>9a7d4f86-aa8a-4381-8070-27fc3f12c35e</Guid>
      <Headers>
       <Header Name="End"/>
       <Header Name="Gradient [o/oo]"/>
      </Headers>
      <Width>40</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>x = RcAlignment.EndTangent.x
y = RcAlignment.EndTangent.y
z = RcAlignment.EndTangent.z
g = 1000 * math.sqrt(z^2 / (x^2 + y^2))
return string.format("%.03f",g)</Data>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>c493578d-b4dc-48fe-8af8-c55a96dc0556</string>
     <string>71b321ec-4bc3-493d-974b-2b01236d720c</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
  <InsertTable VariantName="Track connectivity" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Track connectivity</Title>
    <IncludeTitle>true</IncludeTitle>
    <ShowInvisibleObjects>false</ShowInvisibleObjects>
    <ObjectManagerFilter/>
    <ObjectManagerFilterList/>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>RcType == "KO-SPF Sporfortsettelse" or RcType == "KO-SPV Sporkryss" or RcType == "KO-SPV Sporveksel"</LuaFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <TitleTextHeight>5</TitleTextHeight>
    <HeaderTextHeight>3.5</HeaderTextHeight>
    <DataTextHeight>2.5</DataTextHeight>
    <VerticalCellMargin>1</VerticalCellMargin>
    <HorizontalCellMargin>1</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <MinRowHeight>3</MinRowHeight>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>0</WrapDepth>
    <WrapSpacing>0</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>false</RepeatHeaders>
    <VerticalNumbering>
     <Enabled>true</Enabled>
     <IsVertical>true</IsVertical>
     <Location>Left</Location>
     <NumberFormat>Numbers</NumberFormat>
     <TextHeight>2</TextHeight>
     <HideBorders>true</HideBorders>
     <Alignment>MiddleCenter</Alignment>
    </VerticalNumbering>
    <HorizontalNumbering>
     <Enabled>false</Enabled>
     <IsVertical>false</IsVertical>
     <Location>Bottom</Location>
     <NumberFormat>Numbers</NumberFormat>
     <TextHeight>2</TextHeight>
     <HideBorders>true</HideBorders>
     <Alignment>MiddleCenter</Alignment>
    </HorizontalNumbering>
    <TableFormat>Standard</TableFormat>
    <Font>RC-STANDARD</Font>
    <Columns>
     <ColumnSpecification>
      <Guid>c493578d-b4dc-48fe-8af8-c55a96dc0556</Guid>
      <Headers>
       <Header Name="Object Type"/>
      </Headers>
      <Width>40</Width>
      <Sort>Ascending</Sort>
      <Alignment>MiddleCenter</Alignment>
      <Data>RcType</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>71b321ec-4bc3-493d-974b-2b01236d720c</Guid>
      <Headers>
       <Header Name="Own / Target Alignment Name"/>
      </Headers>
      <Width>100</Width>
      <Sort>Ascending</Sort>
      <Alignment>MiddleCenter</Alignment>
      <Data>alignment.name .. " -&gt; " ..TargetAlignment.name</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>10272f0b-a413-49f6-bd6a-b520ea345d97</Guid>
      <Headers>
       <Header Name="Own alignment mileage"/>
      </Headers>
      <Width>50</Width>
      <Sort>Ascending</Sort>
      <Alignment>MiddleCenter</Alignment>
      <Data>string.format("Km.%.06f",Mileage/1000)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>2bbb04e3-a9c8-4b4e-91ec-cf73511c0af4</Guid>
      <Headers>
       <Header Name="Reference alignment"/>
      </Headers>
      <Width>100</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>getAlignmentInfo(getAlignmentInfo().ReferenceAlignmentId).AlignmentName</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>a9d3e94b-917a-4eb3-b82f-fdbc11784728</Guid>
      <Headers>
       <Header Name="Reference mileage"/>
      </Headers>
      <Width>50</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>string.format("Km.%.06f",ReferenceMileage/1000)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>0bf10925-d101-482f-be0b-dfbe2239b92d</Guid>
      <Headers>
       <Header Name="Continuity check"/>
      </Headers>
      <Width>150</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>msg = mc_Continuity
					return msg:lower():match("ok") and "OK" or msg</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>446b7aaf-02ea-45f4-8276-a4fab794ef67</Guid>
      <Headers>
       <Header Name="Elevation check"/>
      </Headers>
      <Width>150</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>msg = mc_Elevation
					return msg:lower():match("ok") and "OK" or msg</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>cb9d1988-966c-437c-bc84-7e0564e0a83f</Guid>
      <Headers>
       <Header Name="Tangent check"/>
      </Headers>
      <Width>150</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>msg = mc_Tangent
					return msg:lower():match("ok") and "OK" or msg</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>9a7d4f86-aa8a-4381-8070-27fc3f12c35e</Guid>
      <Headers>
       <Header Name="Gradient check"/>
      </Headers>
      <Width>150</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>if RcType:lower():match("sporveksel$") or RcType:lower():match("sporfortsettelse$") then 
						msg = mc_Gradient
					elseif RcType:lower():match("sporkryss$") then
						msg = mc_GradientAndCant
					else
						msg = "(Model check not found)"
					end
					return msg:lower():match("ok") and "OK" or msg
											</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>e7136c50-9d71-474c-a7d5-0806c2c4d13c</Guid>
      <Headers>
       <Header Name="Cant check"/>
      </Headers>
      <Width>150</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>
							if RcType:lower():match("sporveksel$") or RcType:lower():match("sporfortsettelse$") then 
								msg = mc_Cant
							elseif RcType:lower():match("sporkryss$") then
								msg = mc_GradientAndCant
							else
								msg = "(Model check not found)"
							end
							return msg:lower():match("ok") and "OK" or msg
						</Data>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>c493578d-b4dc-48fe-8af8-c55a96dc0556</string>
     <string>71b321ec-4bc3-493d-974b-2b01236d720c</string>
     <string>10272f0b-a413-49f6-bd6a-b520ea345d97</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETETable" Class="RCTable" Name="FE-DIV Sporvekseltabell" Layer="JBTFE_TABELLER" Color="ByLayer" Group="Overbygning/Sporvekseltabeller">
  <RelationSpace>tabell</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>Variant .. " - " .. RC__getUrlFilename()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Sporvekseltabell (enkel)">
   <Variant Name="Sporvekseltabell (enkel)"/>
   <Variant Name="Sporvekseltabell (detaljert)"/>
   <Variant Name="Sporvekseltabell (detaljert, med drivmaskiner)"/>
  </Variants>
  <InsertTable VariantName="Sporvekseltabell (enkel)" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Sporvekseltabell</Title>
    <IncludeTitle>true</IncludeTitle>
    <ShowInvisibleObjects>false</ShowInvisibleObjects>
    <ObjectManagerFilter/>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>RcType == "KO-SPV Sporveksel"</LuaFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <Font>RC-STANDARD</Font>
    <TitleTextHeight>5</TitleTextHeight>
    <HeaderTextHeight>3.5</HeaderTextHeight>
    <DataTextHeight>2.5</DataTextHeight>
    <VerticalCellMargin>1.5</VerticalCellMargin>
    <HorizontalCellMargin>1.5</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>0</WrapDepth>
    <WrapSpacing>0</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>false</RepeatHeaders>
    <TableFormat>Standard</TableFormat>
    <Columns>
     <ColumnSpecification>
      <Headers/>
      <Width>60</Width>
      <Data>Name</Data>
      <Title>Navn</Title>
      <Sort/>
      <Guid>71b321ec-4bc3-493d-974b-2b01236d720c</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>60</Width>
      <Data>RC__toKm(ReferenceMileage,3)</Data>
      <Title>Posisjon</Title>
      <Sort>Ascending</Sort>
      <Guid>10272f0b-a413-49f6-bd6a-b520ea345d97</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>60</Width>
      <Data>getInvertedBlockImage()</Data>
      <Title>2D symbol</Title>
      <Sort/>
      <Guid>d762837b-7200-46a2-8e90-ca7b8d257ccb</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>10272f0b-a413-49f6-bd6a-b520ea345d97</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
  <InsertTable VariantName="Sporvekseltabell (detaljert)" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Sporvekseltabell (detaljert)</Title>
    <IncludeTitle>true</IncludeTitle>
    <ShowInvisibleObjects>false</ShowInvisibleObjects>
    <ObjectManagerFilter/>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>RcType == "KO-SPV Sporveksel"</LuaFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <Font>RC-STANDARD</Font>
    <TitleTextHeight>5</TitleTextHeight>
    <HeaderTextHeight>3.5</HeaderTextHeight>
    <DataTextHeight>2.5</DataTextHeight>
    <VerticalCellMargin>1.5</VerticalCellMargin>
    <HorizontalCellMargin>1.5</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>0</WrapDepth>
    <WrapSpacing>0</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>false</RepeatHeaders>
    <TableFormat>Standard</TableFormat>
    <Columns>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Sporveksel</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>Name</Data>
      <Title>Navn</Title>
      <Sort/>
      <Guid>11312c48-34c1-4926-a944-5e3db2acc053</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Sporveksel</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>Tag</Data>
      <Title>Objekt-ID</Title>
      <Sort/>
      <Guid>9f4e777c-d7ae-41f0-b833-5a41333c6700</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Sporveksel</Title>
       </Header>
      </Headers>
      <Width>20</Width>
      <Data>code</Data>
      <Title>Spv. nr.</Title>
      <Sort>Ascending</Sort>
      <Guid>71b321ec-4bc3-493d-974b-2b01236d720c</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Sporveksel</Title>
       </Header>
      </Headers>
      <Width>80</Width>
      <Data>Variant</Data>
      <Title>Variant</Title>
      <Sort/>
      <Guid>4471f8ed-9d27-49f8-8268-a6ec892ffc35</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Sporveksel</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>if (Dir == "up") then
    return "Stigende Km"
else
    return "Synkende Km"
end</Data>
      <Title>Retning</Title>
      <Sort/>
      <Guid>f666b8a7-c054-4d7c-b430-7af861b9e669</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Sporveksel</Title>
       </Header>
      </Headers>
      <Width>30</Width>
      <Data>if (SwitchGeometry == "left") then 
	return "V"
elseif (SwitchGeometry == "right") then
	return "H"
else
	return "???",_warning
end	</Data>
      <Title>Avvik</Title>
      <Sort/>
      <Guid>51712f0c-3731-4403-aff2-74ba7c027bca</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Sporveksel</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>getInvertedBlockImage()</Data>
      <Title>Symbol</Title>
      <Sort/>
      <Guid>d762837b-7200-46a2-8e90-ca7b8d257ccb</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Signalanlegg</Title>
       </Header>
      </Headers>
      <Width>80</Width>
      <Data>SwitchControlAndLocking</Data>
      <Title>Styring og kontroll</Title>
      <Sort/>
      <Guid>ba4ca159-9a7b-49a0-a5c0-8724928c04ec</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Signalanlegg</Title>
       </Header>
      </Headers>
      <Width>30</Width>
      <Data>
						local r = Relations["Er koblet med sporveksel"]
						if getCollectionLength(r) == 0 then
							return "-"
						else
							return r[0].code
						end
					</Data>
      <Title>Koblet med</Title>
      <Sort/>
      <Guid>fa730a31-6e44-4088-bba8-5800add006c9</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Referansespor</Title>
       </Header>
      </Headers>
      <Width>35</Width>
      <Data>RC__toKm(ReferenceMileage,3)</Data>
      <Title>Km SS (i ref. spor)</Title>
      <Sort>Ascending</Sort>
      <Guid>10272f0b-a413-49f6-bd6a-b520ea345d97</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bestemmende spor</Title>
       </Header>
      </Headers>
      <Width>35</Width>
      <Data>RC__toKm(NOBN_trk_getFoulingPointReferenceMileage(getObjectFromId(id)),3)</Data>
      <Title>Km Mid</Title>
      <Sort/>
      <Guid>e737d99a-ab83-4ccf-905b-b8aa9c0f3503</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bestemmende spor</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>ReferenceAlignment.code</Data>
      <Title>Ref. spor</Title>
      <Sort/>
      <Guid>854751e2-f04e-4498-8ec9-1e4c169fe30c</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Eget spor</Title>
       </Header>
      </Headers>
      <Width>35</Width>
      <Data>RC__toKm(Mileage,6)</Data>
      <Title>Km SS (i eget spor)</Title>
      <Sort/>
      <Guid>2c751b6d-9494-4316-8a01-1f0fecc9b396</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Eget spor</Title>
       </Header>
      </Headers>
      <Width>35</Width>
      <Data>RC__toKm(NOBN_trk_getFoulingPointMileage(),6)</Data>
      <Title>Km Mid</Title>
      <Sort/>
      <Guid>d27510a5-48e8-4a25-8eeb-6434fcc8f31b</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Eget spor</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>Alignment.code</Data>
      <Title>Eget spor</Title>
      <Sort/>
      <Guid>5e391291-6606-4394-b065-465f26837190</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>10272f0b-a413-49f6-bd6a-b520ea345d97</string>
     <string>71b321ec-4bc3-493d-974b-2b01236d720c</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
  <InsertTable VariantName="Sporvekseltabell (detaljert, med drivmaskiner)" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Sporvekseltabell (detaljert) - T_Y_5209677_Signal-Kongsvinger</Title>
    <IncludeTitle>true</IncludeTitle>
    <ShowInvisibleObjects>false</ShowInvisibleObjects>
    <OMFilter/>
    <OMFilterList/>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>RcType == "KO-SPV Sporveksel"</LuaFilter>
    <UseDataSetFilter>false</UseDataSetFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <TitleTextHeight>10</TitleTextHeight>
    <HeaderTextHeight>5</HeaderTextHeight>
    <DataTextHeight>3</DataTextHeight>
    <VerticalCellMargin>1.5</VerticalCellMargin>
    <HorizontalCellMargin>1.5</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <MinRowHeight>3</MinRowHeight>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>0</WrapDepth>
    <WrapSpacing>0</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>false</RepeatHeaders>
    <VerticalNumbering>
     <Enabled>false</Enabled>
     <IsVertical>true</IsVertical>
     <Location>Left</Location>
     <NumberFormat>Numbers</NumberFormat>
     <TextHeight>2</TextHeight>
     <HideBorders>true</HideBorders>
     <Alignment>MiddleCenter</Alignment>
     <NumberingTitle>Vertical numbering</NumberingTitle>
    </VerticalNumbering>
    <HorizontalNumbering>
     <Enabled>false</Enabled>
     <IsVertical>false</IsVertical>
     <Location>Bottom</Location>
     <NumberFormat>Numbers</NumberFormat>
     <TextHeight>2</TextHeight>
     <HideBorders>true</HideBorders>
     <Alignment>MiddleCenter</Alignment>
     <NumberingTitle>Horizontal numbering</NumberingTitle>
    </HorizontalNumbering>
    <TableFormat>Standard</TableFormat>
    <Font>RC-STANDARD</Font>
    <Columns>
     <ColumnSpecification>
      <Guid>11312c48-34c1-4926-a944-5e3db2acc053</Guid>
      <Headers>
       <Header Name="Sporveksel"/>
       <Header Name="Navn"/>
      </Headers>
      <Width>60</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>Name</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>9f4e777c-d7ae-41f0-b833-5a41333c6700</Guid>
      <Headers>
       <Header Name="Sporveksel"/>
       <Header Name="Objekt-ID"/>
      </Headers>
      <Width>60</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>Tag</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>71b321ec-4bc3-493d-974b-2b01236d720c</Guid>
      <Headers>
       <Header Name="Sporveksel"/>
       <Header Name="Spv. nr."/>
      </Headers>
      <Width>20</Width>
      <Sort>Ascending</Sort>
      <Alignment>MiddleCenter</Alignment>
      <Data>code</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>4471f8ed-9d27-49f8-8268-a6ec892ffc35</Guid>
      <Headers>
       <Header Name="Sporveksel"/>
       <Header Name="Variant"/>
      </Headers>
      <Width>80</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>Variant</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>f666b8a7-c054-4d7c-b430-7af861b9e669</Guid>
      <Headers>
       <Header Name="Sporveksel"/>
       <Header Name="Retning"/>
      </Headers>
      <Width>60</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>if (Dir == "up") then
					return "Stigende Km"
				else
					return "Synkende Km"
				end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>51712f0c-3731-4403-aff2-74ba7c027bca</Guid>
      <Headers>
       <Header Name="Sporveksel"/>
       <Header Name="Avvik"/>
      </Headers>
      <Width>30</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>if (SwitchGeometry == "left") then 
					return "V"
				elseif (SwitchGeometry == "right") then
					return "H"
				else
					return "???",_warning
				end	</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>d762837b-7200-46a2-8e90-ca7b8d257ccb</Guid>
      <Headers>
       <Header Name="Sporveksel"/>
       <Header Name="Symbol"/>
      </Headers>
      <Width>60</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>getInvertedBlockImage()</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>ba4ca159-9a7b-49a0-a5c0-8724928c04ec</Guid>
      <Headers>
       <Header Name="Signalanlegg"/>
       <Header Name="Styring og kontroll"/>
      </Headers>
      <Width>80</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>SwitchControlAndLockingEnumTable = 
					{
						Rm = {	  
							"Remote controlled, machine locked",
							"Sentralstilt, maskinlåst"
						},
						Rl = {
							"Remote controlled, keylocked for left switch leg train movements", 
							"Sentralstilt, kontrollåst V"
						},
						Rr = {	
							"Sentralstilt, kontrollåst H",
							"Remote controlled, keylocked for right switch leg train movements"
						},
						Rb = {
							"Remote controlled, keylocked for both right and left switch leg train movements",
							"Sentralstilt, kontrollåst HV"
						},
						Pl = {
							"Pushbutton controlled, keylocked for left switch leg train movements",
							"Trykknapp, kontrollåst V"
						},
						Pr = {
							"Pushbutton controlled, keylocked for right switch leg train movements",
							"Trykknapp, kontrollåst H"
						},
						Pb = {
							"Pushbutton controlled, keylocked for both right and left switch leg train movements",
							"Trykknapp, kontrollåst HV"
						},
						Pn = {
							"Pushbutton controlled, not interlocked",
							"Trykknapp, uforriglet"
						},
						Hl = {
							"Hand operated (hand thrown), keylocked for left switch leg train movements",
							"Kastelodd, kontrollåst V"
						},
						Hr = {
							"Hand operated (hand thrown), keylocked for right switch leg train movements",
							"Kastelodd, kontrollåst H"
						},
						Hb = {
							"Hand operated (hand thrown), keylocked for both right and left switch leg train movements (one at a time)",
							"Kastelodd, kontrollåst HV"
						},
						Hn = {
							"Hand operated (hand thrown), not interlocked",
							"Kastelodd, uforriglet"
						}
					}
				
				culture = 2 --Norwegian
				return SwitchControlAndLockingEnumTable[SwitchControlAndLocking][culture]</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>fa730a31-6e44-4088-bba8-5800add006c9</Guid>
      <Headers>
       <Header Name="Signalanlegg"/>
       <Header Name="Koblet med"/>
      </Headers>
      <Width>30</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>
										local r = Relations["Er koblet med sporveksel"]
										if getCollectionLength(r) == 0 then
											return "-"
										else
											return r[0].code
										end
									</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>10272f0b-a413-49f6-bd6a-b520ea345d97</Guid>
      <Headers>
       <Header Name="Referansespor"/>
       <Header Name="Km SS (i ref. spor)"/>
      </Headers>
      <Width>35</Width>
      <Sort>Ascending</Sort>
      <Alignment>MiddleCenter</Alignment>
      <Data>RC__toKm(ReferenceMileage,3)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>e737d99a-ab83-4ccf-905b-b8aa9c0f3503</Guid>
      <Headers>
       <Header Name="Referansespor"/>
       <Header Name="Km Mid"/>
      </Headers>
      <Width>35</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>RC__toKm(NOBN_trk_getFoulingPointReferenceMileage(getObjectFromId(id)),3)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>854751e2-f04e-4498-8ec9-1e4c169fe30c</Guid>
      <Headers>
       <Header Name="Referansespor"/>
       <Header Name="Ref. spor"/>
      </Headers>
      <Width>60</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>ReferenceAlignment.code</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>2c751b6d-9494-4316-8a01-1f0fecc9b396</Guid>
      <Headers>
       <Header Name="Eget spor"/>
       <Header Name="PEL SS (i eget spor)"/>
      </Headers>
      <Width>35</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>RC__toKm(Mileage,6)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>d27510a5-48e8-4a25-8eeb-6434fcc8f31b</Guid>
      <Headers>
       <Header Name="Eget spor"/>
       <Header Name="PEL Mid"/>
      </Headers>
      <Width>35</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>RC__toKm(NOBN_trk_getFoulingPointMileage(),6)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>5e391291-6606-4394-b065-465f26837190</Guid>
      <Headers>
       <Header Name="Eget spor"/>
       <Header Name="Eget spor"/>
      </Headers>
      <Width>60</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>Alignment.code</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>53cad9b3-26c3-4409-a57f-0a7aa5489538</Guid>
      <Headers>
       <Header Name="Drivmaskiner"/>
       <Header Name="Antall drivmaskiner på tunge"/>
      </Headers>
      <Width>60</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>function analyzePointMachines(sw)
					sw = sw and this
					if sw.RcType ~= "KO-SPV Sporveksel" then 
						return {	ntm="?", tms="?", tmt="?", nfm="?", fms="?", fmt="?" }
					end
					
					pointMachines = Relations["Har sporvekseldrivmaskin"]
					N = getCollectionLength(pointMachines)
					
					--Split between tongue machine and point frog (swing nose) machine for reasonable length pointMachines:
					minDistanceFromStockRailJointToFrog = 20
					
					-- Init:
					nTongueMachines = 0
					nFrogMachines = 0
					nLeftTongueMachines = 0
					nRightTongueMachines = 0
					nLeftFrogMachines = 0
					nRightFrogMachines = 0
					tongueMachineType = ""
					frogMachineType = ""
					
					for i = 0,N-1 do
						if RC__getDistance2D(this,pointMachines[i]) &lt; minDistanceFromStockRailJointToFrog then
							nTongueMachines = nTongueMachines + 1
							if pointMachines[i].LeftSided then nLeftTongueMachines = nLeftTongueMachines + 1 end
							if pointMachines[i].RightSided then nRightTongueMachines = nRightTongueMachines + 1 end
							tongueMachineType = pointMachines[i].Variant -- Overwrite previous, if any
						else
							nFrogMachines = nFrogMachines + 1
							if pointMachines[i].LeftSided then nLeftFrogMachines = nLeftFrogMachines + 1 end
							if pointMachines[i].RightSided then nRightFrogMachines = nRightFrogMachines + 1 end
							frogMachineType = pointMachines[i].Variant -- Overwrite previous, if any
						end	
					end
					
					if nLeftTongueMachines * nRightTongueMachines &gt; 0 then
						tongueMachineSide = "(varierer)"
					elseif nLeftTongueMachines &gt; 0 then
						tongueMachineSide = "Venstre"
					elseif nRightTongueMachines &gt; 0 then
						tongueMachineSide = "Høyre"
					else
						tongueMachineSide = "-"
					end
					
					if nLeftFrogMachines * nRightFrogMachines &gt; 0 then
						frogMachineSide = "(varierer)"
					elseif nLeftFrogMachines &gt; 0 then
						frogMachineSide = "Venstre"
					elseif nRightFrogMachines &gt; 0 then
						frogMachineSide = "Høyre"
					else
						frogMachineSide = "-"
					end
					return {	ntm=nTongueMachines, tms=tongueMachineSide, tmt=tongueMachineType, 
								nfm=nFrogMachines, fms=frogMachineSide, fmt=frogMachineType
							}
				end
				
				return analyzePointMachines(this).ntm</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>0e40c3d7-060b-4ada-a238-fbae9f11c9b2</Guid>
      <Headers>
       <Header Name="Drivmaskiner"/>
       <Header Name="Tungemaskiner side av spor"/>
      </Headers>
      <Width>60</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>function analyzePointMachines(sw)
					sw = sw and this
					if sw.RcType ~= "KO-SPV Sporveksel" then 
						return {	ntm="?", tms="?", tmt="?", nfm="?", fms="?", fmt="?" }
					end
					
					pointMachines = Relations["Har sporvekseldrivmaskin"]
					N = getCollectionLength(pointMachines)
					
					--Split between tongue machine and point frog (swing nose) machine for reasonable length pointMachines:
					minDistanceFromStockRailJointToFrog = 20
					
					-- Init:
					nTongueMachines = 0
					nFrogMachines = 0
					nLeftTongueMachines = 0
					nRightTongueMachines = 0
					nLeftFrogMachines = 0
					nRightFrogMachines = 0
					tongueMachineType = ""
					frogMachineType = ""
					
					for i = 0,N-1 do
						if RC__getDistance2D(this,pointMachines[i]) &lt; minDistanceFromStockRailJointToFrog then
							nTongueMachines = nTongueMachines + 1
							if pointMachines[i].LeftSided then nLeftTongueMachines = nLeftTongueMachines + 1 end
							if pointMachines[i].RightSided then nRightTongueMachines = nRightTongueMachines + 1 end
							tongueMachineType = pointMachines[i].Variant -- Overwrite previous, if any
						else
							nFrogMachines = nFrogMachines + 1
							if pointMachines[i].LeftSided then nLeftFrogMachines = nLeftFrogMachines + 1 end
							if pointMachines[i].RightSided then nRightFrogMachines = nRightFrogMachines + 1 end
							frogMachineType = pointMachines[i].Variant -- Overwrite previous, if any
						end	
					end
					
					if nLeftTongueMachines * nRightTongueMachines &gt; 0 then
						tongueMachineSide = "(varierer)"
					elseif nLeftTongueMachines &gt; 0 then
						tongueMachineSide = "Venstre"
					elseif nRightTongueMachines &gt; 0 then
						tongueMachineSide = "Høyre"
					else
						tongueMachineSide = "-"
					end
					
					if nLeftFrogMachines * nRightFrogMachines &gt; 0 then
						frogMachineSide = "(varierer)"
					elseif nLeftFrogMachines &gt; 0 then
						frogMachineSide = "Venstre"
					elseif nRightFrogMachines &gt; 0 then
						frogMachineSide = "Høyre"
					else
						frogMachineSide = "-"
					end
					return {	ntm=nTongueMachines, tms=tongueMachineSide, tmt=tongueMachineType, 
								nfm=nFrogMachines, fms=frogMachineSide, fmt=frogMachineType
							}
				end
				
				return analyzePointMachines(this).tms</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>358063ad-bcdf-4630-afc8-ece21fb55ffd</Guid>
      <Headers>
       <Header Name="Drivmaskiner"/>
       <Header Name="Tungemaskiner type"/>
      </Headers>
      <Width>60</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>function analyzePointMachines(sw)
					sw = sw and this
					if sw.RcType ~= "KO-SPV Sporveksel" then 
						return {	ntm="?", tms="?", tmt="?", nfm="?", fms="?", fmt="?" }
					end
					
					pointMachines = Relations["Har sporvekseldrivmaskin"]
					N = getCollectionLength(pointMachines)
					
					--Split between tongue machine and point frog (swing nose) machine for reasonable length pointMachines:
					minDistanceFromStockRailJointToFrog = 20
					
					-- Init:
					nTongueMachines = 0
					nFrogMachines = 0
					nLeftTongueMachines = 0
					nRightTongueMachines = 0
					nLeftFrogMachines = 0
					nRightFrogMachines = 0
					tongueMachineType = ""
					frogMachineType = ""
					
					for i = 0,N-1 do
						if RC__getDistance2D(this,pointMachines[i]) &lt; minDistanceFromStockRailJointToFrog then
							nTongueMachines = nTongueMachines + 1
							if pointMachines[i].LeftSided then nLeftTongueMachines = nLeftTongueMachines + 1 end
							if pointMachines[i].RightSided then nRightTongueMachines = nRightTongueMachines + 1 end
							tongueMachineType = pointMachines[i].Variant -- Overwrite previous, if any
						else
							nFrogMachines = nFrogMachines + 1
							if pointMachines[i].LeftSided then nLeftFrogMachines = nLeftFrogMachines + 1 end
							if pointMachines[i].RightSided then nRightFrogMachines = nRightFrogMachines + 1 end
							frogMachineType = pointMachines[i].Variant -- Overwrite previous, if any
						end	
					end
					
					if nLeftTongueMachines * nRightTongueMachines &gt; 0 then
						tongueMachineSide = "(varierer)"
					elseif nLeftTongueMachines &gt; 0 then
						tongueMachineSide = "Venstre"
					elseif nRightTongueMachines &gt; 0 then
						tongueMachineSide = "Høyre"
					else
						tongueMachineSide = "-"
					end
					
					if nLeftFrogMachines * nRightFrogMachines &gt; 0 then
						frogMachineSide = "(varierer)"
					elseif nLeftFrogMachines &gt; 0 then
						frogMachineSide = "Venstre"
					elseif nRightFrogMachines &gt; 0 then
						frogMachineSide = "Høyre"
					else
						frogMachineSide = "-"
					end
				
					return {	ntm=nTongueMachines, tms=tongueMachineSide, tmt=tongueMachineType, 
								nfm=nFrogMachines, fms=frogMachineSide, fmt=frogMachineType
							}
				end
				
				return analyzePointMachines(this).tmt</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>9d1c5df3-ee27-492f-9809-d73dbaf75501</Guid>
      <Headers>
       <Header Name="Drivmaskiner"/>
       <Header Name="Antall drivmaskiner på krysset"/>
      </Headers>
      <Width>60</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>function analyzePointMachines(sw)
					sw = sw and this
					if sw.RcType ~= "KO-SPV Sporveksel" then 
						return {	ntm="?", tms="?", tmt="?", nfm="?", fms="?", fmt="?" }
					end
					
					pointMachines = Relations["Har sporvekseldrivmaskin"]
					N = getCollectionLength(pointMachines)
					
					--Split between tongue machine and point frog (swing nose) machine for reasonable length pointMachines:
					minDistanceFromStockRailJointToFrog = 20
					
					-- Init:
					nTongueMachines = 0
					nFrogMachines = 0
					nLeftTongueMachines = 0
					nRightTongueMachines = 0
					nLeftFrogMachines = 0
					nRightFrogMachines = 0
					tongueMachineType = ""
					frogMachineType = ""
					
					for i = 0,N-1 do
						if RC__getDistance2D(this,pointMachines[i]) &lt; minDistanceFromStockRailJointToFrog then
							nTongueMachines = nTongueMachines + 1
							if pointMachines[i].LeftSided then nLeftTongueMachines = nLeftTongueMachines + 1 end
							if pointMachines[i].RightSided then nRightTongueMachines = nRightTongueMachines + 1 end
							tongueMachineType = pointMachines[i].Variant -- Overwrite previous, if any
						else
							nFrogMachines = nFrogMachines + 1
							if pointMachines[i].LeftSided then nLeftFrogMachines = nLeftFrogMachines + 1 end
							if pointMachines[i].RightSided then nRightFrogMachines = nRightFrogMachines + 1 end
							frogMachineType = pointMachines[i].Variant -- Overwrite previous, if any
						end	
					end
					
					if nLeftTongueMachines * nRightTongueMachines &gt; 0 then
						tongueMachineSide = "(varierer)"
					elseif nLeftTongueMachines &gt; 0 then
						tongueMachineSide = "Venstre"
					elseif nRightTongueMachines &gt; 0 then
						tongueMachineSide = "Høyre"
					else
						tongueMachineSide = "-"
					end
					
					if nLeftFrogMachines * nRightFrogMachines &gt; 0 then
						frogMachineSide = "(varierer)"
					elseif nLeftFrogMachines &gt; 0 then
						frogMachineSide = "Venstre"
					elseif nRightFrogMachines &gt; 0 then
						frogMachineSide = "Høyre"
					else
						frogMachineSide = "-"
					end
				
					return {	ntm=nTongueMachines, tms=tongueMachineSide, tmt=tongueMachineType, 
								nfm=nFrogMachines, fms=frogMachineSide, fmt=frogMachineType
							}
				end
				
				return analyzePointMachines(this).nfm</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>c10f5dea-1295-4482-9c85-886c02244d63</Guid>
      <Headers>
       <Header Name="Drivmaskiner"/>
       <Header Name="Kryssmaskiner side av spor"/>
      </Headers>
      <Width>60</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>function analyzePointMachines(sw)
					sw = sw and this
					if sw.RcType ~= "KO-SPV Sporveksel" then 
						return {	ntm="?", tms="?", tmt="?", nfm="?", fms="?", fmt="?" }
					end
					
					pointMachines = Relations["Har sporvekseldrivmaskin"]
					N = getCollectionLength(pointMachines)
					
					--Split between tongue machine and point frog (swing nose) machine for reasonable length pointMachines:
					minDistanceFromStockRailJointToFrog = 20
					
					-- Init:
					nTongueMachines = 0
					nFrogMachines = 0
					nLeftTongueMachines = 0
					nRightTongueMachines = 0
					nLeftFrogMachines = 0
					nRightFrogMachines = 0
					tongueMachineType = ""
					frogMachineType = ""
					
					for i = 0,N-1 do
						if RC__getDistance2D(this,pointMachines[i]) &lt; minDistanceFromStockRailJointToFrog then
							nTongueMachines = nTongueMachines + 1
							if pointMachines[i].LeftSided then nLeftTongueMachines = nLeftTongueMachines + 1 end
							if pointMachines[i].RightSided then nRightTongueMachines = nRightTongueMachines + 1 end
							tongueMachineType = pointMachines[i].Variant -- Overwrite previous, if any
						else
							nFrogMachines = nFrogMachines + 1
							if pointMachines[i].LeftSided then nLeftFrogMachines = nLeftFrogMachines + 1 end
							if pointMachines[i].RightSided then nRightFrogMachines = nRightFrogMachines + 1 end
							frogMachineType = pointMachines[i].Variant -- Overwrite previous, if any
						end	
					end
					
					if nLeftTongueMachines * nRightTongueMachines &gt; 0 then
						tongueMachineSide = "(varierer)"
					elseif nLeftTongueMachines &gt; 0 then
						tongueMachineSide = "Venstre"
					elseif nRightTongueMachines &gt; 0 then
						tongueMachineSide = "Høyre"
					else
						tongueMachineSide = "-"
					end
					
					if nLeftFrogMachines * nRightFrogMachines &gt; 0 then
						frogMachineSide = "(varierer)"
					elseif nLeftFrogMachines &gt; 0 then
						frogMachineSide = "Venstre"
					elseif nRightFrogMachines &gt; 0 then
						frogMachineSide = "Høyre"
					else
						frogMachineSide = "-"
					end
					
					return {	ntm=nTongueMachines, tms=tongueMachineSide, tmt=tongueMachineType, 
								nfm=nFrogMachines, fms=frogMachineSide, fmt=frogMachineType
							}
				end
				
				return analyzePointMachines(this).fms</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>a6fa869f-6967-49b5-9c1b-92f205a644f2</Guid>
      <Headers>
       <Header Name="Drivmaskiner"/>
       <Header Name="Kryssmaskiner type"/>
      </Headers>
      <Width>60</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>function analyzePointMachines(sw)
					sw = sw and this
					if sw.RcType ~= "KO-SPV Sporveksel" then 
						return {	ntm="?", tms="?", tmt="?", nfm="?", fms="?", fmt="?" }
					end
					
					pointMachines = Relations["Har sporvekseldrivmaskin"]
					N = getCollectionLength(pointMachines)
					
					--Split between tongue machine and point frog (swing nose) machine for reasonable length pointMachines:
					minDistanceFromStockRailJointToFrog = 20
					
					-- Init:
					nTongueMachines = 0
					nFrogMachines = 0
					nLeftTongueMachines = 0
					nRightTongueMachines = 0
					nLeftFrogMachines = 0
					nRightFrogMachines = 0
					tongueMachineType = ""
					frogMachineType = ""
					
					for i = 0,N-1 do
						if RC__getDistance2D(this,pointMachines[i]) &lt; minDistanceFromStockRailJointToFrog then
							nTongueMachines = nTongueMachines + 1
							if pointMachines[i].LeftSided then nLeftTongueMachines = nLeftTongueMachines + 1 end
							if pointMachines[i].RightSided then nRightTongueMachines = nRightTongueMachines + 1 end
							tongueMachineType = pointMachines[i].Variant -- Overwrite previous, if any
						else
							nFrogMachines = nFrogMachines + 1
							if pointMachines[i].LeftSided then nLeftFrogMachines = nLeftFrogMachines + 1 end
							if pointMachines[i].RightSided then nRightFrogMachines = nRightFrogMachines + 1 end
							frogMachineType = pointMachines[i].Variant -- Overwrite previous, if any
						end	
					end
					
					if nLeftTongueMachines * nRightTongueMachines &gt; 0 then
						tongueMachineSide = "(varierer)"
					elseif nLeftTongueMachines &gt; 0 then
						tongueMachineSide = "Venstre"
					elseif nRightTongueMachines &gt; 0 then
						tongueMachineSide = "Høyre"
					else
						tongueMachineSide = "-"
					end
					
					if nLeftFrogMachines * nRightFrogMachines &gt; 0 then
						frogMachineSide = "(varierer)"
					elseif nLeftFrogMachines &gt; 0 then
						frogMachineSide = "Venstre"
					elseif nRightFrogMachines &gt; 0 then
						frogMachineSide = "Høyre"
					else
						frogMachineSide = "-"
					end
					
					return {	ntm=nTongueMachines, tms=tongueMachineSide, tmt=tongueMachineType, 
								nfm=nFrogMachines, fms=frogMachineSide, fmt=frogMachineType
							}
				end
				
				return analyzePointMachines(this).fmt</Data>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>10272f0b-a413-49f6-bd6a-b520ea345d97</string>
     <string>71b321ec-4bc3-493d-974b-2b01236d720c</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETETable" Class="RCTable" Name="FE-DIV Horisontaltrasétabell" Layer="JBTFE_TABELLER" Color="ByLayer" Group="Overbygning/Datautveksling">
  <RelationSpace>tabell</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>Variant .. " - " .. RC__getUrlFilename()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Horisontaltrasétabell">
   <Variant Name="Horisontaltrasétabell"/>
  </Variants>
  <InsertTable VariantName="Horisontaltrasétabell" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Banedata HOT</Title>
    <IncludeTitle>true</IncludeTitle>
    <ShowInvisibleObjects>false</ShowInvisibleObjects>
    <ObjectManagerFilter/>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>RcType == "JBTKO_HOT Horisontaltrasépunkt"</LuaFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <TitleTextHeight>5</TitleTextHeight>
    <HeaderTextHeight>3.5</HeaderTextHeight>
    <DataTextHeight>2.5</DataTextHeight>
    <VerticalCellMargin>1</VerticalCellMargin>
    <HorizontalCellMargin>1</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>0</WrapDepth>
    <WrapSpacing>0</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>false</RepeatHeaders>
    <TableFormat>Standard</TableFormat>
    <Font>RC-STANDARD</Font>
    <Columns>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>Tag</Data>
      <Title>Objekt</Title>
      <Sort/>
      <Guid>e30f54fb-1e8b-4c95-bfdd-dd533e0d15cb</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>
						str = "Horisontaltrasé, " .. Name
						if ocpRef then str = str .. ", " .. getObjectFromId(ocpRef).name end
						return str
					</Data>
      <Title>Beskrivelse</Title>
      <Sort/>
      <Guid>bef4d979-bacb-4911-a8a7-80635b4a0312</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>Alignment</Data>
      <Title>Tilhører objekt</Title>
      <Sort>Ascending</Sort>
      <Guid>044b867a-6d52-4df6-891b-fda8ab99697a</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"TODO"</Data>
      <Title>Tilhører lokasjon</Title>
      <Sort/>
      <Guid>a308c405-7a08-47f0-9062-30327102216e</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>Name</Data>
      <Title>Navn/nr</Title>
      <Sort/>
      <Guid>fb7dd975-d756-43c7-b114-8473aeecedfa</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"TODO"</Data>
      <Title>Idriftssatt dato</Title>
      <Sort/>
      <Guid>0deca630-a561-414b-8d7b-21caffb5b285</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>string.format("Km.%.3f",Mileage/1000)</Data>
      <Title>Km(fra)</Title>
      <Sort>Ascending</Sort>
      <Guid>10272f0b-a413-49f6-bd6a-b520ea345d97</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"TODO Senter"</Data>
      <Title>Side(fra)</Title>
      <Sort/>
      <Guid>76d50cbf-7dde-41dc-9485-2de6e15df812</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>
						RcSection:filter(function(x) return x.RcType == "FE%-DIV Sporbruk" end)[0].Variant
					</Data>
      <Title>Sportype(fra)</Title>
      <Sort/>
      <Guid>5ed3a550-2ff2-4371-a588-efaa021f2e53</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"TODO"</Data>
      <Title>Spornr(fra)</Title>
      <Sort/>
      <Guid>0f52b60a-38bb-40a0-9d96-54f317f6ef1d</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>0</Data>
      <Title>Avst/Spormidt(fra)</Title>
      <Sort/>
      <Guid>5e8302d5-af4c-4446-aea4-143f4d648e36</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"Bane NOR"</Data>
      <Title>Eier</Title>
      <Sort/>
      <Guid>e28acf01-34e6-4a79-9b31-8b7fc26d6be0</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>30</Width>
      <Data>string.format("%.3f",geoCoord.Y)</Data>
      <Title>Nord(fra)</Title>
      <Sort/>
      <Guid>fc15f89b-676d-4a62-a0c6-4ff124763b52</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>30</Width>
      <Data>string.format("%.3f",geoCoord.X)</Data>
      <Title>Øst(fra)</Title>
      <Sort/>
      <Guid>8df53a42-bed9-4667-a761-440c46a5197b</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>30</Width>
      <Data>string.format("%.3f",geoCoord.Z)</Data>
      <Title>Høyde(fra)</Title>
      <Sort/>
      <Guid>5f2711e2-0b3c-485f-8ea0-376ab81cef28</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"TODO"</Data>
      <Title>Dokumentreferanse</Title>
      <Sort/>
      <Guid>2e3d26fe-2da8-4495-9570-06159653e2af</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"TODO"</Data>
      <Title>Serienr.</Title>
      <Sort/>
      <Guid>fa469762-6685-482f-b3b3-10b31d5f6589</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>Name</Data>
      <Title>trasépunkt</Title>
      <Sort/>
      <Guid>71b321ec-4bc3-493d-974b-2b01236d720c</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>
						info = getAlignmentInfo()
						if info.Segment.Type ~= "Curve" then return nil end
						return info.CurveRadius == math.huge and info.CurveRadius or string.format("%.3f", info.CurveRadius)
					</Data>
      <Title>Kurveradius(m)</Title>
      <Sort/>
      <Guid>3b27856d-3955-4cb8-b54e-9d43504244fb</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>string.format("%.1f", RC__isNan(getAlignmentInfo().Cant) and 0 or getAlignmentInfo().Cant)</Data>
      <Title>Overhøyde[mm]</Title>
      <Sort/>
      <Guid>ef6c1bb3-82c0-40aa-b3a7-9291375d5a15</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>
						if Variant ~= "OB" then return nil end
						info = getAlignmentInfo()
						return info and info.NearestHorizontalVertex and string.format("%.3f", info.NearestHorizontalVertex.Item2.Length)
					</Data>
      <Title>Overgangskurvens lengde</Title>
      <Sort/>
      <Guid>5035e780-fad1-4702-b9ad-511753fa60ef</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"TODO"</Data>
      <Title>Høyde (m)</Title>
      <Sort/>
      <Guid>d26d4f01-0cef-4c8d-bd72-ecadde152216</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>044b867a-6d52-4df6-891b-fda8ab99697a</string>
     <string>10272f0b-a413-49f6-bd6a-b520ea345d97</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETETable" Class="RCTable" Name="FE-DIV Vertikaltrasétabell" Layer="JBTFE_TABELLER" Color="ByLayer" Group="Overbygning/Datautveksling">
  <RelationSpace>tabell</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>Variant .. " - " .. RC__getUrlFilename()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Vertikaltrasétabell">
   <Variant Name="Vertikaltrasétabell"/>
  </Variants>
  <InsertTable VariantName="Vertikaltrasétabell" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Banedata VET</Title>
    <IncludeTitle>true</IncludeTitle>
    <ShowInvisibleObjects>false</ShowInvisibleObjects>
    <ObjectManagerFilter/>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>RcType == "JBTKO_VET Vertikaltrasépunkt"</LuaFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <TitleTextHeight>5</TitleTextHeight>
    <HeaderTextHeight>3.5</HeaderTextHeight>
    <DataTextHeight>2.5</DataTextHeight>
    <VerticalCellMargin>1</VerticalCellMargin>
    <HorizontalCellMargin>1</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>0</WrapDepth>
    <WrapSpacing>0</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>false</RepeatHeaders>
    <TableFormat>Standard</TableFormat>
    <Font>RC-STANDARD</Font>
    <Columns>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>Tag</Data>
      <Title>Objekt</Title>
      <Sort/>
      <Guid>e30f54fb-1e8b-4c95-bfdd-dd533e0d15cb</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>
							str = "Vertikaltrase, " .. Name
							if ocpRef then str = str .. ", " .. getObjectFromId(ocpRef).name end
							return str</Data>
      <Title>Beskrivelse</Title>
      <Sort/>
      <Guid>bef4d979-bacb-4911-a8a7-80635b4a0312</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>Alignment</Data>
      <Title>Tilhører objekt</Title>
      <Sort>Ascending</Sort>
      <Guid>76b87e66-27ed-427a-93e7-b8ee66cb9827</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"TODO"</Data>
      <Title>Tilhører lokasjon</Title>
      <Sort/>
      <Guid>86b27289-9419-4ecc-8d4a-2e3da3f8fe9f</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>Name</Data>
      <Title>Navn/nr</Title>
      <Sort/>
      <Guid>e25d4b1c-aa3e-42ab-98c6-cfafa7233448</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"TODO"</Data>
      <Title>Idriftssatt dato</Title>
      <Sort/>
      <Guid>ac22abc1-b59e-4457-825b-896afd9a7a46</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>string.format("Km.%.3f",VerticalTransitionStart.Mileage/1000)</Data>
      <Title>Km(fra)</Title>
      <Sort>Ascending</Sort>
      <Guid>10272f0b-a413-49f6-bd6a-b520ea345d97</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"TODO Senter"</Data>
      <Title>Side(fra)</Title>
      <Sort/>
      <Guid>76d50cbf-7dde-41dc-9485-2de6e15df812</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>
							RcSection:filter(function(x) return x.RcType == "Sporbruk" end)[0].Variant
						</Data>
      <Title>Sportype(fra)</Title>
      <Sort/>
      <Guid>5ed3a550-2ff2-4371-a588-efaa021f2e53</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>RcSection:filter(function(x) return x.RcType == "Spornr" end)[0].Code</Data>
      <Title>Spornr(fra)</Title>
      <Sort/>
      <Guid>0f52b60a-38bb-40a0-9d96-54f317f6ef1d</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>0</Data>
      <Title>Avst/Spormidt(fra)</Title>
      <Sort/>
      <Guid>5e8302d5-af4c-4446-aea4-143f4d648e36</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"Bane NOR"</Data>
      <Title>Eier</Title>
      <Sort/>
      <Guid>e28acf01-34e6-4a79-9b31-8b7fc26d6be0</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>30</Width>
      <Data>string.format("%.3f",geoCoord.Y)</Data>
      <Title>Nord(fra)</Title>
      <Sort/>
      <Guid>fc15f89b-676d-4a62-a0c6-4ff124763b52</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>30</Width>
      <Data>string.format("%.3f",geoCoord.X)</Data>
      <Title>Øst(fra)</Title>
      <Sort/>
      <Guid>8df53a42-bed9-4667-a761-440c46a5197b</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>30</Width>
      <Data>string.format("%.3f",getAlignmentInfo().NearestVerticalVertex.VerticalTransitionStart.Elevation)</Data>
      <Title>Høyde(fra)</Title>
      <Sort/>
      <Guid>5f2711e2-0b3c-485f-8ea0-376ab81cef28</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"TODO"</Data>
      <Title>Dokumentreferanse</Title>
      <Sort/>
      <Guid>2e3d26fe-2da8-4495-9570-06159653e2af</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>"TODO"</Data>
      <Title>Serienr.</Title>
      <Sort/>
      <Guid>fa469762-6685-482f-b3b3-10b31d5f6589</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>Name</Data>
      <Title>trasépunkt</Title>
      <Sort/>
      <Guid>71b321ec-4bc3-493d-974b-2b01236d720c</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>string.format("%.3f",getAlignmentInfo().NearestVerticalVertex.Radius)</Data>
      <Title>Kurveradius(m)</Title>
      <Sort/>
      <Guid>3b27856d-3955-4cb8-b54e-9d43504244fb</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>string.format("%.3f",getAlignmentInfo().NearestVerticalVertex.Length)</Data>
      <Title>Tangentlengde (m)</Title>
      <Sort/>
      <Guid>ef6c1bb3-82c0-40aa-b3a7-9291375d5a15</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>string.format("%.3f",getAlignmentInfo().NearestVerticalVertex.VerticalTransitionEnd.Elevation-getAlignmentInfo().NearestVerticalVertex.VerticalTransitionStart.Elevation)</Data>
      <Title>Tangenthøyde (m)</Title>
      <Sort/>
      <Guid>5035e780-fad1-4702-b9ad-511753fa60ef</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>30</Width>
      <Data>string.format("%.3f",geoCoord.Y)</Data>
      <Title>Nord</Title>
      <Sort/>
      <Guid>5057f2f8-f3a1-4088-b09d-e771854752e8</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>30</Width>
      <Data>string.format("%.3f",geoCoord.X)</Data>
      <Title>Øst</Title>
      <Sort/>
      <Guid>de8b2e56-0399-416a-b414-6334d9cfb492</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>30</Width>
      <Data>string.format("%.3f",getAlignmentInfo().NearestVerticalVertex.Elevation)</Data>
      <Title>Høyde (m)</Title>
      <Sort/>
      <Guid>69e97ff0-6a59-49ff-aad9-128da3a2f848</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>string.format("%.3f",getAlignmentInfo().NearestVerticalVertex.VerticalTransitionStart.Mileage / 1000)</Data>
      <Title>SE 1 Km</Title>
      <Sort/>
      <Guid>d26d4f01-0cef-4c8d-bd72-ecadde152216</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>string.format("%.3f",getAlignmentInfo().NearestVerticalVertex.VerticalTransitionStart.Gradient * 1000)</Data>
      <Title>SE 1 Stigning (prom)</Title>
      <Sort/>
      <Guid>8157325e-542a-4044-b254-e21d5229adaa</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>string.format("%.3f",getAlignmentInfo().NearestVerticalVertex.VerticalTransitionEnd.Mileage / 1000)</Data>
      <Title>SE 2 Km</Title>
      <Sort/>
      <Guid>68515a3a-70d2-408b-8acb-d2191ca1f040</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data>string.format("%.3f",getAlignmentInfo().NearestVerticalVertex.VerticalTransitionEnd.Gradient * 1000)</Data>
      <Title>SE 2 Stigning (prom)</Title>
      <Sort/>
      <Guid>90f19c72-7061-4e9a-9e72-601e9124d9bc</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>76b87e66-27ed-427a-93e7-b8ee66cb9827</string>
     <string>10272f0b-a413-49f6-bd6a-b520ea345d97</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETETable" Class="RCTable" Name="FE-DIV KL-tabell" Layer="JBTFE_TABELLER" Color="ByLayer" Group="Elektro Høyspent/Kontaktledningstabeller">
  <RelationSpace>tabell</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>Variant .. " - " .. RC__getUrlFilename()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Master">
   <Variant Name="Master"/>
   <Variant Name="Mastetabell NOEIRH"/>
   <Variant Name="Utliggere"/>
   <Variant Name="Ledninger"/>
   <Variant Name="Barduner"/>
   <Variant Name="Isolatorer"/>
  </Variants>
  <InsertTable VariantName="Master" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Mastetabell for kontaktledningsanlegg</Title>
    <IncludeTitle>true</IncludeTitle>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>
					RcType:sub(1,6) == "EH-MAS" 
					or RcType == "JBTEH_BAR Tunnelfeste" 
					or (RcType == "JBTEH_AEH Avspenning" and Variant == "Fixpunkt")
				</LuaFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <Font>RC-STANDARD</Font>
    <TitleTextHeight>3.5</TitleTextHeight>
    <HeaderTextHeight>2.5</HeaderTextHeight>
    <DataTextHeight>1.8</DataTextHeight>
    <VerticalCellMargin>1</VerticalCellMargin>
    <HorizontalCellMargin>1</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>270</WrapDepth>
    <WrapSpacing>10</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>true</RepeatHeaders>
    <TableFormat>Standard</TableFormat>
    <Columns>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Mast</Title>
       </Header>
      </Headers>
      <Width>20</Width>
      <Data>tostring(Name:gsub("eksisterende","eks."))</Data>
      <Title>Nr</Title>
      <Sort>Ascending</Sort>
      <Guid>71b321ec-4bc3-493d-974b-2b01236d720c</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Mast</Title>
       </Header>
      </Headers>
      <Width>20</Width>
      <Data>string.format("%.03f",Mileage/1000)</Data>
      <Title>Profil\Peget spor</Title>
      <Sort>Ascending</Sort>
      <Guid>630b8470-4cee-4f85-875f-9634b9076eef</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Mast</Title>
       </Header>
      </Headers>
      <Width>20</Width>
      <Data>string.format("%.01f",SpanLength)</Data>
      <Title>Spenn-\Plengde</Title>
      <Sort/>
      <Guid>10272f0b-a413-49f6-bd6a-b520ea345d97</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Mast</Title>
       </Header>
      </Headers>
      <Width>20</Width>
      <Data>
							if (string.find(Variant:lower(),"hengemast")) then 
								if (string.find(OcsMastProfile,"Ø120")) then
									s = "HGM Ø120" 
								elseif (string.find(OcsMastProfile,"100x100")) then
									s = "HGM" 
								elseif (string.find(OcsMastProfile,"100x150")) then
									s = "HGM" 
								elseif (string.find(OcsMastProfile,"100x200")) then
									s = "HGM" 
								else
									s = "Ukjent Masteprofil ["..OcsMastProfile.."]",_warning
								end
								return s
							else
								return OcsMastProfile
							end
						</Data>
      <Title>Mastetype</Title>
      <Sort/>
      <Guid>eb169134-3c23-4575-8073-fa8da33a13a7</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Mast</Title>
       </Header>
      </Headers>
      <Width>20</Width>
      <Data>-- "Mastens stilling" betyr egentlig "mastesymbol med utligger".
--
--   Nedenfor vil "*" bety enten O = gittermast, X = hengemast, 8 = bjelkemast G = GMB-mast
--
--   *-   Enkel utligger til høyre side i økende km-retning
--  -*    Enkel utligger til venstre side i økende km-retning
--   *=   Dobbel utligger til høyre side i økende km-retning
--  =*    Dobbel utligger til venstre side i økende km-retning
--
-- Kombinasjoner er tillatt - enkel/dobbel til begge sider.
--

local symbol = "*"
if Variant:lower():match("henge") then 
	symbol = "X"
elseif Variant:lower():match("gmb") then -- 2019-05-05 CLFEY foreslår 'G' for GMB-master.
	symbol = "G"
elseif Variant:lower():match("b%-mast") or Variant:lower():match("h%-mast") then 
	symbol = "O"
elseif Variant:lower():match("bjelke") then 
	symbol = "8"
else
	return "Ukjent Variant ["..Variant.."].",_warning

if (getCollectionLength(Relations["Er kl-mast for utligger"]) == 0) then
	return "Har ikke utligger",_warning
elseif (getCollectionLength(Relations["Er kl-mast for utligger"]) == 1) then
	if (this.DistanceToAlignment - Relations["Er kl-mast for utligger"][0].DistanceToAlignment &gt; 0) then
		return "-"..symbol
	else 
		return symbol.."-"
	end
else
	--getCollectionLength(Relations["Er kl-mast for utligger"]) &gt; 1
	return "Har ikke laget formel for multiple utliggere",_warning
end</Data>
      <Title>Retning</Title>
      <Sort/>
      <Guid>5eeb2da8-04be-46f2-82a8-e33d3de50004</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Mast</Title>
       </Header>
      </Headers>
      <Width>20</Width>
      <Data>string.format("%.02f",getAlignmentInfo().DistanceToAlignment)</Data>
      <Title>CL mast\PCL spor</Title>
      <Sort/>
      <Guid>f3d18f52-4971-46a6-a83b-0e834c0ea2f3</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Utligger</Title>
       </Header>
      </Headers>
      <Width>15</Width>
      <Data>Relations["Er kl-mast for utligger"][0].Variant</Data>
      <Title>System</Title>
      <Sort/>
      <Guid>c8b4a51f-3670-449c-8819-a1c47fba8d09</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Utligger</Title>
       </Header>
      </Headers>
      <Width>15</Width>
      <Data>Relations["Er kl-mast for utligger"][0].StaggerDisplay</Data>
      <Title>Sikk-\Psakk</Title>
      <Sort/>
      <Guid>9c80dade-86df-4959-acd4-cd03be48c176</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Spor</Title>
       </Header>
      </Headers>
      <Width>30</Width>
      <Data>Alignment.code</Data>
      <Title>Nr</Title>
      <Sort/>
      <Guid>94bca7ee-e084-48c4-8129-42573b7b259c</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Spor</Title>
       </Header>
      </Headers>
      <Width>15</Width>
      <Data>
							r = getAlignmentInfo().CurveRadius
							if r == "Infinity" then 
								return "RL"
							else 
								if math.abs(r) &gt; 5e5 then 
									return "RL"
								else
									if getAlignmentInfo().CurveRotation:upper() == "CCW" then
										return string.format("%0d",r)
									else
										return string.format("%0d",-r)
									end
								end
							end
						</Data>
      <Title>Kurve-\Pradius</Title>
      <Sort/>
      <Guid>861ae53f-c887-4774-86c2-122e8369dd8c</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Spor</Title>
       </Header>
      </Headers>
      <Width>20</Width>
      <Data>local c = getAlignmentInfo().Cant
							if (RC__isNan(c)) then
								return "-"
							else
								return string.format("%.0f",c)
							end
						</Data>
      <Title>OH</Title>
      <Sort/>
      <Guid>1378d22d-c88d-41c9-a54b-96db95d2d3c4</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bestemmende spor</Title>
       </Header>
      </Headers>
      <Width>30</Width>
      <Data>ReferenceAlignment.code</Data>
      <Title>Nr</Title>
      <Sort/>
      <Guid>74af20b1-7ec9-4ec6-85b6-7e8bda973470</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bestemmende spor</Title>
       </Header>
      </Headers>
      <Width>20</Width>
      <Data>string.format("%d %.0d",ReferenceMileage/1000,10*(ReferenceMileage%1000))</Data>
      <Title>Km.</Title>
      <Sort/>
      <Guid>5c76f0af-f694-4c2b-b22d-378169c7fdf3</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bestemmende spor</Title>
       </Header>
      </Headers>
      <Width>20</Width>
      <Data>string.format("%.02f",getAlignmentInfo(getObjectFromId(ReferenceAlignment)).DistanceToAlignment)</Data>
      <Title>CL mast\PCL spor</Title>
      <Sort/>
      <Guid>87fda45d-6ea8-465c-9994-907106a84c16</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Av-\Pspenning</Title>
       </Header>
      </Headers>
      <Width>20</Width>
      <Data>"uferdig"</Data>
      <Title>Avsp.</Title>
      <Sort/>
      <Guid>d2a36cb1-b7cb-4c8e-8a87-671ca9cabfe7</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>50</Width>
      <Data/>
      <Title>Merknader</Title>
      <Sort/>
      <Guid>0b9b2747-97b6-46de-ba8b-31d4d400faf9</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>630b8470-4cee-4f85-875f-9634b9076eef</string>
     <string>71b321ec-4bc3-493d-974b-2b01236d720c</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
  <InsertTable VariantName="Mastetabell NOEIRH" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Mastetabell</Title>
    <IncludeTitle>true</IncludeTitle>
    <ShowInvisibleObjects>false</ShowInvisibleObjects>
    <OMFilterList/>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>RcType:sub(1,6) == "EH-MAS" and Alignment.name:match("1") ~= nil and isVisible() == true</LuaFilter>
    <UseDataSetFilter>false</UseDataSetFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <TitleTextHeight>3.5</TitleTextHeight>
    <HeaderTextHeight>2.5</HeaderTextHeight>
    <DataTextHeight>1.8</DataTextHeight>
    <VerticalCellMargin>1</VerticalCellMargin>
    <HorizontalCellMargin>1</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <MinRowHeight>3</MinRowHeight>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>270</WrapDepth>
    <WrapSpacing>10</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>true</RepeatHeaders>
    <VerticalNumbering>
     <Enabled>false</Enabled>
     <IsVertical>true</IsVertical>
     <Location>Left</Location>
     <NumberFormat>Numbers</NumberFormat>
     <TextHeight>2</TextHeight>
     <HideBorders>true</HideBorders>
     <Alignment>MiddleCenter</Alignment>
    </VerticalNumbering>
    <HorizontalNumbering>
     <Enabled>false</Enabled>
     <IsVertical>false</IsVertical>
     <Location>Bottom</Location>
     <NumberFormat>Numbers</NumberFormat>
     <TextHeight>2</TextHeight>
     <HideBorders>true</HideBorders>
     <Alignment>MiddleCenter</Alignment>
    </HorizontalNumbering>
    <TableFormat>Standard</TableFormat>
    <Font>RC-STANDARD</Font>
    <Columns>
     <ColumnSpecification>
      <Guid>ebeae652-c017-4e38-bd24-c31a859dd006</Guid>
      <Headers>
       <Header Name="Mast"/>
       <Header Name="Nr"/>
      </Headers>
      <Width>15</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>Name</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>10272f0b-a413-49f6-bd6a-b520ea345d97</Guid>
      <Headers>
       <Header Name="Mast"/>
       <Header Name="Spenn-\Plengde [m]"/>
      </Headers>
      <Width>20</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>(SpanLength == 0 and "" or string.format("%.01f",SpanLength))..(SpanLength2 == 0 and "" or string.format("/%.01f",SpanLength2))</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>eb169134-3c23-4575-8073-fa8da33a13a7</Guid>
      <Headers>
       <Header Name="Mast"/>
       <Header Name="Mastetype"/>
      </Headers>
      <Width>20</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>if (string.find(Variant,"Hengemast")) then 
												if (string.find(OcsMastProfile,"Ø120")) then
													s = "HGM Ø120" 
												elseif (string.find(OcsMastProfile,"100x100")) then
													s = "HGM" 
												elseif (string.find(OcsMastProfile,"150x100")) then
													s = "HGM" 
												elseif (string.find(OcsMastProfile,"200x100")) then
													s = "HGM" 
												else
													s = "Ukjent Masteprofil ["..OcsMastProfile.."]",_warning
												end
												return s
											else
												return tostring(OcsMastProfile:gsub("eksisterende","eks."))
											end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>cc20a186-debe-4ea2-954f-f7be1f77b7fe</Guid>
      <Headers>
       <Header Name="Mast"/>
       <Header Name="Åk"/>
      </Headers>
      <Width>10</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>local s = "Er åk-mast for åk"
				local h = "Er hengemast i åk"
				local r,n = RC__getCollectionOfRelatedObjects(s)
				local b,t = RC__getCollectionOfRelatedObjects(h)
				
				if n == 0 and t == 0 then
					return ""
				elseif n&gt;0 then
					return r[0].code
				elseif t&gt;0 then
					return b[0].code
				end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>5eeb2da8-04be-46f2-82a8-e33d3de50004</Guid>
      <Headers>
       <Header Name="Mast"/>
       <Header Name="Retning"/>
      </Headers>
      <Width>10</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>-- "Mastens stilling" betyr egentlig "mastesymbol med utligger".
				--
				--   Nedenfor vil "*" bety enten O = gittermast, X = hengemast, 8 = bjelkemast G = GMB-mast
				--
				--   *-   Enkel utligger til høyre side i økende km-retning
				--  -*    Enkel utligger til venstre side i økende km-retning
				--   *=   Dobbel utligger til høyre side i økende km-retning
				--  =*    Dobbel utligger til venstre side i økende km-retning
				--
				-- Kombinasjoner er tillatt - enkel/dobbel til begge sider.
				--
				
				local symbol = "*"
				if Variant:match("Henge") ~= nil then 
					symbol = "X"
				elseif Variant:match("GMB") ~= nil then -- 2019-05-05 CLFEY foreslår 'G' for GMB-master. NB! Test på 'GMB' før 'B-mast'  
					symbol = "G"
				elseif Variant:match("B%-mast") ~= nil or Variant:match("H%-mast") ~= nil then 
					symbol = "O"
				elseif Variant:match("Bjelke") ~= nil then 
					symbol = "O"
				else
					return "",_warning
				end
				
				if (getCollectionLength(Relations["Er kl-mast for utligger"]) == 0) then
					return "",_warning --Har ikke utligger
				elseif (getCollectionLength(Relations["Er kl-mast for utligger"]) == 1) then
					if (this.DistanceToAlignment - Relations["Er kl-mast for utligger"][0].DistanceToAlignment &gt; 0) then
						return "-"..symbol
					else 
						return symbol.."-"
					end
				elseif (getCollectionLength(Relations["Er kl-mast for utligger"]) == 2) then
					if (this.DistanceToAlignment - Relations["Er kl-mast for utligger"][0].DistanceToAlignment &gt; 0) then
						return "="..symbol
					else 
						return symbol.."="
					end
				end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>f3d18f52-4971-46a6-a83b-0e834c0ea2f3</Guid>
      <Headers>
       <Header Name="Mast"/>
       <Header Name="CL mast\PCL spor [m]"/>
      </Headers>
      <Width>15</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>string.format("%.02f",getAlignmentInfo().DistanceToAlignment)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>be125708-f0f2-484a-8a30-0bf4f5ef351d</Guid>
      <Headers>
       <Header Name="Mast"/>
       <Header Name="BaneData ID"/>
      </Headers>
      <Width>25</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>tag</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>000c2d2c-237b-4553-9d80-abbc643c9a95</Guid>
      <Headers>
       <Header Name="Utligger"/>
       <Header Name="Kth [m]"/>
      </Headers>
      <Width>15</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>local s = "Er kl-mast for utligger"
					local r,n = RC__getCollectionOfRelatedObjects(s)
				
				if n == 0 or isVisible(r[0]) == false then 
					return ""
				elseif n == 1 then
					return r[0].ContactWireHeight
				elseif n == 2 then	
				return r[0].ContactWireHeight.."/"..r[1].ContactWireHeight
				end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>8c81f720-43ed-4520-a78f-19410c849895</Guid>
      <Headers>
       <Header Name="Utligger"/>
       <Header Name="Sh [m]"/>
      </Headers>
      <Width>15</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>local s = "Er kl-mast for utligger"
					local r,n = RC__getCollectionOfRelatedObjects(s)
				
				if n == 0 or isVisible(r[0]) == false then 
					return ""
				elseif n == 1 then
					return r[0].SystemHeight
				elseif n == 2 then	
				return r[0].SystemHeight.."/"..r[1].SystemHeight
				end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>00e2d0b2-3318-4838-93bd-7528d83478b2</Guid>
      <Headers>
       <Header Name="Utligger"/>
       <Header Name="Sikk\PSakk [m]"/>
      </Headers>
      <Width>15</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>local s = "Er kl-mast for utligger"
					local r,n = RC__getCollectionOfRelatedObjects(s)
				
				if n == 0 or isVisible(r[0]) == false then 
					return ""
				elseif n == 1 then
					return r[0].Stagger
				elseif n == 2 then	
				return r[0].Stagger.."/"..r[1].Stagger
				end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>94bca7ee-e084-48c4-8129-42573b7b259c</Guid>
      <Headers>
       <Header Name="Eget spor"/>
       <Header Name="Nr"/>
      </Headers>
      <Width>15</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>Alignment.code</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>630b8470-4cee-4f85-875f-9634b9076eef</Guid>
      <Headers>
       <Header Name="Eget spor"/>
       <Header Name="PEL [km]"/>
      </Headers>
      <Width>15</Width>
      <Sort>Ascending</Sort>
      <Alignment>MiddleCenter</Alignment>
      <Data>RC__toKm(Mileage)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>861ae53f-c887-4774-86c2-122e8369dd8c</Guid>
      <Headers>
       <Header Name="Eget spor"/>
       <Header Name="Kurve-\Pradius [m]"/>
      </Headers>
      <Width>15</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>r = getAlignmentInfo().CurveRadius
											if r == "Infinity" then 
												return "RL"
											else 
												if math.abs(r) &gt; 5e5 then 
													return "RL"
												else
													if getAlignmentInfo().CurveRotation:upper() == "CCW" then
														return string.format("%.f",r)
													else
														return string.format("%.f",-r)
													end
												end
											end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>1378d22d-c88d-41c9-a54b-96db95d2d3c4</Guid>
      <Headers>
       <Header Name="Eget spor"/>
       <Header Name="OH [mm]"/>
      </Headers>
      <Width>10</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>local c = getAlignmentInfo().Cant
											if (RC__isNan(c)) then
												return "-"
											else
												return string.format("%.0f",c)
											end
										</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>74af20b1-7ec9-4ec6-85b6-7e8bda973470</Guid>
      <Headers>
       <Header Name="Bestemmende spor"/>
       <Header Name="Nr"/>
      </Headers>
      <Width>15</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>ReferenceAlignment.code</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>5c76f0af-f694-4c2b-b22d-378169c7fdf3</Guid>
      <Headers>
       <Header Name="Bestemmende spor"/>
       <Header Name="Km. [km]"/>
      </Headers>
      <Width>10</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>--string.format("%.03f",ReferenceMileage/1000,10*(ReferenceMileage%1000))
				RC__toKm(ReferenceMileage)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>87fda45d-6ea8-465c-9994-907106a84c16</Guid>
      <Headers>
       <Header Name="Bestemmende spor"/>
       <Header Name="CL mast\PCL spor [m]"/>
      </Headers>
      <Width>15</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>string.format("%.02f",getAlignmentInfo(getObjectFromId(ReferenceAlignment)).DistanceToAlignment)</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>57a7dcc0-e348-4e8a-a6db-542f7c13ce67</Guid>
      <Headers>
       <Header Name="Eks.spor"/>
       <Header Name="Km [km]"/>
      </Headers>
      <Width>20</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>r = string.format("%.03f", (Mileage+1483.104)/1000)
				return "\\C10;"..r</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>d2a36cb1-b7cb-4c8e-8a87-671ca9cabfe7</Guid>
      <Headers>
       <Header Name="Av-\Pspenning"/>
       <Header Name="Avsp."/>
      </Headers>
      <Width>20</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>if RcType == "JBTEH_MAS KL-mast" 
				then
					vpil = "←" --"\8592"
					opil = "↑"--"\8593"
					hpil = "→" --"\8594"
					npil = "↓"--"\8595"
					ba = getClosestAlignments("JBTEH_KLO Kontaktledningsoppheng"):
						filter(function  (x) return x.Variant:lower() == "bardun" and RC__getDistance2D(x.rcalignment.startpoint) &lt; 1.0 end )
					nb = getCollectionLength(ba)
					--if true then return nb,ba end
					t = getClosestTracks()
					tgt= getAlignmentInfo(t[0].id).tangent
					--if true then return tgt end
					sporvinkel = math.atan(tgt.Y, tgt.X) * 180.0/math.pi 
					--if true then return sporvinkel end
					first = true
					for i = 0, nb-1 do
						s = first and "" or s..", "
						b = ba[i]
						pe = b.RcAlignment.EndPoint
						bf = getNearbyPointObjects2D(0.25, "EH-BAR Bardun", pe)[0]
						--if true then return bf end
						tgb= b.RcAlignment.StartTangent
						--if true then return tgb end
						bardunvinkel = math.atan(tgb.Y, tgb.X) * 180.0/math.pi
						--if true then return bardunvinkel end
						vinkel = bardunvinkel - sporvinkel
						if vinkel &lt; -180 then vinkel = vinkel + 360 end
						if vinkel &gt; 180 then vinkel = vinkel - 360 end
						hkurve = vinkel &gt; 50 and vinkel &lt; 130
						vkurve = vinkel &lt; -50 and vinkel &gt; -130
						medrettet = vinkel &gt; -25 and vinkel &lt; 25
						motrettet = vinkel &lt; -155 or vinkel &gt; 155
						--if true then return vinkel,bf.Variant, end
						--if true then return sporvinkel, bardunvinkel, vinkel, hkurve, vkurve medrettet, motrettet end
						if (vkurve or hkurve or medrettet or motrettet) == false then 
							return "Feil, ulovlig bardunvinkel ("..vinkel..")"
						end
						if hkurve and bf.Variant == "Enkel" then s = s..vpil
						elseif vkurve and bf.Variant == "Enkel" then s = s..hpil
						elseif motrettet and bf.Variant == "Enkel" then s = s..opil
						elseif motrettet and bf.Variant == "Dobbel" then s = s..opil..opil
						elseif medrettet and bf.Variant == "Enkel"  then s = s..npil
						elseif medrettet and bf.Variant == "Dobbel" then s = s..npil..npil
						else
							return bf.variant.."" --"Feil skal ikke skje" -- Har ingen Bardun
						end
						first = false
					end
					return s
				end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>0b9b2747-97b6-46de-ba8b-31d4d400faf9</Guid>
      <Headers>
       <Header Name="Merknader"/>
      </Headers>
      <Width>50</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>tol = 0.25
				avspenning = getClosestAlignments("JBTEH_KLO Kontaktledningsoppheng"):filter(
					function (x) 
						return x.Variant:lower() == "bardun" and RC__getDistance2D(x.RcAlignment.startpoint) &lt; tol
					end)
				strever = getClosestAlignments("JBTEH_KLO Kontaktledningsoppheng"):filter(
					function (x) 
						return x.Variant:lower() == "strever" and RC__getDistance2D(x.RcAlignment.startpoint) &lt; tol
					end)
					
				fix = {}	
					if getCollectionLength(Relations["Er kl-mast for utligger"]) ~= 0 and getCollectionLength(Relations["Er kl-mast for utligger"][0].Relations["Har kl-oppheng"]) ~= 0 then
						fix = Relations["Er kl-mast for utligger"][0].Relations["Har kl-oppheng"]
					end
				
				--fix = getNearbyPointObjects2D(5, "JBTEH_AEH Avspenning")
				
				--fix = Relations["Er kl-mast for utligger"][0].Relations["Har kl-oppheng"]
				ta = avspenning and RC__identify(avspenning[0]) or ""
				ts = strever and RC__identify(strever[0]) or ""
				tf = fix and RC__identify(fix[0]) or ""
				
				
				t = {}
				
				
				
				if ObjectInfo ~= "" then table.insert(t, ObjectInfo) end
				if avspenning.Count ~= 0 then table.insert(t, ta) end
				if strever.Count ~= 0 then table.insert(t, ts) end
				if fix.Count ~= nil then table.insert(t, tf) end
				
				--s = ""
				--if #t == 1 then
				--	s = t[1]
				--elseif #t &gt;= 1 then
				--	for i = 1,#t do s = s..", "..t[i] end
				--	string.gsub(s,)
				--end
				
				s = ""
				
				first = true
				
				for i = 1,#t do
				
					if not first then s = s..", " else first = false end
				
					s = s..t[i]
				
				end
				
				return s
				
				--return Relations["Er kl-mast for utligger"][0].Relations["Har kontaktledningsoppheng"][0].variant == "fixline" --Sjekk navn</Data>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>630b8470-4cee-4f85-875f-9634b9076eef</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETETable" Class="RCTable" Name="FE-DIV Jordingstabell" Layer="JBTFE_TABELLER" Group="Elektro Høyspent/Jordingstabeller">
  <RelationSpace>tabell</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>Variant .. " - " .. RC__getUrlFilename()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Jordingstabell">
   <Variant Name="Jordingstabell"/>
  </Variants>
  <InsertTable VariantName="Jordingstabell" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Jordingstabell [angi tegningsnummer her]</Title>
    <IncludeTitle>true</IncludeTitle>
    <ShowInvisibleObjects>false</ShowInvisibleObjects>
    <ObjectManagerFilter>JBTEH_MAS KL-mast</ObjectManagerFilter>
    <ObjectManagerFilterList>
     <string>JBTEH_MAS KL-mast</string>
     <string>JBTEH_MAS KL-mast</string>
    </ObjectManagerFilterList>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>--CLFEY 2020-03-01 EARTHING TABLE - Based on the 'Lieråsen-Brakerøya' project for Bane NOR.
--Make one copy of this table for each layout. Edit Lua changes in master table.
--Associate each table with the area capturing the objects to be included in the table.
--
--This table definition relies on the following Lua functions to be contained in the DNA:
--    RC__identify(xyzzy)                        : Returns object xyzzy's  name if present, or code if present, or guid.
--    RC__toKm(ReferenceMileage)                 : Returns a string with ref. mileage as km with 3 decimals (meter precision).
--    r,n = RC__getCollectionOfRelatedObjects(s) : Returns Relations[s]:filter(function (x) return x:isVisible() end) and the size of that collection.
--
RcType == "JBTEH_JOR Jordleder"
or
(
	EarthingMethod == "Wire" or 
	(EarthingMethod == "Rail" or EarthingMethod == "Track") or --(prepared for future change to enum value from 'Rail' to 'Track')
	EarthingMethod == "Object"
	--Ignore those with 'None' and 'Unknown'.
)
and 
(
	--Replace with your project's min/max mileages for this table, if mileage limits are required.
	ReferenceMileage &gt;= 0 and
	ReferenceMileage &lt;= math.huge
)</LuaFilter>
    <UseDataSetFilter>false</UseDataSetFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <TitleTextHeight>3.5</TitleTextHeight>
    <HeaderTextHeight>2.5</HeaderTextHeight>
    <DataTextHeight>1.8</DataTextHeight>
    <VerticalCellMargin>0.5</VerticalCellMargin>
    <HorizontalCellMargin>1</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <MinRowHeight>1</MinRowHeight>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>0</WrapDepth>
    <WrapSpacing>0</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>false</RepeatHeaders>
    <VerticalNumbering>
     <Enabled>false</Enabled>
     <IsVertical>true</IsVertical>
     <Location>Left</Location>
     <NumberFormat>Numbers</NumberFormat>
     <TextHeight>2</TextHeight>
     <HideBorders>true</HideBorders>
     <Alignment>MiddleCenter</Alignment>
    </VerticalNumbering>
    <HorizontalNumbering>
     <Enabled>false</Enabled>
     <IsVertical>false</IsVertical>
     <Location>Bottom</Location>
     <NumberFormat>Numbers</NumberFormat>
     <TextHeight>2</TextHeight>
     <HideBorders>true</HideBorders>
     <Alignment>MiddleCenter</Alignment>
    </HorizontalNumbering>
    <TableFormat>Standard</TableFormat>
    <Font>RC-STANDARD</Font>
    <Columns>
     <ColumnSpecification>
      <Guid>71b321ec-4bc3-493d-974b-2b01236d720c</Guid>
      <Headers>
       <Header Name="Spor / Jordleder"/>
       <Header Name="Km Ref.spor [angi refspor her]"/>
      </Headers>
      <Width>20</Width>
      <Sort>Ascending</Sort>
      <Alignment>MiddleCenter</Alignment>
      <Data>if RcAlignment == nil then
	-- Point object:
	return RC__toKm(ReferenceMileage)
else
	return "-"
end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>10272f0b-a413-49f6-bd6a-b520ea345d97</Guid>
      <Headers>
       <Header Name="Spor / Jordleder"/>
       <Header Name="Tilhører"/>
      </Headers>
      <Width>30</Width>
      <Sort>Ascending</Sort>
      <Alignment>MiddleCenter</Alignment>
      <Data>if RcType == "JBTEH_JOR Jordleder" then
	return code
	
elseif EarthingMethod == "Wire" then
	if EarthingAlignment == nil then
		return "Missing PE wire"
	else
		return RC__identify(EarthingAlignment)
	end

elseif EarthingMethod == "Rail" or EarthingMethod == "Track" then --(prepared for future change to enum value from 'Rail' to 'Track')
	if EarthingAlignment == nil then
		return "Missing track"
	else
		return EarthingAlignment.code
	end
	
elseif EarthingMethod == "Object" then
	if EarthingObject == nil then
		return "Missing PE object"
	else
		return RC__identify(EarthingObject)
	end
	
elseif EarthingMethod == "None" or EarthingMethod == "Unknown" then
	--(Should have been filtered out already)
	return "PE not required"

else
	return "*** Bad EarthingMethod ["..tostring(EarthingMethod).."]."
end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>32998746-0c24-4ac9-a9fe-6f23dedadb2e</Guid>
      <Headers>
       <Header Name="Spor / Jordleder"/>
       <Header Name="Side"/>
      </Headers>
      <Width>15</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>--Earth wires are alignments, so assume that they have each been related to a marker placed on the wire, to extract side-of-track etc.
if RcAlignment == nil then 
	obj = this --Point object
else
	s = "Har markør"
	r,n = RC__getCollectionOfRelatedObjects(s)
	if n == 0 then
		return "-"
	else 
		obj = r[0]
	end
end
return obj.Leftsided and "Venstre" or "Høyre"</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>c862d114-307a-4c93-ab16-b6437fb24902</Guid>
      <Headers>
       <Header Name="Objekt"/>
      </Headers>
      <Width>70</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>--There may be a need to show the earthing of object types for which RC does not have a specific model yet. 
--These objects are to be represented by RcType 'Watch' objects and will present them selves as 'Diverse'.
t = RcType:sub(8)
if t == "Watch" then 
	return "Diverse"
else
	return t.." / "..(Variant == nil and "" or Variant)
end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>e9394aa0-e916-4405-8943-4fad9acab949</Guid>
      <Headers>
       <Header Name="Driftsmerking"/>
      </Headers>
      <Width>70</Width>
      <Sort>Ascending</Sort>
      <Alignment>MiddleCenter</Alignment>
      <Data>RC__identify()</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>289d4be1-1319-4c1c-a970-dba62aca2493</Guid>
      <Headers>
       <Header Name="Merkeskilt"/>
       <Header Name="På jordleder"/>
      </Headers>
      <Width>60</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>if RcType == "JBTEH_JOR Jordleder" then
	return "Skinne / "..RC__identify()
else 
	return EarthingLabelText
end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>63762ea8-c3cb-4325-b360-d8983eafb1cb</Guid>
      <Headers>
       <Header Name="Merkeskilt"/>
       <Header Name="Farge"/>
      </Headers>
      <Width>20</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>--Translate from English if needed:
if EarthingLabelColor == "Red" then return "Rød"
elseif EarthingLabelColor == "Green" then return "Grønn"
elseif EarthingLabelColor == "White" then return "Hvit"
elseif EarthingLabelColor== "Blue" then return "Blå"
elseif EarthingLabelColor == "Yellow" then return "Gul"
elseif RcType == "JBTEH_JOR Jordleder" then return "Rød"
else return EarthingLabelColor
end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>1e6313b6-5ae6-478b-8449-17375bf6df8e</Guid>
      <Headers>
       <Header Name="Jordet til"/>
       <Header Name="Venstre skinne"/>
      </Headers>
      <Width>20</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>if EarthingMethod == "Rail" and LeftSided then
	return "X"
end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>6790c4e6-642a-46da-9417-21687b497b8e</Guid>
      <Headers>
       <Header Name="Jordet til"/>
       <Header Name="Høyre skinne"/>
      </Headers>
      <Width>20</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>if EarthingMethod == "Rail" and RightSided then
	return "X"
end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>43d5b0a0-e8d1-4a9f-8385-cafb3d1c92bb</Guid>
      <Headers>
       <Header Name="Jordet til"/>
       <Header Name="Langsående jordleder"/>
      </Headers>
      <Width>20</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>if EarthingMethod == "Wire" then
	return "X"
end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>7437388b-b08d-4605-b461-b5429d3f6292</Guid>
      <Headers>
       <Header Name="Koblet via"/>
      </Headers>
      <Width>70</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>if RcType == "JBTEH_JOR Jordleder" then
	return "Direkte til skinne"

elseif EarthingMethod == "Rail" then 
	return "Direkte til skinne"

elseif EarthingMethod == "Wire" then 
	return "Direkte til langsgående jordleder"

elseif EarthingMethod == "Object" then
	return "Jordet via "..RC__identify(EarthingObject)

else
	return "?"
end</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>0dec4ab1-4196-4142-8497-b0d4916f0f9e</Guid>
      <Headers>
       <Header Name="Fag"/>
      </Headers>
      <Width>25</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>Discipline</Data>
     </ColumnSpecification>
     <ColumnSpecification>
      <Guid>b7236c2b-cfce-4af4-a0b2-e99fb66653ad</Guid>
      <Headers>
       <Header Name="Merknader"/>
      </Headers>
      <Width>35</Width>
      <Sort/>
      <Alignment>MiddleCenter</Alignment>
      <Data>s = "Er åk-mast for åk"
r,n = RC__getCollectionOfRelatedObjects(s)
if n &gt; 0 then
	return "Tilhører åk "..r[0].code
else 
	return ""
end</Data>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>71b321ec-4bc3-493d-974b-2b01236d720c</string>
     <string>e9394aa0-e916-4405-8943-4fad9acab949</string>
     <string>10272f0b-a413-49f6-bd6a-b520ea345d97</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETETable" Class="RCTable" Name="FE-DIV Fundamenttabell" Layer="JBTFE__TABELLER" Group="Underbygning/Fundamenttabeller">
  <RelationSpace>tabell</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <Variants DefaultValue="Fundamenter">
   <Variant Name="Fundamenter"/>
   <Variant Name="Skiltfester"/>
  </Variants>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETETable" Class="RCTable" Name="FE-DIV Føringsveitabell" Layer="JBTFE_TABELLER" Group="Underbygning/Føringsveitabeller">
  <RelationSpace>tabell</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>Variant .. " - " .. RC__getUrlFilename()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Trekkerør">
   <Variant Name="Trekkekummmer"/>
   <Variant Name="Rørkryss"/>
   <Variant Name="Trekkerør"/>
   <Variant Name="Kabelkanaler"/>
  </Variants>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETETable" Class="RCTable" Name="FE-DIV Forriglingstabell" Layer="JBTFE_TABELLER" Color="ByLayer" Group="Signal/Forriglingstabeller">
  <RelationSpace>tabell</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>Variant .. " - " .. RC__getUrlFilename()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Forriglingstabell 0 Tabelloversikt">
   <Variant Name="Forriglingstabell 0 Tabelloversikt"/>
   <Variant Name="Forriglingstabell 1-A Togveier retning A"/>
   <Variant Name="Forriglingstabell 1-B Togveier retning B"/>
   <Variant Name="Forriglingstabell 2-A Forlengede togveier retning A"/>
   <Variant Name="Forriglingstabell 2-B Forlengede togveier retning B"/>
   <Variant Name="Forriglingstabell 3-A Sikkerhetssone togveier retning A"/>
   <Variant Name="Forriglingstabell 3-B Sikkerhetssone togveier retning B"/>
   <Variant Name="Forriglingstabell 4 Sidedekning for togvei og skiftevei"/>
   <Variant Name="Forriglingstabell 5 Utløsing togveier"/>
   <Variant Name="Forriglingstabell 6-A Skifteveier retning A"/>
   <Variant Name="Forriglingstabell 6-B Skifteveier retning B"/>
   <Variant Name="Forriglingstabell 7-A Forlengede skifteveier retning A"/>
   <Variant Name="Forriglingstabell 7-B Forlengede skifteveier retning B"/>
   <Variant Name="Forriglingstabell 8-A Sikkerhetssone skifteveier retning A"/>
   <Variant Name="Forriglingstabell 8-B Sikkerhetssone skifteveier retning B"/>
   <Variant Name="Forriglingstabell 9 Utløsing skifteveier"/>
   <Variant Name="Forriglingstabell 10 Lokalområder"/>
   <Variant Name="Forriglingstabell 11 Sammensatte lokalområder"/>
   <Variant Name="Forriglingstabell 12 Sveivområder"/>
   <Variant Name="Forriglingstabell 13 Signalstopp"/>
   <Variant Name="Forriglingstabell 14 Avsporingsindikatorer"/>
   <Variant Name="Forriglingstabell 15 Automatisk gjennomgangsdrift"/>
   <Variant Name="Forriglingstabell 16-A AG-togveier retning A"/>
   <Variant Name="Forriglingstabell 16-B AG-togveier retning B"/>
   <Variant Name="Forriglingstabell 17 Arbeidsområder"/>
   <Variant Name="Forriglingstabell 18 Sammensatte arbeidsområder"/>
   <Variant Name="Forriglingstabell 19 Sporvekselomlegging"/>
   <Variant Name="Forriglingstabell 20 Middelkontrollampe"/>
  </Variants>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETETable" Class="RCTable" Name="FE-DIV Signaltabell" Layer="JBTFE_TABELLER" Color="ByLayer" Group="Signal/Signaltabeller">
  <RelationSpace>tabell</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>Variant .. " - " .. RC__getUrlFilename()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Signaltabell Hovedsignaler">
   <Variant Name="Signaltabell Enkel"/>
   <Variant Name="Signaltabell Byggetoleranser"/>
   <Variant Name="Signaltabell Hovedsignaler"/>
   <Variant Name="Signaltabell Frittstående forsignaler"/>
   <Variant Name="Signaltabell Frittstående dvergsignaler"/>
   <Variant Name="Signaltabell Frittstående formsignaler"/>
  </Variants>
  <InsertTable VariantName="Signaltabell Enkel" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Signaltabell (begrenset)</Title>
    <IncludeTitle>true</IncludeTitle>
    <ShowInvisibleObjects>false</ShowInvisibleObjects>
    <ObjectManagerFilter/>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>RcType == "JBTSA_SIG Signal"</LuaFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <Font>RC-STANDARD</Font>
    <TitleTextHeight>12</TitleTextHeight>
    <HeaderTextHeight>10</HeaderTextHeight>
    <DataTextHeight>8</DataTextHeight>
    <VerticalCellMargin>1.5</VerticalCellMargin>
    <HorizontalCellMargin>1.5</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>0</WrapDepth>
    <WrapSpacing>0</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>false</RepeatHeaders>
    <TableFormat>Standard</TableFormat>
    <Columns>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Signalinformasjon</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>if name:match("Rep") then return "Rep.Hs"
elseif (MainSignal ~= "-") then return "Hovedsignal"
elseif (DistantSignal ~= "-") then return "Forsignal"
elseif (DwarfSignal ~= "-") then return "Dvergsignal"
else return "Ukjent signaltype",_warning
end</Data>
      <Title>Signaltype</Title>
      <Sort>Descending</Sort>
      <Guid>225851ac-3c72-4fb9-880f-9cd04c77bbc8</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Signalinformasjon</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>if dir == "down" then
	return "Synkende km"
elseif dir == "up" then
	return "Stigende km"
else
	return "Ukjent retning ["..dir.."]",_warning
end</Data>
      <Title>Retning</Title>
      <Sort>Ascending</Sort>
      <Guid>0bad5f0f-eb7f-4516-957a-5768e6f4e1c5</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Signalinformasjon</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>name</Data>
      <Title>Navn</Title>
      <Sort>Ascending</Sort>
      <Guid>600a9562-51e1-4e46-bfb1-9e807bd20025</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Signalinformasjon</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>if (Sight == 0) then
	return "(ikke angitt)"
else
	return Sight
end</Data>
      <Title>Siktkrav [m]</Title>
      <Sort/>
      <Guid>d57eb1d7-427b-4a4e-b1fc-1b281c6ff7bd</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Spor</Title>
       </Header>
      </Headers>
      <Width>80</Width>
      <Data>RC__toKm(ReferenceMileage,3)</Data>
      <Title>Km i ref.spor</Title>
      <Sort>Ascending</Sort>
      <Guid>330ae8a5-3643-4624-8aba-fcd86e60940e</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Eget spor</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>ReferenceAlignment.code</Data>
      <Title>Referanse- spor</Title>
      <Sort/>
      <Guid>294be7d2-4067-49c5-ada9-c5df1eec6d35</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Eget spor</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>Alignment.code</Data>
      <Title>Eget spor</Title>
      <Sort/>
      <Guid>5ddd8bf2-8dc5-4d1a-92e4-851dd8ee1190</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Plassering</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>local dirIsUp = (dir == "up")
local dirIsDown = (dir == "down")
--
if (dirIsUp and RightSided) then
	return "Høyre"
elseif (dirIsUp and LeftSided) then
	return "Venstre"
elseif (dirIsDown and RightSided) then 
	return "Venstre"
elseif (dirIsDown and LeftSided) then
	return "Høyre"
else
	return "Feil: Ukjent dir ["..dir.."]"
end</Data>
      <Title>Side av spor i kjøre- retningen</Title>
      <Sort/>
      <Guid>aabae339-be76-4cd7-acc2-3e658bd9b637</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Plassering</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>if (getAlignmentInfo().CurveType == "Straight") then
	return "-"
else
	return math.floor(getAlignmentInfo().CurveRadius+0.5)
end</Data>
      <Title>Kurveradius [m]</Title>
      <Sort/>
      <Guid>7aa6f1c4-3d65-4dfe-9d4e-2efc53adc742</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Plassering</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>if (getAlignmentInfo().CurveType == "Straight") then
	return "Rettspor" 
elseif (getAlignmentInfo().CurveRotation:upper() == "CCW") then
	return "Venstrekurve" 
elseif (getAlignmentInfo().CurveRotation:upper() == "CW") then
	return "Høyrekurve"
	else return "Feil i kurverotasjon [" .. tostring(getAlignmentInfo().CurveRotation) .. "]",_warning
end
						</Data>
      <Title>Høyre / venstre kurve (Oslo i ryggen)</Title>
      <Sort/>
      <Guid>aca992ac-7a86-4558-80e0-1638c189741f</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Plassering</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>if (getAlignmentInfo().CurveType == "Straight") then
	return "Rettspor"
else
	if (getAlignmentInfo().CurveRotation:upper() == "CCW") then
		if (LeftSided) then
			return "Innerkurve"
		else	
			return "Ytterkurve"
		end
	else
		if (RightSided) then
			return "Innerkurve"
		else	
			return "Ytterkurve"
		end
	end
end</Data>
      <Title>Innerkurve / ytterkurve</Title>
      <Sort/>
      <Guid>9948125f-4ec5-4e90-901b-2b51c9b577e6</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bygging</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>local s = ""
local first = true
if (MainSignal ~= "-") then 
	s = MainSignal
	first = false
end 
if (DistantSignal ~= "-") then 
	if (first) then s = "Fs" else s = s.."-Fs" end 
	first = false
end 
if (DwarfSignal ~= "-") then 
	if (first) then s = "Ds" else s = s.."-Ds" end
	first = false
end
if (HighShuntingSignal ~= "-") then 
	if (first) then s = "Z" else s = s.."-Z" end		
	first = false
end 
if (PositionLamp ~= "-") then
	if (first) then s = "MKs" else s = s.."-MKs" end		
	first = false
end
if (CautiousDrivingSignal == "Ja") then
	if (first) then s = "FKs" else s = s.."-FKs" end		
	first = false
end
if (LineSignal ~= "-") then 
	if (first) then s = "Ls" else s = s.."-Ls" end		
	first = false
end
if (OpticalSpeedSignal == "Ja") then 
	if (first) then s = "Hast" else s = s.."-Hast" end		
	first = false
end 
return s</Data>
      <Title>Bestykning</Title>
      <Sort/>
      <Guid>1ebe9384-18d8-407b-8aff-74eca20f9286</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bygging</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>getInvertedBlockImage()</Data>
      <Title>2D symbol</Title>
      <Sort/>
      <Guid>ec4d6960-bb43-4150-9cd4-c873d9080532</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>225851ac-3c72-4fb9-880f-9cd04c77bbc8</string>
     <string>0bad5f0f-eb7f-4516-957a-5768e6f4e1c5</string>
     <string>330ae8a5-3643-4624-8aba-fcd86e60940e</string>
     <string>600a9562-51e1-4e46-bfb1-9e807bd20025</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
  <InsertTable VariantName="Signaltabell (detaljert)" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Signaltabell (detaljert)</Title>
    <IncludeTitle>true</IncludeTitle>
    <ShowInvisibleObjects>false</ShowInvisibleObjects>
    <ObjectManagerFilter/>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>RcType == "JBTSA_SIG Signal"</LuaFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <Font>RC-STANDARD</Font>
    <TitleTextHeight>5</TitleTextHeight>
    <HeaderTextHeight>3.5</HeaderTextHeight>
    <DataTextHeight>2.5</DataTextHeight>
    <VerticalCellMargin>1.5</VerticalCellMargin>
    <HorizontalCellMargin>1.5</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>0</WrapDepth>
    <WrapSpacing>0</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>false</RepeatHeaders>
    <TableFormat>Standard</TableFormat>
    <Columns>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Signaltabell Byggetoleranser</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>if name:lower():match("rep") then 
	return "Rep.Hs"
elseif (MainSignal ~= "-") then 
	return "Hovedsignal"
elseif (DistantSignal ~= "-") then
	return "Forsignal"
elseif (DwarfSignal ~= "-") then
	return "Dvergsignal"
else
	return "Ukjent signaltype",_warning
end</Data>
      <Title>Signaltype</Title>
      <Sort>Descending</Sort>
      <Guid>225851ac-3c72-4fb9-880f-9cd04c77bbc8</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Signalinformasjon</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>if dir == "down" then
	return "Synkende km"
elseif dir == "up" then
	return "Stigende km"
else
	return "Feil: Ukjent retning ["..dir.."]",_warning
end</Data>
      <Title>Retning</Title>
      <Sort>Ascending</Sort>
      <Guid>0bad5f0f-eb7f-4516-957a-5768e6f4e1c5</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Signalinformasjon</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>name</Data>
      <Title>Navn</Title>
      <Sort>Ascending</Sort>
      <Guid>600a9562-51e1-4e46-bfb1-9e807bd20025</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Signalinformasjon</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>if (Sight == 0) then
	return "(ikke angitt)"
else
	return Sight
end</Data>
      <Title>Siktkrav [m]</Title>
      <Sort/>
      <Guid>d57eb1d7-427b-4a4e-b1fc-1b281c6ff7bd</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Eget spor</Title>
       </Header>
      </Headers>
      <Width>80</Width>
      <Data>RC__toKm(ReferenceMileage,3)</Data>
      <Title>Km i ref.spor</Title>
      <Sort>Ascending</Sort>
      <Guid>330ae8a5-3643-4624-8aba-fcd86e60940e</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Eget spor</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>ReferenceAlignment.code</Data>
      <Title>Referanse- spor</Title>
      <Sort/>
      <Guid>294be7d2-4067-49c5-ada9-c5df1eec6d35</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Eget spor</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>Alignment.code</Data>
      <Title>Eget spor</Title>
      <Sort/>
      <Guid>5ddd8bf2-8dc5-4d1a-92e4-851dd8ee1190</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Plassering</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>
							local dirIsUp = (dir == "up")
							local dirIsDown = (dir = "down")
							--
							if (dirIsUp and RightSided) then
								return "Høyre"
							elseif (dirIsUp and LeftSided) then
								return "Venstre"
							elseif (dirIsDown and RightSided) then 
								return "Venstre"
							elseif (dirIsDown and LeftSided) then
								return "Høyre"
							else
								return "Feil: Ukjent dir ["..dir.."]"
							end
						</Data>
      <Title>Side av spor i kjøre- retningen</Title>
      <Sort/>
      <Guid>aabae339-be76-4cd7-acc2-3e658bd9b637</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Plassering</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>string.format("%4g",math.abs(DistanceToAlignment))</Data>
      <Title>Avstand til eget spors CL [m]</Title>
      <Guid>f8d14542-afa2-4a2b-bc57-ad91df773157</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Plassering</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>
							if (getAlignmentInfo().CurveType == "Straight") then
								return "-"
							else
								return math.floor(getAlignmentInfo().CurveRadius+0.5)
							end
						</Data>
      <Title>Kurveradius [m]</Title>
      <Sort/>
      <Guid>7aa6f1c4-3d65-4dfe-9d4e-2efc53adc742</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Plassering</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>
							if (getAlignmentInfo().CurveType == "Straight") then
								return "Rettspor" 
							elseif (getAlignmentInfo().CurveRotation:upper() == "CCW") then
								return "Venstrekurve" 
							elseif (getAlignmentInfo().CurveRotation:upper() == "CW") then 
								return "Høyrekurve"
								else return "Feil i kurverotasjon ["..tostring(getAlignmentInfo().CurveRotation).."]",_warning
							end
						</Data>
      <Title>Høyre / venstre kurve (Oslo i ryggen)</Title>
      <Sort/>
      <Guid>aca992ac-7a86-4558-80e0-1638c189741f</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Plassering</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>if (getAlignmentInfo().CurveType == "Straight") then
								return "Rettspor"
							else
								if (getAlignmentInfo().CurveRotation:upper() == "CCW") then
									if (LeftSided) then
										return "Innerkurve"
									else	
										return "Ytterkurve"
									end
								else
									if (RightSided) then
										return "Innerkurve"
									else	
										return "Ytterkurve"
									end
								end
							end
						</Data>
      <Title>Innerkurve / ytterkurve</Title>
      <Sort/>
      <Guid>9948125f-4ec5-4e90-901b-2b51c9b577e6</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bygging</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>
							if (getAlignmentInfo().CurveType == "Straight") then
								return 0
							else
								r = getAlignmentInfo().CurveRadius
								if (getAlignmentInfo().CurveRotation:upper() == "CW") then
									--clockwise
									if (RightSided) then
										--Innerkurve
										k = 81000/(2*r)
									else	
										--Ytterkurve
										k = 63000/(2*r)
									end
								else
									--counterclockwise
									if (LeftSided) then
										--Innerkurve
										k = 81000/(2*r)
									else	
										--Ytterkurve
										k = 63000/(2*r)
									end
								end
								return math.floor(k+0.5)
							end
						</Data>
      <Title>Kurveutslag         Ki / Ky [mm]</Title>
      <Sort/>
      <Guid>dd7266c0-bde1-499e-a1bd-4d647ec71144</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Plassering</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>
							oh = math.floor(getAlignmentInfo().Cant + 0.5)
							if (RC__isNan(oh)) then
								return "(mangler overhøyde)"
							else
								return oh
							end
						</Data>
      <Title>Overhøyde [mm]</Title>
      <Sort/>
      <Guid>571d4332-2a54-4b50-b0cf-f6ff489269d7</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bygging</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>oh35 = math.floor(getAlignmentInfo().Cant * (3500/1500) + 0.5)
if (RC__isNan(oh35)) then
	return "(ukjent overhøyde)"
else
	return oh35
end</Data>
      <Title>Overhøyde- utslag i 3.5m høyde [mm]</Title>
      <Sort/>
      <Guid>bd49b1af-86e1-4668-ba19-eda7a0418425</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bygging</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>local k,s,r
if (getAlignmentInfo().CurveType == "Straight") then
	return 0
else
	oh35 = math.floor(getAlignmentInfo().Cant * (3500/1500) + 0.5)
	r = getAlignmentInfo().CurveRadius
	if (getAlignmentInfo().CurveRotation:upper() == "CW") then
		--clockwise
		if (RightSided) then
			--Innerkurve
			k = 81000/(2*r)
			s = 1.0
		else	
			--Ytterkurve
			k = 63000/(2*r)
			s = -1.0
		end
	else
		--counterclockwise
		if (LeftSided) then
			--Innerkurve
			k = 81000/(2*r)
			s = 1.0
		else	
			--Ytterkurve
			k = 63000/(2*r)
			s = -1.0
		end
	end
	if (RC__isNan(oh35)) then
		return "(mangler overhøyde)"
	else
		return math.floor(k + s*oh35 + .5)
	end
end</Data>
      <Title>Utslag mot signalet i 3.5m høyde [mm]</Title>
      <Sort/>
      <Guid>5c223d26-335c-441e-baa7-6999d778782e</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bygging</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>local k,s,r
if (getAlignmentInfo().CurveType == "Straight") then
	return math.abs(DistanceToAlignment)
else
	oh35 = math.floor(getAlignmentInfo().Cant * (3500/1500) + 0.5)
	r = getAlignmentInfo().CurveRadius
	if (getAlignmentInfo().CurveRotation:upper() == "CW") then
		--clockwise
		if (RightSided) then
			--Innerkurve
			k = 81000/(2*r)
			s = 1
		else	
			--Ytterkurve
			k = 63000/(2*r)
			s = -1
		end
	else
		--counterclockwise
		if (LeftSided) then
			--Innerkurve
			k = 81000/(2*r)
			s = 1
		else	
			--Ytterkurve
			k = 63000/(2*r)
			s = -1
		end
	end
	if (RC__isNan(oh35)) then
		return "(mangler overhøyde)"
	else
		return math.abs(math.floor(100*(DistanceToAlignment + (k + s*oh35)/1000) + 0.5)/100)
	end
end</Data>
      <Title>Margin til stikningspunkt [m]</Title>
      <Sort/>
      <Guid>e5f1ad8b-090e-4be7-8dcf-cee6d795ca1c</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bygging</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>local s = ""
local first = true
if (MainSignal ~= "-") then 
	s = MainSignal
	first = false
end 
if (DistantSignal ~= "-") then 
	if (first) then s = "Fs" else s = s.."-Fs" end 
	first = false
end 
if (DwarfSignal ~= "-") then 
	if (first) then s = "Ds" else s = s.."-Ds" end
	first = false
end
if (PositionLamp ~= "-") then
	if (first) then s = "MKs" else s = s.."-MKs" end		
	first = false
end
if (CautiousDrivingSignal ~= "-") then
	if (first) then s = "FKs" else s = s.."-FKs" end		
	first = false
end
if (LineSignal ~= "-") then 
	if (first) then s = "Ls" else s = s.."-Ls" end		
	first = false
end
if (OpticalSpeedSignal ~= "-") then 
	if (first) then s = "Hast" else s = s.."-Hast" end		
	first = false
end 
if (HighShuntingSignal ~= "-") then 
	if (first) then s = "Z" else s = s.."-Z" end		
	first = false
end 
return s</Data>
      <Title>Bestykning</Title>
      <Sort/>
      <Guid>1ebe9384-18d8-407b-8aff-74eca20f9286</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bygging</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>getInvertedBlockImage()</Data>
      <Title>2D symbol</Title>
      <Sort/>
      <Guid>ec4d6960-bb43-4150-9cd4-c873d9080532</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers>
       <Header>
        <Title>Bygging</Title>
       </Header>
      </Headers>
      <Width>60</Width>
      <Data>get3DBlockImage(2)</Data>
      <Title>3D modell</Title>
      <Sort/>
      <Guid>565acdf6-c46b-44bd-bc72-e876121667d1</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>225851ac-3c72-4fb9-880f-9cd04c77bbc8</string>
     <string>0bad5f0f-eb7f-4516-957a-5768e6f4e1c5</string>
     <string>330ae8a5-3643-4624-8aba-fcd86e60940e</string>
     <string>600a9562-51e1-4e46-bfb1-9e807bd20025</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
  <InsertTable VariantName="Signaltabell Hovedsignaler" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-TABLE-Schematic">
   <TableSpecification>
    <Title>Signaltabell Hovedsignaler</Title>
    <IncludeTitle>true</IncludeTitle>
    <EnableLuaFilter>true</EnableLuaFilter>
    <LuaFilter>RcType == "JBTSA_SIG Signal" and MainSignal ~= "-"</LuaFilter>
    <EnableCustomSettings>true</EnableCustomSettings>
    <Font>RC-STANDARD</Font>
    <TitleTextHeight>12</TitleTextHeight>
    <HeaderTextHeight>10</HeaderTextHeight>
    <DataTextHeight>8</DataTextHeight>
    <VerticalCellMargin>1.5</VerticalCellMargin>
    <HorizontalCellMargin>1.5</HorizontalCellMargin>
    <BlockScale>1</BlockScale>
    <EnableWrap>false</EnableWrap>
    <WrapDepth>0</WrapDepth>
    <WrapSpacing>0</WrapSpacing>
    <WrapDirection>Right</WrapDirection>
    <RepeatHeaders>false</RepeatHeaders>
    <TableFormat>Standard</TableFormat>
    <Columns>
     <ColumnSpecification>
      <Headers/>
      <Width>60</Width>
      <Data>Name</Data>
      <Title>Navn</Title>
      <Sort/>
      <Guid>71b321ec-4bc3-493d-974b-2b01236d720c</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>60</Width>
      <Data>RC__toKm(ReferenceMileage,3)</Data>
      <Title>Km (ref)</Title>
      <Sort>Ascending</Sort>
      <Guid>10272f0b-a413-49f6-bd6a-b520ea345d97</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
     <ColumnSpecification>
      <Headers/>
      <Width>60</Width>
      <Data>getInvertedBlockImage()</Data>
      <Title>2D symbol</Title>
      <Sort/>
      <Guid>d762837b-7200-46a2-8e90-ca7b8d257ccb</Guid>
      <Alignment>MiddleCenter</Alignment>
     </ColumnSpecification>
    </Columns>
    <SortOrder>
     <string>10272f0b-a413-49f6-bd6a-b520ea345d97</string>
    </SortOrder>
   </TableSpecification>
  </InsertTable>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETETable" Class="RCTable" Name="FE-DIV ATC kodetabell" Layer="JBTFE_TABELLER" Color="ByLayer" Group="Signal/ATC kodetabeller">
  <RelationSpace>tabell</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>Variant .. " - " .. RC__getUrlFilename()</Formula>
  </LuaExpression>
  <Variants DefaultValue="ATC kodetabell serie/parallellbaliser (Ktab20s)">
   <Variant Name="ATC kodetabell serie/parallellbaliser (Ktab20s)"/>
   <Variant Name="ATC kodetabell GMB-parallellbaliser (KtabGMBf) "/>
   <Variant Name="ETCS balise kodetabell for Østre linje"/>
   <Variant Name="ETCS balise kodetabell for Nasjonal Implementering"/>
  </Variants>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETEXref" Class="RCXRef" Name="XRef" Layer="JBTFE_DIVERSE" Color="ByLayer" Group="Xref"/>
 <ObjectType DataType="tElementWithAlignment" Class="RailwayAlignment" Name="JBTFE_DIV Hjelpelinje" Layer="JBTFE_HJELPELINE" Color="ByLayer" Group="Felles/Hjelpelinjer">
  <RelationSpace>hjelpelinje</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTFE@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTFE@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTFE@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Felles"/>
  <AlignmentSystems DefaultSystemName="Hjelpelinje">
   <AlignmentSystem Name="Hjelpelinje" CantGauge="0.000" AlignmentGauge="0.000" QuickMode3DLiftWithCant="false"/>
  </AlignmentSystems>
  <Variants DefaultValue="Hjelpelinje">
   <Variant Name="Hjelpelinje">
    <SetValue Key="Color" Value="ByLayer"/>
    <SetValue Key="Linetype" Value="RC-DASHED"/>
    <SetValue Key="GlobalWidth" Value="0.50"/>
    <SetValue Key="AlignmentSystem" Value="Hjelpelinje"/>
   </Variant>
  </Variants>
  <PropertyPrompt Key="code" DefaultValue="Hjelpelinje" AcceptEmptyValue="false"/>
  <InsertAlignment VariantName="Hjelpelinje" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-UNSPECIFIED-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
 </ObjectType>
 <ObjectType DataType="eOcp" Class="RailwayArea" Name="JBTFE_DIV OCP område" Layer="JBTFE_OMRÅDER" Color="ByLayer" Group="Områder" Linetype="RC-OCP">
  <RelationSpace>område</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTFE@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTFE@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTFE@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Felles"/>
  <PropertyPrompt Key="code" DefaultValue="" AcceptEmptyValue="false"/>
  <Variants DefaultValue="OCP">
   <Variant Name="OCP"/>
  </Variants>
  <InsertArea DisplayName="OCP" VariantName="OCP" Group="OCP" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-AREA-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertArea>
 </ObjectType>
 <ObjectType DataType="tElementWithIDAndName" Class="RailwayArea" Name="JBTFE_DIV Område" Layer="JBTFE_OMRÅDER" Color="ByLayer" Group="Områder" Linetype="
					{%    if Variant == 'Brukerdefinert' %}RC-Brukerdefinert
					{% elsif Variant == 'Arbeidsområde' %}RC-Arbeidsområde
					{% elsif Variant == 'Lokalområde' %}RC-Lokalområde
					{% elsif Variant == 'Grense for parsell' %}RC-Parsellgrense
					{% elsif Variant == 'Plattform' %}RC-Plattform
					{% elsif Variant == 'Jernbanebro' %}RC-Jernbanebro
					{% elsif Variant == 'Veibro' %}RC-Veibro
					{% elsif Variant == 'Viewport' %}RC-Viewport
					{% elsif Variant == 'Jordingsmaskenett' %}RC-JordingsMaskenett
					{% endif %}">
  <RelationSpace>område</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTFE@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTFE@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTFE@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Felles"/>
  <Variants DefaultValue="Brukerdefinert">
   <Variant Name="Brukerdefinert"/>
   <Variant Name="Arbeidsområde"/>
   <Variant Name="Lokalområde"/>
   <Variant Name="Grense for parsell"/>
   <Variant Name="Plattform"/>
   <Variant Name="Jernbanebro"/>
   <Variant Name="Veibro"/>
   <Variant Name="Viewport"/>
   <Variant Name="Jordingsmaskenett"/>
  </Variants>
  <PropertyPrompt Key="code" DefaultValue="" AcceptEmptyValue="false"/>
  <InsertArea VariantName="Brukerdefinert" Group="Områder" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-AREA-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertArea>
  <InsertArea VariantName="Arbeidsområde" Group="Områder" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-AREA-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertArea>
  <InsertArea VariantName="Lokalområde" Group="Områder" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-AREA-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertArea>
  <InsertArea VariantName="Grense for parsell" Group="Områder" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-AREA-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertArea>
  <InsertArea VariantName="Plattform" Group="Områder" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-AREA-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertArea>
  <InsertArea VariantName="Jernbanebro" Group="Områder" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-AREA-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertArea>
  <InsertArea VariantName="Bro" Group="Områder" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-AREA-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertArea>
  <InsertArea VariantName="Viewport" Group="Områder" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-AREA-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertArea>
  <InsertArea VariantName="JordingsMaskenett" Group="Jording" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-AREA-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertArea>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETEWatch" Class="RailwayPlacedObject" Name="JBTFE_WCH Watch" Layer="JBTFE_WATCH" Color="ByLayer" Group="Felles/Watch" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>watch</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTFE@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTFE@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTFE@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Felles"/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),3)</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Watch">
   <Variant Name="Watch"/>
  </Variants>
  <SetValue Key="name" Value="Watch"/>
  <LuaExpression Name="Text">
   <Formula>_JBTFE_DIV_watch_text()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTFE_DIV_watch_text()" ReturnType="String" HideFromUser="false" Description="Returns a text to be displayed inside the Watch symbol's frame. The text consists of the code from each visible object related with 'Er watch for anything'.">
   <Constructor>String _JBTFE_DIV_watch_text()</Constructor>
   <Formula>
				function _JBTFE_DIV_watch_text()
					local r,n,t,i
					r,n = RC__getCollectionOfRelatedObjects("Er watch for anything")
					if n == 0 then 
						t = "UNFINISHED - Relate with 'Er watch for anything' or edit its formula directly."
					else
						t = r[0].code
						for i = 1, n-1 do
							t = t..", "..r[i].code
						end
					end
					return t
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="SymbolFrame">
   <Formula>"Watch"</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Watch" DisplayBlockName="NO-BN-2D-##RC_JIG-WATCH-JIGSYMBOL-Schematic" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3" SnapSensitivityDistance="6">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTFE_WCH-WATCH-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
   <BlockNameFormat JoinBy="-">NO-BN-2D-JBTFE_WCH-WATCH-{{SymbolMode}}</BlockNameFormat>
   <SymbolAttribute Tag="W">
    <Value>{{Text}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <LuaFunction Name="NOBN_com_getKof05Records()" ReturnType="String" HideFromUser="false" Description="Returns text in KOF file 05 format (Northing, Easting, Elevation). ThemeCode is an optional Norwegian SOSI code. SearchArea is the name of an optional RcArea.">
  <Constructor>String NOBN_com_getKof05Records([int ThemeCode[,string SearchArea]])</Constructor>
  <Formula>
function NOBN_com_getKof05Records(ThemeCode, SearchArea)
	local d, df, n, r, t, s, i, areas 
	if ThemeCode == nil then -- No arguments given, return instructions for use:
		return "Returns text in the Norwegian KOF file 05 format (Northing, Easting, Elevation), for objects with RcType given by\n"
		    .."the first object that this KOF watch is related to, using the 'Er watch for anything' watch relation. Specify the\n"
			.."desired theme code as the first argument to this function. The theme code denotes the 4-digit SOSI survey object\n"
			.."type, to be printed along with the KOF records. If an optional search area name has been given, then the object\n"
			.."search will be restricted to that area. Note: Only visible objects are considered.",_warning
	end
	if SearchArea == nil then 
		SearchArea = "" -- Don't care
	end
	if SearchArea == "" then 
		d = DocumentData.ObjectCollection
	else
		areas = DocumentData.ObjectCollection:filter(function (x) return x.RcType:lower():match("område") and x:isVisible() end)
		areas = areas:filter(function (x) return x.code == SearchArea end)
		if getCollectionLength(areas) == 0 then 
			return "No search area was found with code '"..SearchArea.."'.",_warning
		else
			d = DocumentData.ObjectCollection:filter(function (x) return x.RcArea.code == areas[0].code end)
		end
	end
	r = Relations["Er watch for anything"]
	if (getCollectionLength(r) == 0) then
		return "Please relate KOF watch object to any object of the desired RcType, using the 'Er watch for anything' relation.",_warning
	end
	t = r[0].RcType
	df = d:filter(function (x) return (x.RcType == t) end)
	n = getCollectionLength(df)
	if n == 0 then 
		if SearchArea ~= "" then
			return "No objects found in area '"..SearchArea.."' of type '"..t.."'.",_warning
		else
			return "No objects found of type '"..t.."'.",_warning
		end
	else
		--Make formatted string in KOF (Norway) format: "05 = KOORDINATBLOKK"
		--
		--Type            Point name     Pos    Beskrivelse
		-- -------------- -------------- ------ -----------
		--Linjestatus     ” ” eller ”-”  1      Angir om dataene i linja skal leses (” ”) eller ignoreres (”-”).
		--Datablokk type  05             2..3   Datablokk type, der 05 = koordinatblokk. Må ikke endres
		--Punktnavn       PPPPPPPPPP     5..14  Navn på målepunkt. Punktnavnet kan bestå av både tall og
	    --                                      bokstaver og påvirker ikke sorteringsrekkefølgen i netLIN 3.
		--Temakode        KKKKKKKK       16..23 Temakode/SOSI-kode. Kan endres, se tabeller nedenfor.
		--                                      Viktig: For horisontale retningsendringer langs traseen
		--                                      (horisontalvinkler) i må ”HV” legges inn som temakode.
		--X-koordinat     XXXXXXXX.XXX   25..36 North-koordinat.
		--Y-koordinat     YYYYYYY.YYY    38..48 East-koordinat.
		--Høyde           ZZZZ.ZZZ       50..57 Ortometrisk høyde.
		--Beregningskode  Bk             59     Brukes ikke av RailCOMPLETE
		--Kommentar                      61..79 Brukes ikke av RailCOMPLETE
		-- Alfanumeriske felt VENSTRE-justeres, numeriske felt HØYREjusteres. Rader har maks 80 tegn.
		--
		s = "-KOF file for "..n.." objects found with RcType matching '"..t.."'\n"
		s = s.."-Type Obj.name Theme NNNNNNNN.NNN EEEEEEE.EEE HHHH.HHH (Northing, Easting, Height)\n"
		for i = 1, n do 
			local c = df[i-1].geoCoord
			s = s..string.format(" 05 %10d %8d %12.3f %11.3f %8.3f\n",i,ThemeCode,c.Y,c.X,c.Z)
		end
		return s
	end
end
       </Formula>
 </LuaFunction>
 <ObjectType DataType="RailCOMPLETEWatch" Class="RailwayPlacedObject" Name="JBTFE_DIV KOF-format koordinatliste" Layer="JBTFE_WATCH" Color="ByLayer" Group="Felles/Watch" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>watch</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTFE@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTFE@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTFE@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Felles"/>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),3)</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" Name="KofSearchArea" DisplayName="KOF_område" DefaultValue="" Description="The 'KofSearchArea' custom attribute is void or should be assigned a valid name for an existing RcArea object. If non-empty, then only objects within this area are considered."/>
  <CustomAttribute DataType="UInt16" Name="KofThemeCode" DisplayName="KOF_sosikode" DefaultValue="7871" Description="The 'KofThemeCode' custom attribute [UInt16] should hold a 3- or 4-digit SOSI cartographic object nomenclature code according to Norwegian standard."/>
  <Variants DefaultValue="KOF Koordinatliste">
   <Variant Name="KOF Koordinatliste">
    <SetValue Key="name" Value=""/>
    <SetValue Key="Text" Value="KOF Koordinatliste"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="KOF Koordinatliste" DisplayBlockName="NO-BN-2D-##RC_JIG-WATCH-JIGSYMBOL-Schematic">
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="SymbolFrame" Value="Watch"/>
  </InsertPointObject>
  <LuaExpression Name="Text">
   <Formula>NOBN_com_getKof05Records(KofThemeCode,KofSearchArea)</Formula>
  </LuaExpression>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTFE_WCH-WATCH-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
   <BlockNameFormat JoinBy="-">NO-BN-2D-JBTFE_WCH-WATCH-{{SymbolMode}}</BlockNameFormat>
   <SymbolAttribute Tag="W">
    <Value>{{Text}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tMarker" Class="RailwayPlacedObject" Name="JBTFE_DIV Markør" Layer="JBTFE_MARKØRER" Color="ByLayer" Group="Felles/Markører" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>markør</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTFE@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTFE@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTFE@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Felles"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>NOBN_trk_getDistanceToAlignmentFromCantAndTrackPlaneDistance(RightSided and 4e-4 or -4e-4)</Formula>
  </LuaExpression>
  <Variants DefaultValue="Knappenål">
   <Variant Name="Knappenål"/>
   <Variant Name="Posisjonsmarkering">
    <SetValue Key="Annotations3D" Value='
					&lt;?xml version="1.0" encoding="utf-8"?&gt;
					&lt;ArrayOfPlacedElementCadAnnotation 
						xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
						xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" &gt;  

						&lt;PlacedElementCadAnnotation 
								Tag="3D spornavn" 
								Invisible="false" 
								Oblique="0" 
								WidthFactor="1" 
								TextHeight="0.15"&gt;
							&lt;Formula&gt;Alignment.name&lt;/Formula&gt;       
							&lt;Offset X="-0.75" Y="0.00" Z="1.00" /&gt;       
							&lt;Rotation X="90" Y="0" Z="0" /&gt;    
						&lt;/PlacedElementCadAnnotation&gt;  

						&lt;PlacedElementCadAnnotation 
								Tag="3D Km" 
								Invisible="false" 
								Oblique="0" 
								WidthFactor="1" 
								TextHeight="0.25"&gt;
							&lt;Formula&gt;ReferenceMileage&lt;/Formula&gt;       
							&lt;Offset X="-0.75" Y="0.00" Z="0.50" /&gt;       
							&lt;Rotation X="90" Y="0" Z="0" /&gt;    
						&lt;/PlacedElementCadAnnotation&gt;  

					&lt;/ArrayOfPlacedElementCadAnnotation&gt;'/>
    <SetValue Key="Farge" Value="Gul"/>
   </Variant>
  </Variants>
  <CustomAttribute DataType="Enumeration" Name="markerColor" DisplayName="Farge" DefaultValue="Rød" Description="The 'markerColor' custom enum property [Rød | Gul | Grønn | Blå] holds the marker's color.">
   <Values Variant="Knappenål">
    <Value>Rød</Value>
    <Value>Gul</Value>
    <Value>Grønn</Value>
    <Value>Blå</Value>
   </Values>
   <Values Variant="Posisjonsmarkering">
    <Value>Gul</Value>
   </Values>
  </CustomAttribute>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTFE_DIV_marker_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTFE_DIV_marker_Model3DName()" ReturnType="String" Description="Obtains the marker's 3D model name.">
   <Constructor>String _JBTFE_DIV_marker_Model3DName()</Constructor>
   <Formula>
				function _JBTFE_DIV_marker_Model3DName()
					if (Variant == "Posisjonsmarkering") then
						return "NO-BN-3D-FE-DIV-POSISJONSMARKERING" 
					elseif (Variant == "Knappenål") then
						return "NO-BN-3D-FE-DIV-MARKØR-KNAPPENÅL-"..markerColor:upper()
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>_JBTFE_DIV_marker_name()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTFE_DIV_marker_name()" ReturnType="String" Description="Obtains marker's name, a list of 'code' for all objects related to this marker with 'Er markør for anything'.">
   <Constructor>String _JBTFE_DIV_marker_name([RailwayPlacedObject obj])</Constructor>
   <Formula>
				function _JBTFE_DIV_marker_name(obj)
					if obj == nil then obj = this end
					local RelationName = "Er markør for anything"
					local r,n = RC__getCollectionOfRelatedObjects(RelationName)
					if n == 0 then 
						return "UNFINISHED - Relate with '"..RelationName.."'."
					else
						local s,i
						s = "("..r[0].code
						for i = 1, n-1 do
							s = s..", "..r[i].code
						end
						return s..")"
					end
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Knappenål" DisplayBlockName="NO-BN-2D-JBTFE_MRK-MARKOER-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0" SnapSensitivityDistance="3">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Posisjonsmarkering" DisplayBlockName="NO-BN-2D-JBTFE_MRK-MARKOER-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0" SnapSensitivityDistance="3">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTFE_MRK-MARKOER-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="true"/>
   <BlockNameFormat JoinBy="-">NO-BN-2D-JBTFE_MRK-MARKOER-{{SymbolMode}}</BlockNameFormat>
   <SymbolAttribute Tag="FARGE">
    <Value>{{markerColor}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tCrossSection" Class="RailwayPlacedObject" Name="JBTFE_DIV Cross section" Layer="JBTFE_DIVERSE" Color="ByLayer" Group="Felles/Diverse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>cross_section</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTFE@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTFE@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTFE@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Felles"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),3)</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Cross section" DisplayBlockName="NO-BN-2D-JBTFE_MRK-MARKOER-{{SymbolMode}}">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Model3DName" Value="NO-BN-3D-FE-MARKØR-KNAPPENÅL-RØD"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTFE_MRK-MARKOER-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="true"/>
   <BlockNameFormat JoinBy="-">NO-BN-2D-JBTFE_MRK-MARKOER-{{SymbolMode}}</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETESection" Class="RailwayPlacedObject" Name="JBTFE_DIV Sporbruk" Layer="JBTFE_SPORBRUK" Color="ByLayer" Group="Felles/Sporbruk" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>sporbruk</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTFE@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTFE@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTFE@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Felles"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),3)</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Hovedspor">
   <Variant Name="Hovedspor"/>
   <Variant Name="Togspor"/>
   <Variant Name="Hensettingsspor"/>
   <Variant Name="Skiftespor"/>
   <Variant Name="Sidespor"/>
   <Variant Name="Buttspor"/>
   <Variant Name="Uttrekksspor"/>
   <Variant Name="Usikret område"/>
  </Variants>
  <LuaExpression Name="code">
   <Formula>_JBTFE_DIV_sporbruk_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTFE_DIV_sporbruk_code()" ReturnType="String" Description="Obtains the code for the track usage (Sporbruk) object [String].">
   <Constructor>String _JBTFE_DIV_sporbruk_code()</Constructor>
   <Formula>
				function _JBTFE_DIV_sporbruk_code()
					if Variant == "Hovedspor" then return "Hv"
					elseif Variant == "Togspor" then return "Tg"
					elseif Variant == "Hensettingsspor" then return "He"
					elseif Variant == "Skiftespor" then return "Sk"
					elseif Variant == "Sidespor" then return "Si"
					elseif Variant == "Buttspor" then return "Bu"
					elseif Variant == "Uttrekksspor" then return "Ut"
					elseif Variant == "Usikret område" then return "Us"
					else return "Unrecognized variant ["..Variant.."].",_error
					end
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Hovedspor" DisplayName="Sporbruk" DisplayBlockName="NO-BN-2D-##RC-JIG-SEKSJONS-JIGSYMBOL-{{SymbolMode}}">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="SymbolFrame" Value="SectionFrame-2.75"/>
   <SetValue Key="DelimiterType" Value="JBTFE_DIV Sporbrukgrense"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC-JIG-SEKSJONS-JIGSYMBOL-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
   <BlockNameFormat JoinBy="-">NO-BN-2D-##RC-JIG-SEKSJONS-JIGSYMBOL-{{SymbolMode}}</BlockNameFormat>
   <SymbolAttribute Tag="X">
    <Value>{{Variant}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tDelimitedOrientedElement" Class="RailwayPlacedObject" Name="JBTFE_DIV Sporbrukgrense" Layer="JBTFE_SPORBRUKGRENSE" Color="ByLayer" Group="Felles/Sporbruk" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>sporbrukgrense</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTFE@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTFE@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTFE@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Felles"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RightSided and 4e-4 or -4e-4</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>_JBTFE_DIV_sporbrukgrense_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTFE_DIV_sporbrukgrense_code()" ReturnType="String" Description="Obtains the name of a track usage delimiter element, inherited from the two surrounding track usage section elements.">
   <Constructor>String _JBTFE_DIV_sporbrukgrense_code()</Constructor>
   <Formula>
				function _JBTFE_DIV_sporbrukgrense_code()
					first = DownSections.Count == 0  and "-" or DownSections[0].Code
					second = UpSections.Count == 0  and "-" or UpSections[0].Code
					if (MileageIncreasesTowardsLeft == 'True') then	first,second = second,first end
					return "(" .. first .. "/" .. second .. ")"
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="ObjectInfo">
   <Formula>_JBTFE_DIV_sporbrukgrense_objectInfo()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTFE_DIV_sporbrukgrense_objectInfo()" ReturnType="String" Description="Obtains the 'ObjectInfo' text for the track usage delimiter element.">
   <Constructor>String _JBTFE_DIV_sporbrukgrense_objectInfo()</Constructor>
   <Formula>
				function _JBTFE_DIV_sporbrukgrense_objectInfo()
					first = DownSections.Count == 0  and "-" or DownSections[0].Variant
					second = UpSections.Count == 0  and "-" or UpSections[0].Variant
					if (MileageIncreasesTowardsLeft == 'True') then	first,second = second,first end
					return "Sporbruk: " .. first .. "/" .. second
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Sporbrukgrense" DisplayBlockName="NO-BN-2D-JBTFE_MRK_MARKOER-{{SymbolMode}}" SnapToAlignment="true" SnapDistance="0.0">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTFE_MRK_MARKOER-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
   <BlockNameFormat JoinBy="-">NO-BN-2D-JBTFE_MRK_MARKOER-{{SymbolMode}}</BlockNameFormat>
   <SymbolAttribute Tag="FARGE">
    <Value>{{code}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETECloneObject" Class="CloneRailwayObject" Name="CloneObject" DisplayName="Clone object"/>
 <ObjectType DataType="tElementWithAlignment" Class="RailwayAlignment" Name="JBTKU_KFØ Kabelkanal" Layer="JBTKU_KFØ_KABELKANAL" Color="ByLayer" Group="Underbygning/Føringsveier">
  <RelationSpace>kabelføring</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTKU@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTKU@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTKU@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Underbygning"/>
  <AlignmentSystems DefaultSystemName="Kabelføring">
   <AlignmentSystem Name="Kabelføring" CantGauge="0.000" AlignmentGauge="0.000" QuickMode3DLiftWithCant="false"/>
  </AlignmentSystems>
  <Variants DefaultValue="Kabelkanal, betong, 1-løps, 30 cm">
   <Variant Name="Kabelkanal, betong, 1-løps, 30 cm"/>
   <Variant Name="Kabelkanal, betong, 1-løps, 40 cm"/>
   <Variant Name="Kabelkanal, betong, 2-løps, 60 cm"/>
   <Variant Name="Kabelkanal, betong, 3-løps, 60 cm"/>
  </Variants>
  <LuaExpression Name="name">
   <Formula>code.." ("..Variant..")"</Formula>
  </LuaExpression>
  <SetValue Key="Sweep3D" Value="True"/>
  <SetValue Key="QuickMode3D" Value="True"/>
  <LuaFunction Name="_JBTKU_KFOE_Duct_getStartEndAndJump" ReturnType="AlignmentInfo,AlignmentInfo,Double" HideFromUser="false" Description="Sampled formula. Returns alignmentInfo structs for one duct element's start and end, plus the jump length from start to end along the duct's alignment. Must be called with '_position' as input argument (_position.ref = alignment GUID, _position.pos = distAlong).">
   <Constructor>AlignmentInfo,AlignmentInfo,Double _JBTKU_KFOE_Duct_getStartEndAndJump(_position)</Constructor>
   <Formula>
				function _JBTKU_KFOE_Duct_getStartEndAndJump(_position)
					--Interpret 'Cant' stored in duct's alignment as extra offset (usually the lift of the closest rail) [mm]:
					local id,pos,len2d,offset,s,e,a,b
					id = _position.ref.id
					pos = _position.pos
					len2d = getObjectFromId(id).RcAlignment.HorizontalProfile.Length
					offset = 0.499 * Model3DSeparation --pick samples at +/- offset from object's insertion point
					if pos &lt; offset then
						a = 0
						b = pos + offset
					elseif pos &gt; len2d - offset then 
						a = pos - offset
						b = len2d
					else 
						a = pos - offset
						b = pos + offset
					end
					s = getAlignmentInfo(getAlignmentPos(id,a))
					e = getAlignmentInfo(getAlignmentPos(id,b))
					return s,e,b-a
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Offset3D.X">
   <Formula>sweep3D and 0 or _JBTKU_KFOE_Duct_Offset3dX(_position)</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_Duct_Offset3dX" ReturnType="Double" HideFromUser="false" Description="Sampled formula. Returns sideways offset for cable duct element (midway betwen end points on alignment). Must be called with '_position' as input argument (_position.ref = alignment GUID, _position.pos = distAlong).">
   <Constructor>Double _JBTKU_KFOE_Duct_Offset3dX(_position)</Constructor>
   <Formula>
				function _JBTKU_KFOE_Duct_Offset3dX(_position)
					local s,e,m
					s,e = _JBTKU_KFOE_Duct_getStartEndAndJump(_position)
					m = getAlignmentInfo(_position.ref.id,(s.Point.X + e.Point.X)/2,(s.Point.Y + e.Point.Y)/2)
					return m.DistanceToAlignment
				end	
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Offset3D.Z">
   <Formula>_JBTKU_KFOE_Duct_Offset3dZ(_position)</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_Duct_Offset3dZ" ReturnType="Double" HideFromUser="false" Description="Sampled formula. Returns an extra elevation for the cable duct element, as stored in millimeter as Cant data. Copy cant data from closest track's relevant cant using Alignment Manager datagrid/Cant. Must be called with '_position' as input argument (_position.ref = alignment GUID, _position.pos = distAlong).">
   <Constructor>Double _JBTKU_KFOE_Duct_Offset3dZ(_position)</Constructor>
   <Formula>
				function _TFGC_CCC_Offset3dZ(_position)
					startAi,endAi,jumpDist = _TFGC_CCC_getStartEndAndJump(_position)
					mid = getAlignmentInfo(_position)
					startElevation = startAi.Elevation
					endElevation = endAi.Elevation
					startCant = RC__isNan(startAi.Cant) and 0 or startAi.Cant
					endCant = RC__isNan(endAi.Cant) and 0 or endAi.Cant
					if true then return {mid.Point.X, mid.Point.Y,mid.Point.Z}, startAi.Elevation, endElevation, startCant,endCant end
					return (startElevation + endElevation)/2 + (startCant/1000 + endCant/1000)/2 - mid.Point.Z
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Rotation3D.X">
   <Formula>_JBTKU_KFOE_Duct_Rotation3dX(_position)</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_Duct_Rotation3dX" ReturnType="Double" HideFromUser="false" Description="Sampled formula. Returns the pitch [Decimal Degrees] for the cable duct element, adding the effects of general vertical profile and the additional duct elevation stored as alignment 'cant'. Must be called with '_position' as input argument (_position.ref = alignment GUID, _position.pos = distAlong).">
   <Constructor>Double _JBTKU_KFOE_Duct_Rotation3dX(_position)</Constructor>
   <Formula>
				function _JBTKU_KFOE_Duct_Rotation3dX(_position)
					local s,e,m
					local jump
					s,e,jump = _JBTKU_KFOE_Duct_getStartEndAndJump(_position)
					sc = RC__isNan(s.Cant) and 0 or s.Cant
					ec = RC__isNan(e.Cant) and 0 or e.Cant
					return math.deg( math.atan((e.Elevation-s.Elevation) + (ec/1000-sc/1000), jump) )
				end	
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>_JBTKU_KFOE_Duct_Rotation3dZ(_position)</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_Duct_Rotation3dZ" ReturnType="Double" HideFromUser="false" Description="Sampled formula. Returns the yaw [Decimal Degrees] for the cable duct element. Must be called with '_position' as input argument (_position.ref = alignment GUID, _position.pos = distAlong).">
   <Constructor>Double _JBTKU_KFOE_Duct_Rotation3dZ(_position)</Constructor>
   <Formula>
				function _JBTKU_KFOE_Duct_Rotation3dZ(_position)
					local s,e,m
					s,e = _JBTKU_KFOE_Duct_getStartEndAndJump(_position)
					m = getAlignmentInfo(_position)
					return math.deg( (math.atan(e.Point.Y-s.Point.Y,e.Point.X-s.Point.X) - math.atan(m.Tangent.Y,m.Tangent.X)) )
				end	
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Linetype">
   <Formula>_JBTKU_KFOE_Duct_Linetype()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_Duct_Linetype" ReturnType="String" HideFromUser="false" Description="Returns the CAD system 2D presentation line type for the cable duct, based on its Variant.">
   <Constructor>String _JBTKU_KFOE_Duct_Linetype()</Constructor>
   <Formula>
				function _JBTKU_KFOE_Duct_Linetype()
					if Variant:lower():match("1%-løps") then return "RC-DASHED-01"
					elseif Variant:lower():match("2%-løps") then return "RC-DASHED-02"
					elseif Variant:lower():match("3%-løps") then return "RC-DASHED-03"
					else return "Continuous",_info("Variant ["..Variant.."] has not been anticipated yet.")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="GlobalWidth">
   <Formula>_JBTKU_KFOE_Duct_GlobalWidth()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_Duct_GlobalWidth" ReturnType="Double" HideFromUser="false" Description="Returns the global width of the cable duct's 2D representation as a wide polyline.">
   <Constructor>Double _JBTKU_KFOE_Duct_GlobalWidth()</Constructor>
   <Formula>
				function _JBTKU_KFOE_Duct_GlobalWidth()
					if Variant:lower():match("1%-løps, 30 cm") then return 0.30
					elseif Variant:lower():match("1%-løps, 40 cm") then return 0.40
					elseif Variant:lower():match("2%-løps, 60 cm") then return 0.62
					elseif Variant:lower():match("3%-løps, 60 cm") then return 0.62
					else return 0,_info("Variant ["..Variant.."] has not been anticipated yet.")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTKU_KFOE_Duct_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_Duct_Model3DName()" ReturnType="String" HideFromUser="false" Description="Returns the cable duct default 3D object model name.">
   <Constructor>String _JBTKU_KFOE_Duct_Model3DName()</Constructor>
   <Formula>
				function _JBTKU_KFOE_Duct_Model3DName()
					t = Sweep3D and "NO-BN-SWEEP-KU-KFØ-KABELKANAL-" or "NO-BN-3D-KU-KFØ-KABELKANAL-"
					if Variant == "Kabelkanal, betong, 1-løps, 30 cm" then return t.."300x1000-1-LØPS-MED-50-50-LOKK"
					elseif Variant == "Kabelkanal, betong, 1-løps, 40 cm" then return t.."400x1000-1-LØPS-MED-50-50-LOKK"
					elseif Variant == "Kabelkanal, betong, 2-løps, 60 cm" then return t.."620x2400-2-LØPS-MED-70-70-LOKK"
					elseif Variant == "Kabelkanal, betong, 3-løps, 60 cm" then return t.."620x2400-3-LØPS-MED-70-70-LOKK"
					else 
						return "",_info("Variant ["..Variant.."] has not been anticipated yet.")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DSeparation">
   <Formula>Sweep3D and RC__getNearest3DStep(1.0) or _JBTKU_KFOE_duct_Model3DSeparation(_position)</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_duct_Model3DSeparation()" ReturnType="Double" HideFromUser="false" Description="Returns the distance to the next 3D model insertion point along the alignment axis during 3D Preview or 3D Export. Must be called with '_position' as input argument (_position.ref = alignment GUID, _position.pos = distAlong).">
   <Constructor>Double _JBTKU_KFOE_duct_Model3DSeparation(Double _position)</Constructor>
   <Formula>
				function _JBTKU_KFOE_duct_Model3DSeparation(pos)
					-- TODO: A more elaborate function would rely on the actual size for each inserted 3D Model, which may vary as a sampled function along the alignment.
					-- This simple formula assumes that the Model3D is constant along the alignment, decided by the Variant (which applies to the whole alignment's length)
					-- TODO: Implement 'SweepMode3D' which interprets the given 3D Model Name as a 2D section to be sweeped (or twisted, if Cant info is provided).
					if Variant == "Kabelkanal, betong, 1-løps, 30 cm" then 
						f = 2400/1000
						b = 0.3
					elseif Variant == "Kabelkanal, betong, 1-løps, 40 cm" then 
						f = 2400/1000
						b = 0.4
					elseif Variant == "Kabelkanal, betong, 2-løps, 60 cm" then 
						f = 1
						b = 0.6
					elseif Variant == "Kabelkanal, betong, 3-løps, 60 cm" then 
						f = 1
						b = 0.6
					else 
						return 3.1416,_info("Variant ["..Variant.."] has not been anticipated yet - so we assume 3.1416m 3D Model Separation...")
					end
					r = getAlignmentInfo(pos).CurveRadius
					-- Empirical formula, to allow a small separation between concrete elements in the "outer curve", but assuming that it will be cut in the "inner curve".
					if r == nil or r &gt; 100 then 
						return 2.4 / f + .005
					elseif r &lt; (0.8 / b) then 
						return (2.4 - b) / f
					else 
						return (2.4 - 0.8/r) / f + .005
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DOffset">
   <Formula>Sweep3D and 0 or RC__round(_JBTKU_KFOE_duct_Model3DSeparation()/2, 1)</Formula>
  </LuaExpression>
  <PropertyPrompt Key="code" DefaultValue="Kabelkanal" AcceptEmptyValue="false"/>
  <InsertAlignment VariantName="Kabelkanal, betong, 1-løps, 30 cm" SubGroup="Kabelkanaler" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-KABELKANAL-1-LOEPS-300-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kabelkanal, betong, 1-løps, 40 cm" SubGroup="Kabelkanaler" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-KABELKANAL-1-LOEPS-400-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kabelkanal, betong, 2-løps, 60 cm" SubGroup="Kabelkanaler" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-KABELKANAL-2-LOEPS-620-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kabelkanal, betong, 3-løps, 60 cm" SubGroup="Kabelkanaler" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-KABELKANAL-3-LOEPS-620-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
 </ObjectType>
 <ObjectType DataType="tElementWithAlignment" Class="RailwayAlignment" Name="JBTKU_KFØ Rørpakke" Layer="JBTKU_KFØ_RØRPAKKE" Color="ByLayer" Group="Underbygning/Føringsveier">
  <RelationSpace>rørpakke</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTKU@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTKU@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTKU@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Underbygning"/>
  <AlignmentSystems DefaultSystemName="Kabelføring">
   <AlignmentSystem Name="Kabelføring" CantGauge="0.000" AlignmentGauge="0.000" QuickMode3DLiftWithCant="false"/>
  </AlignmentSystems>
  <Variants DefaultValue="Rørpakke, omstøpt, 1x4xØ110">
   <Variant Name="Rørpakke, omstøpt, 1x2xØ110"/>
   <Variant Name="Rørpakke, omstøpt, 2x2xØ110"/>
   <Variant Name="Rørpakke, omstøpt, 3x2xØ110"/>
   <Variant Name="Rørpakke, omstøpt, 4x2xØ110"/>
   <Variant Name="Rørpakke, omstøpt, 1x3xØ110"/>
   <Variant Name="Rørpakke, omstøpt, 2x3xØ110"/>
   <Variant Name="Rørpakke, omstøpt, 3x3xØ110"/>
   <Variant Name="Rørpakke, omstøpt, 4x3xØ110"/>
   <Variant Name="Rørpakke, omstøpt, 1x4xØ110"/>
   <Variant Name="Rørpakke, omstøpt, 2x4xØ110"/>
   <Variant Name="Rørpakke, omstøpt, 3x4xØ110"/>
   <Variant Name="Rørpakke, omstøpt, 4x4xØ110"/>
   <Variant Name="Rørpakke, omstøpt, 3x(3xØ110-Ø160),(3xØ110)"/>
  </Variants>
  <SetValue Key="Sweep3D" Value="True"/>
  <SetValue Key="QuickMode3D" Value="True"/>
  <LuaExpression Name="name">
   <Formula>code.." ("..Variant..")"</Formula>
  </LuaExpression>
  <LuaExpression Name="Linetype">
   <Formula>_JBTKU_KFOE_Package_Linetype()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_Package_Linetype" ReturnType="String" HideFromUser="false" Description="Returns the CAD system 2D presentation line type for the cable tube package, based on its Variant.">
   <Constructor>String _JBTKU_KFOE_Package_Linetype()</Constructor>
   <Formula>
				function _JBTKU_KFOE_Package_Linetype()
					return "Continuous"
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="GlobalWidth">
   <Formula>_JBTKU_KFOE_Package_GlobalWidth()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_Package_GlobalWidth" ReturnType="Double" HideFromUser="false" Description="Returns the global width of the cable tube package's 2D representation as a wide polyline.">
   <Constructor>Double _JBTKU_KFOE_Package_GlobalWidth()</Constructor>
   <Formula>
				function _JBTKU_KFOE_Package_GlobalWidth()
					    if Variant == "Rørpakke, omstøpt, 1x2xØ110" then return 0.310
					elseif Variant == "Rørpakke, omstøpt, 2x2xØ110" then return 0.310
					elseif Variant == "Rørpakke, omstøpt, 3x2xØ110" then return 0.310
					elseif Variant == "Rørpakke, omstøpt, 4x2xØ110" then return 0.310
					elseif Variant == "Rørpakke, omstøpt, 1x3xØ110" then return 0.450
					elseif Variant == "Rørpakke, omstøpt, 2x3xØ110" then return 0.450
					elseif Variant == "Rørpakke, omstøpt, 3x3xØ110" then return 0.450
					elseif Variant == "Rørpakke, omstøpt, 4x3xØ110" then return 0.450
					elseif Variant == "Rørpakke, omstøpt, 1x4xØ110" then return 0.590
					elseif Variant == "Rørpakke, omstøpt, 2x4xØ110" then return 0.590
					elseif Variant == "Rørpakke, omstøpt, 3x4xØ110" then return 0.590
					elseif Variant == "Rørpakke, omstøpt, 4x4xØ110" then return 0.590
					elseif Variant == "Rørpakke, omstøpt, 3x(3xØ110-Ø160),(3xØ110)" then return 0.640
					else 
						return 0,"Unrecognized variant ["..Variant.."]."
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTKU_KFOE_Package_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_Package_Model3DName()" ReturnType="String" HideFromUser="false" Description="Returns the tube package default 3D object model name.">
   <Constructor>Double _JBTKU_KFOE_Package_Model3DName()</Constructor>
   <Formula>
				function _JBTKU_KFOE_Package_Model3DName()
					    if Variant == "Rørpakke, omstøpt, 1x2xØ110" then return "NO-BN-SWEEP-KU-KFØ-OMSTØPT-RØRPAKKE-(1x(G110-G110))"
					elseif Variant == "Rørpakke, omstøpt, 2x2xØ110" then return "NO-BN-SWEEP-KU-KFØ-OMSTØPT-RØRPAKKE-(2x(G110-G110))"
					elseif Variant == "Rørpakke, omstøpt, 3x2xØ110" then return "NO-BN-SWEEP-KU-KFØ-OMSTØPT-RØRPAKKE-(3x(G110-G110))"
					elseif Variant == "Rørpakke, omstøpt, 4x2xØ110" then return "NO-BN-SWEEP-KU-KFØ-OMSTØPT-RØRPAKKE-(4x(G110-G110))"
					elseif Variant == "Rørpakke, omstøpt, 1x3xØ110" then return "NO-BN-SWEEP-KU-KFØ-OMSTØPT-RØRPAKKE-(1x(B110-G110-R110))"
					elseif Variant == "Rørpakke, omstøpt, 2x3xØ110" then return "NO-BN-SWEEP-KU-KFØ-OMSTØPT-RØRPAKKE-(2x(B110-G110-R110))"
					elseif Variant == "Rørpakke, omstøpt, 3x3xØ110" then return "NO-BN-SWEEP-KU-KFØ-OMSTØPT-RØRPAKKE-(3x(B110-G110-R110))"
					elseif Variant == "Rørpakke, omstøpt, 4x3xØ110" then return "NO-BN-SWEEP-KU-KFØ-OMSTØPT-RØRPAKKE-(4x(B110-G110-R110))"
					elseif Variant == "Rørpakke, omstøpt, 1x4xØ110" then return "NO-BN-SWEEP-KU-KFØ-OMSTØPT-RØRPAKKE-(1x(Y110- B110-G110-R110))"
					elseif Variant == "Rørpakke, omstøpt, 2x4xØ110" then return "NO-BN-SWEEP-KU-KFØ-OMSTØPT-RØRPAKKE-(2x(Y110- B110-G110-R110))"
					elseif Variant == "Rørpakke, omstøpt, 3x4xØ110" then return "NO-BN-SWEEP-KU-KFØ-OMSTØPT-RØRPAKKE-(3x(Y110- B110-G110-R110))"
					elseif Variant == "Rørpakke, omstøpt, 4x4xØ110" then return "NO-BN-SWEEP-KU-KFØ-OMSTØPT-RØRPAKKE-(4x(Y110- B110-G110-R110))"
					elseif Variant == "Rørpakke, omstøpt, 3x(3xØ110-Ø160),(3xØ110)" then 
						return "NO-BN-SWEEP-KU-KFØ-OMSTØPT-RØRPAKKE-(3x(B110-Y110-R110-G160)-(B110-Y110-R110))"
					else 
						return "???","Unrecognized variant ["..Variant.."]."
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DSeparation">
   <Formula>RC__getNearest3DStep(0.25)</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DOffset">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>_JBTKU_KFOE_Package_Offset3dZ(_position)</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_Package_Offset3dZ()" ReturnType="String" HideFromUser="false" Description="Returns the tube package default elevation, interpolated linearly from the nearest manhole (or track) close to each end. Must be called with '_position' as input argument (_position.ref = alignment GUID, _position.pos = distAlong).">
   <Constructor>Double _JBTKU_KFOE_Package_Offset3dZ(_position)</Constructor>
   <Formula>
				function _JBTKU_KFOE_Package_Offset3dZ(_position)
					--Draw concrete encased tubes in a straight line from one end to the other
					zOffsetFromManhole = 0.900 --[m]
					p1 = RcAlignment.StartPoint
					p2 = RcAlignment.EndPoint
					m1 = getNearbyPointObjects2D(p1, 2.5, "JBTKU_KFØ Trekkekum")
					m2 = getNearbyPointObjects2D(p2, 2.5, "JBTKU_KFØ Trekkekum")
					n1 = getCollectionLength(m1)
					n2 = getCollectionLength(m2) 
					if n1 + n2 == 0 then
						return 0,_info("No nearby manholes found [&lt;= 2.5m] - cannot deduce a reasonable depth for encased tubes")
					elseif n1 == 0 then
						z2 = m2[0].geoCoord.Z
						z1 = z2
					elseif n2 == 0 then
						z1 = m1[0].geoCoord.Z
						z2 = z1	
					else
						z1 = m1[0].geoCoord.Z
						z2 = m2[0].geoCoord.Z
					end
					p = _position.pos
					L = RcAlignment.HorizontalProfile.Length
					Z = ((z2-z1)/L)*p + z1 - zOffsetFromManhole
					return  Z
				end
			</Formula>
  </LuaFunction>
  <PropertyPrompt Key="code" DefaultValue="Omstøpt rørpakke" AcceptEmptyValue="false"/>
  <InsertAlignment VariantName="Rørpakke, omstøpt, 1x2xØ110" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-OMSTOEPTE-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Rørpakke, omstøpt, 2x2xØ110" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-OMSTOEPTE-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Rørpakke, omstøpt, 3x2xØ110" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-OMSTOEPTE-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Rørpakke, omstøpt, 4x2xØ110" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-OMSTOEPTE-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Rørpakke, omstøpt, 1x3xØ110" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-OMSTOEPTE-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Rørpakke, omstøpt, 2x3xØ110" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-OMSTOEPTE-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Rørpakke, omstøpt, 3x3xØ110" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-OMSTOEPTE-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Rørpakke, omstøpt, 4x3xØ110" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-OMSTOEPTE-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Rørpakke, omstøpt, 1x4xØ110" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-OMSTOEPTE-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Rørpakke, omstøpt, 2x4xØ110" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-OMSTOEPTE-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Rørpakke, omstøpt, 3x4xØ110" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-OMSTOEPTE-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Rørpakke, omstøpt, 4x4xØ110" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-OMSTOEPTE-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Rørpakke, omstøpt, 3x(3xØ110-Ø160),(3xØ110)" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-OMSTOEPTE-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
 </ObjectType>
 <ObjectType DataType="tElementWithAlignment" Class="RailwayAlignment" Name="JBTKU_KFØ Pressrør" Layer="JBTKU_KFØ_PRESSRØR" Color="ByLayer" Group="Underbygning/Føringsveier">
  <RelationSpace>pressrør</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTKU@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTKU@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTKU@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Underbygning"/>
  <AlignmentSystems DefaultSystemName="Kabelføring">
   <AlignmentSystem Name="Kabelføring" CantGauge="0.000" AlignmentGauge="0.000" QuickMode3DLiftWithCant="false"/>
  </AlignmentSystems>
  <Variants DefaultValue="Pressrør Ø160 uten subrør">
   <Variant Name="Pressrør Ø160 uten subrør"/>
   <Variant Name="Pressrør Ø400 uten subrør"/>
  </Variants>
  <LuaExpression Name="name">
   <Formula>code.." ("..Variant..")"</Formula>
  </LuaExpression>
  <SetValue Key="Sweep3D" Value="True"/>
  <SetValue Key="QuickMode3D" Value="True"/>
  <LuaExpression Name="Linetype">
   <Formula>_JBTKU_KFOE_StiffTube_Linetype()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_StiffTube_Linetype" ReturnType="String" HideFromUser="false" Description="Returns the CAD system 2D presentation line type for the stiff tube package, based on its Variant.">
   <Constructor>String _JBTKU_KFOE_StiffTube_Linetype()</Constructor>
   <Formula>
				function _JBTKU_KFOE_StiffTube_Linetype()
					return "Continuous" --(same enum for alle language packs)
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="GlobalWidth">
   <Formula>_JBTKU_KFOE__JBTKU_KFOE_StiffTube_GlobalWidth()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE__JBTKU_KFOE_StiffTube_GlobalWidth" ReturnType="Double" HideFromUser="false" Description="Returns the global width of the stiff  tube package's 2D representation as a wide polyline.">
   <Constructor>Double _JBTKU_KFOE__JBTKU_KFOE_StiffTube_GlobalWidth()</Constructor>
   <Formula>
				function _JBTKU_KFOE__JBTKU_KFOE_StiffTube_GlobalWidth()
					if Variant:match("Pressrør Ø160") then return 0.160
					elseif Variant:match("Pressrør Ø400") then return 0.400
					else
						return 1.0,_info("Variant ["..Variant.."] has not been anticipated yet.")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTKU_KFOE_StiffTube_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_StiffTube_Model3DName()" ReturnType="String" HideFromUser="false" Description="Returns the tube package default 3D object model name.">
   <Constructor>Double _JBTKU_KFOE_StiffTube_Model3DName()</Constructor>
   <Formula>
				function _JBTKU_KFOE_StiffTube_Model3DName()
					t = "NO-BN-SWEEP-KU-KFØ-PRESSRØR-DIAMETER-"
					if Variant:match("Pressrør Ø160") then return t.."144-160-TOMT"
					elseif Variant:match("Pressrør Ø400") then return t.."360-400-TOMT"
					else 
						return "",_info("Variant ["..Variant.."] has not been anticipated yet.")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DSeparation">
   <Formula>RC__getNearest3DStep(2.0)</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DOffset">
   <Formula>0</Formula>
  </LuaExpression>
  <PropertyPrompt Key="code" DefaultValue="Pressrør" AcceptEmptyValue="false"/>
  <InsertAlignment VariantName="Pressrør Ø160 uten subrør" SubGroup="Pressrør" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-PRESSROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Pressrør Ø400 uten subrør" SubGroup="Pressrør" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-PRESSROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
 </ObjectType>
 <ObjectType DataType="tElementWithAlignment" Class="RailwayAlignment" Name="JBTKU_KFØ Trekkerør" Layer="JBTKU_KFØ_TREKKERØR" Color="ByLayer" Group="Underbygning/Føringsveier">
  <RelationSpace>trekkerør</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTKU@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTKU@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTKU@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Underbygning"/>
  <AlignmentSystems DefaultSystemName="Kabelføring">
   <AlignmentSystem Name="Kabelføring" CantGauge="0.000" AlignmentGauge="0.000" QuickMode3DLiftWithCant="false"/>
  </AlignmentSystems>
  <LuaExpression Name="name">
   <Formula>code.." ("..Variant..")"</Formula>
  </LuaExpression>
  <SetValue Key="Sweep3D" Value="True"/>
  <SetValue Key="QuickMode3D" Value="False"/>
  <LuaExpression Name="Linetype">
   <Formula>_JBTKU_KFOE_tube_Linetype()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_tube_Linetype" ReturnType="String" HideFromUser="false" Description="Returns the CAD system 2D presentation line type for the flexible tube, based on its Variant.">
   <Constructor>String _JBTKU_KFOE_tube_Linetype()</Constructor>
   <Formula>
				function _JBTKU_KFOE_tube_Linetype()
					return "Continuous" --(same enum for alle language packs)
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="GlobalWidth">
   <Formula>_JBTKU_KFOE_tube_GlobalWidth()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_tube_GlobalWidth" ReturnType="Double" HideFromUser="false" Description="Returns the global width of the flexible tube's 2D representation as a wide polyline.">
   <Constructor>Double _JBTKU_KFOE_tube_GlobalWidth()</Constructor>
   <Formula>
				function _JBTKU_KFOE_tube_GlobalWidth()
					if Variant:match("Ø50") then return 0.050
					elseif Variant:match("Ø75") then return 0.075
					elseif Variant:match("Ø110") then return 0.110
					elseif Variant:match("Ø125") then return 0.125
					elseif Variant:match("Ø160") then return 0.160
					else 
						return 0,_info("Variant ["..Variant.."] has not been anticipated yet.")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTKU_KFOE_tube_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_tube_Model3DName()" ReturnType="String" HideFromUser="false" Description="Returns the flexible tube default 3D object model name.">
   <Constructor>String _JBTKU_KFOE_tube_Model3DName()</Constructor>
   <Formula>
				function _JBTKU_KFOE_tube_Model3DName()
					local t = "NO-BN-SWEEP-KU-KFØ-TREKKERØR-RØD-DIAMETER-"
					if Variant:match("Ø50") then return t.."042-050"
					elseif Variant:match("Ø75") then return t.."063-075"
					elseif Variant:match("Ø110") then return t.."094-110"
					elseif Variant:match("Ø125") then return t.."108-125"
					elseif Variant:match("Ø160") then return t.."138-160"
					else
						return "",_info("Variant ["..Variant.."] has not been anticipated yet.")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Offset3D.Z">
   <Formula>_JBTKU_KFOE_tube_Offset3dZ(_position)</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_tube_Offset3dZ()" ReturnType="Double" HideFromUser="false" Description="Returns the flexible tube Z offset along the geometry, relative to the duct bottom located at the start of the tube's alignment geometry. Must be called with '_position' as input argument (_position.ref = alignment GUID, _position.pos = distAlong).">
   <Constructor>Double _JBTKU_KFOE_tube_Offset3dZ(SampledPosition _position)</Constructor>
   <Formula>
				function _JBTKU_KFOE_tube_Offset3dZ(cursor)
					local P1 = RcAlignment.StartPoint
					local ducts = getClosestAlignments("JBTKU_KFØ Kabelkanal",P1.X,P1.Y)
					if getCollectionLength(ducts) == 0 then
						return 0,_info("UNFINISHED - No cable duct found at flexible tube's geometry start point.")
					end
					local Zref = getAlignmentInfo(ducts[0].id,P1.X,P1.Y).Point.Z
					
					local ini = 0.2		--Length of initial level part
					local c = 0.8		--Length of cosine part
					local h1 = 0.1		--Start at bottom duct level +h1, make a cosine bend down to bottom duct -h1 
					local r = 0.5		--After horizontal movement, bend up from Zref-h1 as a quarter-circle with radius r 
					local h2 = 0.4		--Finally, rise another h2, close to the tube's end (at the object to feed)
					local d = 0.1		--Horizontal length of the last steep ascent
					
					local L = RcAlignment.HorizontalProfile.Length --2D length of the tube's geometry
					local L1 = ini		--Start cosine bend
					local L2 = L1+c		--End of cosine, start horizontal part
					local L3 = L-d-r	--Start of arc
					local L4 = L-d		--End of arc, start of steep ascent
					if L &lt; ini+c+r+d then 
						return 0,_info("UNFINISHED - Tube geometry is too short to generate Z offset.")
					end
					
					local p = cursor.pos	--Our 'cursor' running along the geometry from 0 to L
					
					if p &lt; L1 then --horizontal
						return Zref + h1
					
					elseif p &lt; L2 then --cosine
						return Zref + h1*math.cos(math.pi*((p-L1)/c))
					
					elseif p &lt; L3 then --horizontal
						return Zref - h1
					
					elseif p &lt; L4 then --circular arc
						return Zref - h1 + r*(1 - math.sqrt(1 -((p-L3)/r)^2))
					
					else 
						return Zref - h1 + r + h2*(p-L4)/d
					end
				end
			</Formula>
  </LuaFunction>
  <Variants DefaultValue="Trekkerør, Ø50">
   <Variant Name="Trekkerør, Ø50"/>
   <Variant Name="Trekkerør, Ø75"/>
   <Variant Name="Trekkerør, Ø110"/>
   <Variant Name="Trekkerør, Ø125"/>
   <Variant Name="Trekkerør, Ø160"/>
  </Variants>
  <LuaExpression Name="Model3DSeparation">
   <Formula>RC__getNearest3DStep(0.10)</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DOffset">
   <Formula>0</Formula>
  </LuaExpression>
  <PropertyPrompt Key="code" DefaultValue="Trekkerør" AcceptEmptyValue="false"/>
  <InsertAlignment VariantName="Trekkerør, Ø50" SubGroup="Trekkerør" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Trekkerør, Ø75" SubGroup="Trekkerør" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Trekkerør, Ø110" SubGroup="Trekkerør" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Trekkerør, Ø125" SubGroup="Trekkerør" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Trekkerør, Ø160" SubGroup="Trekkerør" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-KABELFOERING-TREKKEROER-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTKU_KFØ Trekkekum" Layer="JBTKU_KFØ_TREKKEKUM" Color="ByLayer" Group="Underbygning/Føringsveier" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>trekkekum</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTKU@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTKU@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTKU@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Underbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Trekkekum Ø1400">
   <Variant Name="Trekkekum Ø1400">
    <SetValue Key="ManholeHeight" Value="1350"/>
   </Variant>
   <Variant Name="Trekkekum 1600x900">
    <SetValue Key="ManholeHeight" Value="900"/>
   </Variant>
   <Variant Name="Trekkekum 1400x1400">
    <SetValue Key="ManholeHeight" Value="1600"/>
   </Variant>
   <Variant Name="Trekkekum 2300x2300, 3-veis">
    <SetValue Key="ManholeHeight" Value="2400"/>
   </Variant>
   <Variant Name="Trekkekum 2300x2300, 4-veis">
    <SetValue Key="ManholeHeight" Value="2400"/>
   </Variant>
  </Variants>
  <CustomAttribute DataType="Enumeration" Name="ManholeHeight" DisplayName="Trekkekum høyde" DefaultValue="900" Description="The manhole height (exterior dimension) [mm] [200 | 250 | 600 | ... | 3500].">
   <Values>
    <Value>3500</Value>
    <Value>3450</Value>
    <Value>3400</Value>
    <Value>3350</Value>
    <Value>3300</Value>
    <Value>3450</Value>
    <Value>3400</Value>
    <Value>3150</Value>
    <Value>3100</Value>
    <Value>3050</Value>
    <Value>3000</Value>
    <Value>2950</Value>
    <Value>2900</Value>
    <Value>2850</Value>
    <Value>2800</Value>
    <Value>2750</Value>
    <Value>2700</Value>
    <Value>2650</Value>
    <Value>2600</Value>
    <Value>2550</Value>
    <Value>2500</Value>
    <Value>2450</Value>
    <Value>2400</Value>
    <Value>2350</Value>
    <Value>2300</Value>
    <Value>2450</Value>
    <Value>2400</Value>
    <Value>2150</Value>
    <Value>2100</Value>
    <Value>2050</Value>
    <Value>2000</Value>
    <Value>1950</Value>
    <Value>1900</Value>
    <Value>1850</Value>
    <Value>1800</Value>
    <Value>1750</Value>
    <Value>1700</Value>
    <Value>1650</Value>
    <Value>1600</Value>
    <Value>1550</Value>
    <Value>1500</Value>
    <Value>1450</Value>
    <Value>1400</Value>
    <Value>1350</Value>
    <Value>1300</Value>
    <Value>1250</Value>
    <Value>1200</Value>
    <Value>1150</Value>
    <Value>1100</Value>
    <Value>1050</Value>
    <Value>1000</Value>
    <Value>950</Value>
    <Value>900</Value>
    <Value>850</Value>
    <Value>800</Value>
    <Value>750</Value>
    <Value>700</Value>
    <Value>650</Value>
    <Value>600</Value>
    <Value>550</Value>
    <Value>500</Value>
    <Value>450</Value>
    <Value>400</Value>
    <Value>350</Value>
    <Value>300</Value>
    <Value>250</Value>
    <Value>200</Value>
   </Values>
  </CustomAttribute>
  <LuaExpression Name="code">
   <Formula>_JBTKU_KFOE_manhole_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_manhole_code()" ReturnType="String" Description="Obtains the code for the manhole, as a concatenation of the manhole's reference mileage km-value and the current 'seq' local variable.">
   <Constructor>String _JBTKU_KFOE_manhole_code()</Constructor>
   <Formula>
				function _JBTKU_KFOE_manhole_code()
					entireKm = math.floor(ReferenceMileage/1000)
					return string.format("TK-%d-%02d",entireKm,seq),_info("Manhole's code is inherited from reference mileage ("..ReferenceMileage..") and the local variable seq ("..seq..").")
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>code.." ("..Variant..")"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>_JBTKU_KFOE_manhole_DistanceToAlignment()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_manhole_DistanceToAlignment()" ReturnType="Double" Description="Returns manhole's default 3D object model name.">
   <Constructor>Double _JBTKU_KFOE_manhole_DistanceToAlignment()</Constructor>
   <Formula>
				function _JBTKU_KFOE_manhole_DistanceToAlignment() 
					local diameter = Variant:match("Ø(%d+)")
					local length = Variant:match("(%d+)X%d+")
					local depth = Variant:match("%d+X(%d+)")
					local MinFreeProfile = 2.30 --Bane NOR TRV value
					local StdFreeProfile = 2.52 --Bane NOR TRV value
					local d
					a = getClosestAlignments("JBTKU_KFØ Kabelkanal")
					if diameter then
						--Should "touch" MinFreeProfile, insertion point = center manhole at Top-of-rail
						d = MinFreeProfile + diameter/2000
					elseif length and depth then
						--Should "touch" MinFreeProfile, insertion point = midpoint long side towards track at Top-of-rail
						if dir == "both" then d = MinFreeProfile + 0
						elseif dir == "none" then d = MinFreeProfile + depth/1000
						elseif dir == "up" then d = MinFreeProfile + length/2000
						elseif dir == "down" then d = MinFreeProfile + length/2000
						else return 4e-4,_info("UNFINISHED - Unknown direction") 
						end
					else
						return 4e-4,_info("Variant ["..Variant.."] has not been anticipated yet.")
					end
					return RightSided and d or -d,_info("Distance to alignment deduced from direction and from manhole dimensions.")
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTKU_KFOE_manhole_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_KFOE_manhole_Model3DName()" ReturnType="String" Description="Returns manhole's default 3D object model name.">
   <Constructor>String _JBTKU_KFOE_manhole_Model3DName()</Constructor>
   <Formula>
				function _JBTKU_KFOE_manhole_Model3DName()
					local diameter = Variant:match("Ø(%d+)")
					local length = Variant:match("(%d+)X%d+")
					local depth = Variant:match("%d+X(%d+)")
					local numberOfOrifices = Variant:lower():match("(%d+)%-veis")
					if Variant:match("Ø%d+") then
						return "NO-BN-3D-KU-KFØ-TREKKEKUM-Ø"..diameter.."-H"..ManholeHeight.."-MED-LOKK"
					elseif Variant:upper():match("%d+X%d+") then
						if numberOfOrifices == nil then
							return "NO-BN-3D-KU-KFØ-TREKKEKUM-L"..length.."-D"..depth.."-H"..ManholeHeight.."-MED-LOKK"
						else
							return "NO-BN-3D-KU-KFØ-TREKKEKUM-L"..length.."-D"..depth.."-H"..ManholeHeight.."-"..numberOfOrifices.."-VEIS-MED-LOKK"
						end
					else
						return "NO-BN-3D-FE-DIV-UKJENT",_info("Variant ["..Variant.."] has not been anticipated yet.")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="EarthingMethod">
   <Formula>"None"</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Trekkekum Ø1400" DisplayBlockName="NO-BN-2D-JBTKU_KFØ-TREKKEKUM-RUND-1400-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="1.5">
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Trekkekum 1600x900" DisplayBlockName="NO-BN-2D-JBTKU_KFØ-TREKKEKUM-L1600-D900-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="1.5">
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Trekkekum 1400x1400" DisplayBlockName="NO-BN-2D-JBTKU_KFØ-TREKKEKUM-L1400-D1400-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="1.5">
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Trekkekum 2300x2300, 3-veis" DisplayBlockName="NO-BN-2D-JBTKU_KFØ-TREKKEKUM-L2300-D2300-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="1.5">
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Trekkekum 2300x2300, 4-veis" DisplayBlockName="NO-BN-2D-JBTKU_KFØ-TREKKEKUM-L2300-D2300-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="1.5">
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTKU_KFØ-TREKKEKUM-RUND-1400-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				{% if Variant == 'Trekkekum Ø1400' %}NO-BN-2D-JBTKU_KFØ-TREKKEKUM-RUND-1400
				{% elsif Variant == 'Trekkekum 1600x900' %}NO-BN-2D-JBTKU_KFØ-TREKKEKUM-L1600-D900
				{% elsif Variant == 'Trekkekum 1400x1400' %}NO-BN-2D-JBTKU_KFØ-TREKKEKUM-L1400-D1400
				{% elsif Variant == 'Trekkekum 2300x2300, 3-veis' %}NO-BN-2D-JBTKU_KFØ-TREKKEKUM-L2300-D2300
				{% elsif Variant == 'Trekkekum 2300x2300, 4-veis' %}NO-BN-2D-JBTKU_KFØ-TREKKEKUM-L2300-D2300
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{code}}</Value>
   </Attribute>
  </Model3DDefinition>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="jordingsskinne"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tElementWithAlignment" Class="RailwayAlignment" Name="JBTKU_VEI Vei" Layer="JBTKU_VEI" Color="ByLayer" Group="Underbygning/Veier">
  <RelationSpace>vei</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTKU@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTKU@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTKU@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Underbygning"/>
  <AlignmentSystems DefaultSystemName="Vei">
   <AlignmentSystem Name="Vei" CantGauge="0.000" AlignmentGauge="0.000" QuickMode3DLiftWithCant="false"/>
  </AlignmentSystems>
  <Variants DefaultValue="Bilvei">
   <Variant Name="Bilvei">
    <LuaExpression Name="name">
     <Formula>code.." (bilvei)"</Formula>
    </LuaExpression>
    <SetValue Key="RoadNumberOfLanes" Value="2"/>
    <SetValue Key="RoadExteriorWidth" Value="6000"/>
   </Variant>
   <Variant Name="Gangvei">
    <LuaExpression Name="name">
     <Formula>code.." (gangvei)"</Formula>
    </LuaExpression>
    <SetValue Key="RoadNumberOfLanes" Value="1"/>
    <SetValue Key="RoadExteriorWidth" Value="2000"/>
   </Variant>
   <Variant Name="Sykkelvei">
    <LuaExpression Name="name">
     <Formula>code.." (sykkelvei)"</Formula>
    </LuaExpression>
    <SetValue Key="RoadNumberOfLanes" Value="1"/>
    <SetValue Key="RoadExteriorWidth" Value="1400"/>
   </Variant>
   <Variant Name="Rømningsvei">
    <LuaExpression Name="name">
     <Formula>code.." (rømningsvei)"</Formula>
    </LuaExpression>
    <SetValue Key="RoadNumberOfLanes" Value="1"/>
    <SetValue Key="RoadExteriorWidth" Value="1200"/>
   </Variant>
  </Variants>
  <CustomAttribute DataType="Enumeration" Name="RoadNumberOfLanes" DisplayName="Felt" Description="The road's number of lanes.">
   <Values Variant="Bilvei">
    <Value>6</Value>
    <Value>4</Value>
    <Value>3</Value>
    <Value>2</Value>
    <Value>1</Value>
   </Values>
   <Values Variant="Gangvei">
    <Value>1</Value>
   </Values>
   <Values Variant="Sykkelvei">
    <Value>2</Value>
    <Value>1</Value>
   </Values>
   <Values Variant="Rømningsvei">
    <Value>1</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="RoadExteriorWidth" DisplayName="Bredde" Description="The road's exterior width [mm].">
   <Values Variant="Bilvei">
    <Value>12000</Value>
    <Value>11000</Value>
    <Value>10000</Value>
    <Value>9000</Value>
    <Value>8000</Value>
    <Value>7000</Value>
    <Value>6000</Value>
    <Value>5500</Value>
    <Value>5000</Value>
    <Value>4500</Value>
    <Value>4000</Value>
   </Values>
   <Values Variant="Gangvei">
    <Value>2000</Value>
    <Value>1600</Value>
    <Value>1200</Value>
   </Values>
   <Values Variant="Sykkelvei">
    <Value>2800</Value>
    <Value>1400</Value>
   </Values>
   <Values Variant="Rømningsvei">
    <Value>1400</Value>
    <Value>1200</Value>
    <Value>1000</Value>
    <Value>800</Value>
   </Values>
  </CustomAttribute>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTKU_VEI__Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_VEI__Model3DName()" ReturnType="String" HideFromUser="false" Description="Returns the road's default 3D object model name.">
   <Constructor>String _JBTKU_VEI__Model3DName()</Constructor>
   <Formula>
				function _JBTKU_VEI__Model3DName()
					--TODO: Add more roads in 3D
					--TODO: Allow for varying segment lengths (all are 1000 mm now)
					t = Sweep3D and "NO-BN-SWEEP-KU-VEI-" or "NO-BN-3D-KU-VEI-"
					if Variant == "Bilvei" then 
						return t.."VEIBANE-"..RoadNumberOfLanes.."-FELT-L1000-D100-B"..RoadExteriorWidth
					elseif Variant == "Gangvei" then
						return t.."GANGBANE-"..RoadNumberOfLanes.."-FELT-L1000-D100-B-"..RoadExteriorWidth
					elseif Variant == "Sykkelvei" then 
						return t.."SYKKELBANE-"..RoadNumberOfLanes.."-FELT-L1000-D100-B-"..RoadExteriorWidth
					elseif Variant == "Rømningsvei" then
						return t.."RØMNINGSBANE-"..RoadNumberOfLanes.."-FELT-L1000-D100-B-"..RoadExteriorWidth
					else 
						return "",_info("Variant ["..Variant.."] has not been anticipated yet.")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DSeparation">
   <Formula>Sweep3D and RC__getNearest3DStep(1.0) or _JBTKU_VEI_Model3DSeparation(_position)</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKU_VEI_Model3DSeparation()" ReturnType="Double" HideFromUser="false" Description="Returns the distance to the next 3D model insertion point along the alignment axis during 3D Preview or 3D Export. Must be called with '_position' as input argument (_position.ref = alignment GUID, _position.pos = distAlong).">
   <Constructor>Double _JBTKU_VEI_Model3DSeparation(Double _position)</Constructor>
   <Formula>
				function _JBTKU_VEI_Model3DSeparation(pos)
					-- TODO: A more elaborate function would rely on the actual size for each inserted 3D Model, which may vary as a sampled function along the alignment.
					-- This simple formula assumes that the Model3D is constant along the alignment, decided by the Variant (which applies to the whole alignment's length)
					-- TODO: Implement 'SweepMode3D' which interprets the given 3D Model Name as a 2D section to be sweeped (or twisted, if Cant info is provided).
					if Variant == "Bilvei" then 
						f = 1000/1000
						b = 6000
					elseif Variant == "Gangvei" then 
						f = 2400/1000
						b = 0.4
					elseif Variant == "Sykkelvei" then 
						f = 1
						b = 0.6
					elseif Variant == "Rømningsvei" then 
						f = 1
						b = 0.6
					else 
						return 3.1416,_info("Variant ["..Variant.."] has not been anticipated yet - so we assume 3.1416m 3D Model Separation...")
					end
					r = getAlignmentInfo(pos).CurveRadius
					-- Empirical formula, to allow a small separation between concrete elements in the "outer curve", but assuming that it will be cut in the "inner curve".
					if r == nil or r &gt; 100 then 
						return 2.4 / f + .005
					elseif r &lt; (0.8 / b) then 
						return (2.4 - b) / f
					else 
						return (2.4 - 0.8/r) / f + .005
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DOffset">
   <Formula>Sweep3D and 0 or RC__round(_JBTKU_VEI_Model3DSeparation()/2, 1)</Formula>
  </LuaExpression>
  <PropertyPrompt Key="code" DefaultValue="Vei" AcceptEmptyValue="false"/>
  <InsertAlignment VariantName="Bilvei" DisplayBlockName="NO-BN-2D-JBTKU-THUMBNAIL-ROAD-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
   <IncludeSegmentType>Spiral</IncludeSegmentType>
   <SetValue Key="AlignmentSystem" Value="Vei"/>
  </InsertAlignment>
  <InsertAlignment VariantName="Sykkelvei" DisplayBlockName="NO-BN-2D-JBTKU-THUMBNAIL-BICYCLE-LANE-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
   <IncludeSegmentType>Spiral</IncludeSegmentType>
   <SetValue Key="AlignmentSystem" Value="Vei"/>
  </InsertAlignment>
  <InsertAlignment VariantName="Gangvei" DisplayBlockName="NO-BN-2D-JBTKU-THUMBNAIL-PEDESTRIAN-LANE-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
   <IncludeSegmentType>Spiral</IncludeSegmentType>
   <SetValue Key="AlignmentSystem" Value="Vei"/>
  </InsertAlignment>
  <InsertAlignment VariantName="Rømningsvei" DisplayBlockName="NO-BN-2D-JBTKU-THUMBNAIL-ESCAPE-ROUTE-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
   <IncludeSegmentType>Spiral</IncludeSegmentType>
   <SetValue Key="AlignmentSystem" Value="Vei"/>
  </InsertAlignment>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTKU_FUN Apparatskapfundament" Layer="JBTKU_FUN" Color="ByLayer" Group="Underbygning/Fundamenter/Apparatskap" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>apparatskapfundament</RelationSpace>
  <AttachmentCategory Name="apparatskapfundament"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTKU@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTKU@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTKU@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Underbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Betong apparatskap fundament, hull på langsiden">
    <SetValue Key="name" Value="Betong AS fund. langside"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-FUN-APPARATSKAP-STORT-1400x820x540-LANGSIDEHULL"/>
   </Variant>
   <Variant Name="Betong apparatskap fundament, hull på kortsiden">
    <SetValue Key="name" Value="Betong AS fund. kortside"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-FUN-APPARATSKAP-STORT-1400x820x540-KORTSIDEHULL"/>
   </Variant>
  </Variants>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>NOBN_sub_getFoundationCode()</Formula>
  </LuaExpression>
  <LuaExpression Name="EarthingMethod">
   <Formula>"None"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>tostring(code):upper():match("UNFINISHED") and "" or code</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Betong apparatskap fundament, hull på langsiden" DisplayBlockName="NO-BN-2D-JBTKU_FUN-SKAPFUNDAMENT-BETONG-APPARATSKAP-LANGSIDE-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betong apparatskap fundament, hull på kortsiden" DisplayBlockName="NO-BN-2D-JBTKU_FUN-SKAPFUNDAMENT-BETONG-APPARATSKAP-KORTSIDE-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTKU_FUN-SKAPFUNDAMENT-BETONG-APPARATSKAP-LANGSIDE-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTKU_FUN-SKAPFUNDAMENT
				{% if Variant == 'Betong apparatskap fundament, hull på langsiden' %}BETONG-APPARATSKAP-LANGSIDE
				{% elsif Variant == 'Betong apparatskap fundament, hull på kortsiden' %}BETONG-APPARATSKAP-KORTSIDE
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints Variant="Betong apparatskap fundament, hull på langsiden">
    <SnapPoint X="0.0" Y="0.0" TargetSpace="apparatskap"/>
   </SnapPoints>
   <SnapPoints Variant="Betong apparatskap fundament, hull på kortsiden">
    <SnapPoint X="0.0" Y="0.0" TargetSpace="apparatskap"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_FUN KL-fundament" Layer="JBTKU_EH_FUN" Color="ByLayer" Group="Underbygning/Fundamenter/Kontaktledning" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>kl-fundament</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTKU@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTKU@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTKU@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Underbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Betong KL-fundament, bjelkemast"/>
   <Variant Name="Boret KL-fundament, Ø355-Ø232xDD27xM36"/>
   <Variant Name="Boret KL-fundament, Ø555-191x374xM36"/>
   <Variant Name="Fjellbolter for KL-mast i tunnel"/>
   <Variant Name="Fjellbolter for KL-mast på veggkonsoll"/>
   <Variant Name="Veggkonsoll for KL-mast"/>
   <Variant Name="Spesial KL-fundament"/>
   <Variant Name="Betong KL-fundament, lav B3 og B6, 240x800xM36, 6000-9500"/>
   <Variant Name="Betong KL-fundament, høy B6, 260x940xM36, 10000-13000"/>
   <Variant Name="Betong KL-fundament, H3, 700x700xM36, 6000-9500"/>
   <Variant Name="Betong KL-fundament, H3, 790x790xM36, 10000-12000"/>
   <Variant Name="Betong KL-fundament, H3, 830x830xM36, 12500-13000"/>
  </Variants>
  <CustomAttribute DataType="Enumeration" Name="OcsFoundationBaseWidth" DisplayName="Fundament bunnplate bredde" Description="The overhead catenary system (OCS) foundation base plate width (transversal to track). Not applicable to bored foundations.">
   <Values Variant="Betong KL-fundament, bjelkemast">
    <Value>2200</Value>
    <Value>2100</Value>
    <Value>2000</Value>
    <Value>1900</Value>
    <Value>1800</Value>
    <Value>1700</Value>
    <Value>1600</Value>
   </Values>
   <Values Variant="Betong KL-fundament, lav B3 og B6, 240x800xM36, 6000-9500">
    <Value>1800</Value>
   </Values>
   <Values Variant="Betong KL-fundament, høy B6, 260x940xM36, 10000-13000">
    <Value>1800</Value>
   </Values>
   <Values Variant="Betong KL-fundament, H3, 700x700xM36, 6000-9500">
    <Value>1800</Value>
   </Values>
   <Values Variant="Betong KL-fundament, H3, 790x790xM36, 10000-12000">
    <Value>1800</Value>
   </Values>
   <Values Variant="Betong KL-fundament, H3, 830x830xM36, 12500-13000">
    <Value>1800</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="OcsFoundationBaseOffset" DisplayName="Fundament bunnplate offset" Description="The overhead catenary system (OCS) foundation base plate offset. Not applicable to bored foundations.">
   <Values Variant="Betong KL-fundament, bjelkemast">
    <Value>300</Value>
    <Value>200</Value>
    <Value>100</Value>
    <Value>000</Value>
   </Values>
   <Values Variant="Betong KL-fundament, lav B3 og B6, 240x800xM36, 6000-9500">
    <Value>000</Value>
   </Values>
   <Values Variant="Betong KL-fundament, høy B6, 260x940xM36, 10000-13000">
    <Value>000</Value>
   </Values>
   <Values Variant="Betong KL-fundament, H3, 700x700xM36, 6000-9500">
    <Value>000</Value>
   </Values>
   <Values Variant="Betong KL-fundament, H3, 790x790xM36, 10000-12000">
    <Value>000</Value>
   </Values>
   <Values Variant="Betong KL-fundament, H3, 830x830xM36, 12500-13000">
    <Value>000</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="OcsFoundationShaftHeight" DisplayName="Fundament søylehøyde" Description="The overhead catenary system (OCS) foundation shaft height resp. total bored height.">
   <Values Variant="Betong KL-fundament, bjelkemast">
    <Value>2700</Value>
    <Value>2200</Value>
    <Value>1700</Value>
    <Value>1200</Value>
   </Values>
   <Values Variant="Boret KL-fundament, Ø555-191x374xM36">
    <Value>7500</Value>
    <Value>7000</Value>
    <Value>6500</Value>
    <Value>6000</Value>
    <Value>5500</Value>
    <Value>5000</Value>
    <Value>4500</Value>
    <Value>4000</Value>
    <Value>3500</Value>
    <Value>3000</Value>
    <Value>2500</Value>
   </Values>
   <Values Variant="Boret KL-fundament, Ø355-Ø232xDD27xM36">
    <Value>7500</Value>
    <Value>7000</Value>
    <Value>6500</Value>
    <Value>6000</Value>
    <Value>5500</Value>
    <Value>5000</Value>
    <Value>4500</Value>
    <Value>4000</Value>
    <Value>3500</Value>
    <Value>3000</Value>
    <Value>2500</Value>
   </Values>
   <Values Variant="Betong KL-fundament, lav B3 og B6, 240x800xM36, 6000-9500">
    <Value>3700</Value>
    <Value>3200</Value>
    <Value>3100</Value>
    <Value>2400</Value>
    <Value>1800</Value>
   </Values>
   <Values Variant="Betong KL-fundament, høy B6, 260x940xM36, 10000-13000">
    <Value>3700</Value>
    <Value>3200</Value>
    <Value>3100</Value>
    <Value>2400</Value>
    <Value>1800</Value>
   </Values>
   <Values Variant="Betong KL-fundament, H3, 700x700xM36, 6000-9500">
    <Value>3700</Value>
    <Value>2900</Value>
    <Value>2700</Value>
    <Value>2600</Value>
    <Value>2200</Value>
   </Values>
   <Values Variant="Betong KL-fundament, H3, 790x790xM36, 10000-12000">
    <Value>3700</Value>
    <Value>2900</Value>
    <Value>2700</Value>
    <Value>2600</Value>
    <Value>2200</Value>
   </Values>
   <Values Variant="Betong KL-fundament, H3, 830x830xM36, 12500-13000">
    <Value>3700</Value>
    <Value>2900</Value>
    <Value>2700</Value>
    <Value>2600</Value>
    <Value>2200</Value>
   </Values>
  </CustomAttribute>
  <LuaExpression Name="code">
   <Formula>NOBN_sub_getFoundationCode()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>tostring(code):upper():match("UNFINISHED") and code or ""</Formula>
  </LuaExpression>
  <LuaExpression Name="Mileage">
   <Formula>RC__getMileageFromRelatedObject("Er kl-fundament for kl-mast/kraftavlasting")</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__getDistanceToAlignmentFromRelatedObject("Er kl-fundament for kl-mast/kraftavlasting")</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>RC__getRelativeElevationFromRelatedObject("Er kl-fundament for kl-mast/kraftavlasting")</Formula>
  </LuaExpression>
  <LuaExpression Name="dir">
   <Formula>RC__getDirFromRelatedObject("Er kl-fundament for kl-mast/kraftavlasting")</Formula>
  </LuaExpression>
  <LuaExpression Name="AngularOffset">
   <Formula>RC__getAngularOffsetFromRelatedObject("Er kl-fundament for kl-mast/kraftavlasting")</Formula>
  </LuaExpression>
  <LuaExpression Name="EarthingMethod">
   <Formula>"None"</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>_EH_FUN_OcsFoundation_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_EH_FUN_OcsFoundation_Model3DName" ReturnType="String" HideFromUser="false" Description="Returns the 3D model name for an OCS foundation.">
   <Constructor>String _EH_FUN_OcsFoundation_Model3DName()</Constructor>
   <Formula>
				function _EH_FUN_OcsFoundation_Model3DName()
					local bw = OcsFoundationBaseWidth
					local bo = OcsFoundationBaseOffset == 0 and "000" or tostring(OcsFoundationBaseOffset)
					local sh = OcsFoundationShaftHeight
					if Variant:lower():match("bjelkemast") then
						return "NO-BN-3D-EH-FUN-BJELKEMAST-1600x"..bw.."x1000-"..bo.."-700x700-191x374xM36-"..sh
					
					elseif Variant:match("Ø555") then
						return "NO-BN-3D-EH-FUN-BJELKEMAST-BORET-Ø555-191x374xM36-"..sh
					
					elseif Variant:match("Ø355") then
						return "NO-BN-3D-EH-FUN-GITTERMAST-BORET-Ø355-Ø232x27DDxM36-"..sh
					
					elseif Variant:match("Fjellbolter for KL%-mast i tunnel") then
						return "NO-BN-3D-EH-FUN-HENGEMAST-FJELLBOLTER-350x350xM24"
					
					elseif Variant:match("Fjellbolter for KL%-mast på veggkonsoll") then
						return "NO-BN-3D-EH-FUN-KONSOLL-VEGGFESTE-FJELLBOLTER-600x700xM32"

					elseif Variant:match("Veggkonsoll for KL%-mast") then
						return "NO-BN-3D-EH-FUN-KONSOLL-VEGGFESTE-191x374xM36"
					
					elseif Variant:lower():match("spesial") then
						return "NO-BN-3D-FE-DIV-UKJENT",_info("To be replaced by customized special foundation adapted to the situation's needs.")
					
					elseif Variant:match("lav B3 og B6, 240x800xM36, 6000%-9500") then
						if sh == 1800 then 
							return "NO-BN-3D-EH-FUN-GITTERMAST-B3-B6-2300x2300x350-000-500x1100-240x800xM36-"..sh
						else 
							return "NO-BN-3D-EH-FUN-GITTERMAST-B3-B6-1600x1800x500-100-600x1200-240x800xM36-"..sh
						end

					elseif Variant:match("høy B6, 260x940xM36") then
						if sh == 1800 then 
							return "NO-BN-3D-EH-FUN-GITTERMAST-B6-2300x2300x350-000-500x1100-260x940xM36-"..sh
						else 
							return "NO-BN-3D-EH-FUN-GITTERMAST-B6-1600x1800x500-100-600x1200-260x940xM36-"..sh
						end

					elseif Variant:match("H3, 700x700xM36, 6000%-9500") then
						return "NO-BN-3D-EH-FUN-GITTERMAST-H3-1600x"..bw.."x500-"..bo.."-1000x1000-700x700xM36-"..sh
					
					elseif Variant:match("H3, 790x790xM36, 10000%-12000") then
						return "NO-BN-3D-EH-FUN-GITTERMAST-H3-1600x"..bw.."x500-"..bo.."-1100x1100-790x790xM36-"..sh
					
					elseif Variant:match("H3, 830x830xM36, 12500%-13000") then
						return "NO-BN-3D-EH-FUN-GITTERMAST-H3-1600x"..bw.."x500-"..bo.."-1100x1100-830x830xM36-"..sh
					
					else
						return _error,"Unrecognized variant ["..Variant.."]."
					end
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Betong KL-fundament, bjelkemast" DisplayBlockName="NO-BN-2D-JBTEH_FUN-FUNDAMENT-BETONG-BJELKEMAST-1600x1800-000-191x374xM36-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="OcsFoundationBaseWidth" Value="1800"/>
   <SetValue Key="OcsFoundationBaseOffset" Value="000"/>
   <SetValue Key="OcsFoundationShaftHeight" Value="2700"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Boret KL-fundament, Ø355-Ø232xDD27xM36" DisplayBlockName="NO-BN-2D-JBTEH_FUN-FUNDAMENT-BETONG-BORET-Ø355-Ø232xDD27xM36-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="OcsFoundationShaftHeight" Value="5000"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Boret KL-fundament, Ø555-191x374xM36" DisplayBlockName="NO-BN-2D-JBTEH_FUN-FUNDAMENT-BETONG-BORET-Ø555-191x374xM36-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="OcsFoundationShaftHeight" Value="4500"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Fjellbolter for KL-mast i tunnel" DisplayBlockName="NO-BN-2D-JBTEH_FUN-FUNDAMENT-FJELLBOLTER-FOR-BRU-OG-TUNNEL-350x350xM24-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Fjellbolter for KL-mast på veggkonsoll" DisplayBlockName="NO-BN-2D-JBTEH_FUN-FUNDAMENT-FJELLBOLTER-FOR-VEGGKONSOLL-600x700xM24-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Veggkonsoll for KL-mast" DisplayBlockName="NO-BN-2D-JBTEH_FUN-FUNDAMENT-KONSOLL-VEGGFESTE-191x374xM36-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Spesial KL-fundament" DisplayBlockName="NO-BN-2D-JBTEH_FUN-FUNDAMENT-SPESIAL-191x374xM36-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betong KL-fundament, lav B3 og B6, 240x800xM36, 6000-9500" DisplayBlockName="NO-BN-2D-JBTEH_FUN-FUNDAMENT-BETONG-B3-OG-B6-1600x1800-000-240x800xM36-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="OcsFoundationBaseWidth" Value="1800"/>
   <SetValue Key="OcsFoundationBaseOffset" Value="000"/>
   <SetValue Key="OcsFoundationShaftHeight" Value="3200"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betong KL-fundament, høy B6, 260x940xM36, 10000-13000" DisplayBlockName="NO-BN-2D-JBTEH_FUN-FUNDAMENT-BETONG-B6-1600x1800-000-260x940xM36-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="OcsFoundationBaseWidth" Value="1800"/>
   <SetValue Key="OcsFoundationBaseOffset" Value="000"/>
   <SetValue Key="OcsFoundationShaftHeight" Value="3200"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betong KL-fundament, H3, 700x700xM36, 6000-9500" DisplayBlockName="NO-BN-2D-JBTEH_FUN-FUNDAMENT-BETONG-H3-1600x1800-000-700x700xM36-6000-9500-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="OcsFoundationBaseWidth" Value="1800"/>
   <SetValue Key="OcsFoundationBaseOffset" Value="000"/>
   <SetValue Key="OcsFoundationShaftHeight" Value="2700"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betong KL-fundament, H3, 790x790xM36, 10000-12000" DisplayBlockName="NO-BN-2D-JBTEH_FUN-FUNDAMENT-BETONG-H3-1600x1800-000-790x790xM36-10000-12000-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="OcsFoundationBaseWidth" Value="1800"/>
   <SetValue Key="OcsFoundationBaseOffset" Value="000"/>
   <SetValue Key="OcsFoundationShaftHeight" Value="2700"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betong KL-fundament, H3, 830x830xM36, 12500-13000" DisplayBlockName="NO-BN-2D-JBTEH_FUN-FUNDAMENT-BETONG-H3-1600x1800-000-830x830xM36-12500-13000-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="OcsFoundationBaseWidth" Value="1800"/>
   <SetValue Key="OcsFoundationBaseOffset" Value="000"/>
   <SetValue Key="OcsFoundationShaftHeight" Value="2700"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEH_FUN-FUNDAMENT-BETONG-BJELKEMAST-1600x1800-000-191x374xM36-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_FUN-FUNDAMENT
				{% if    Variant == 'Betong KL-fundament, bjelkemast' %}BETONG-BJELKEMAST-1600x{{OcsFoundationBaseWidth}}-{{OcsFoundationBaseOffset}}-191x374xM36
				{% elsif Variant == 'Boret KL-fundament, Ø555-191x374xM36' %}BETONG-BORET-Ø555-191x374xM36
				{% elsif Variant == 'Boret KL-fundament, Ø355-Ø232xDD27xM36' %}BETONG-BORET-Ø355-Ø232xDD27xM36
				{% elsif Variant == 'Fjellbolter for KL-mast i tunnel' %}FJELLBOLTER-FOR-BRU-OG-TUNNEL-350x350xM24
				{% elsif Variant == 'Fjellbolter for KL-mast på veggkonsoll' %}FJELLBOLTER-FOR-VEGGKONSOLL-600x700xM24
				{% elsif Variant == 'Veggkonsoll for KL-mast' %}KONSOLL-VEGGFESTE-191x374xM36
				{% elsif Variant == 'Spesial KL-fundament' %}SPESIAL-191x374xM36
				{% elsif Variant == 'Betong KL-fundament, lav B3 og B6, 240x800xM36, 6000-9500' %}BETONG-B3-B6-LAV-1600x1800-{{OcsFoundationBaseOffset}}-240x800xM36
				{% elsif Variant == 'Betong KL-fundament, høy B6, 260x940xM36, 10000-13000' %}BETONG-B6-HOEY-1600x1800-{{OcsFoundationBaseOffset}}-260x940xM36
				{% elsif Variant == 'Betong KL-fundament, H3, 700x700xM36, 6000-9500' %}BETONG-H3-1600x{{OcsFoundationBaseWidth}}-{{OcsFoundationBaseOffset}}-700x700xM36-6000-9500
				{% elsif Variant == 'Betong KL-fundament, H3, 790x790xM36, 10000-12000' %}BETONG-H3-1600x{{OcsFoundationBaseWidth}}-{{OcsFoundationBaseOffset}}-790x790xM36-10000-12000
				{% elsif Variant == 'Betong KL-fundament, H3, 830x830xM36, 12500-13000' %}BETONG-H3-1600x{{OcsFoundationBaseWidth}}-{{OcsFoundationBaseOffset}}-830x830xM36-12500-13000
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="kl-mast"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="kraftavlasting"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTKU_FUN Signalfundament" Layer="JBTKU_FUN" Color="ByLayer" Group="Underbygning/Fundamenter/Signal" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>signalfundament</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTKU@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTKU@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTKU@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Underbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Betong Hs fundament på fri linje">
    <SetValue Key="name" Value="Hs-fund. på fri linje"/>
    <SetValue Key="SignalFoundationShaftHeight" Value="1700"/>
   </Variant>
   <Variant Name="Betong Hs fundament på plattform">
    <SetValue Key="name" Value="Hs-fund. på plattform"/>
    <SetValue Key="RelativeElevation" Value="0.76"/>
    <SetValue Key="SignalFoundationShaftHeight" Value="1000"/>
   </Variant>
   <Variant Name="Betong Hs fundament, Ø680">
    <SetValue Key="name" Value="Rundt Hs-fund, Ø680"/>
    <SetValue Key="SignalFoundationShaftHeight" Value="1600"/>
   </Variant>
   <Variant Name="Betong Ds fundament, Ø76, konisk">
    <SetValue Key="name" Value="Ds-fund."/>
   </Variant>
   <Variant Name="Betong Ds fundament, Ø76, rettsidet">
    <SetValue Key="name" Value="Ds-fund."/>
   </Variant>
   <Variant Name="Boret Hs fundament, Ø555">
    <SetValue Key="name" Value="Boret Hs-fund."/>
   </Variant>
   <Variant Name="Betong veibomdrivmaskin fundament, Ø680">
    <SetValue Key="name" Value="Rundt Hs-fund, Ø680"/>
   </Variant>
  </Variants>
  <CustomAttribute DataType="Enumeration" Name="SignalFoundationShaftHeight" DisplayName="Fundament søylehøyde" Description="The signal foundation shaft height resp. total bored height.">
   <Values Variant="Betong Hs fundament på fri linje">
    <Value>1700</Value>
   </Values>
   <Values Variant="Betong Hs fundament på plattform">
    <Value>1000</Value>
   </Values>
   <Values Variant="Betong Hs fundament, Ø680">
    <Value>1800</Value>
    <Value>1600</Value>
   </Values>
   <Values Variant="Betong Ds fundament, Ø76, konisk">
    <Value>400</Value>
   </Values>
   <Values Variant="Betong Ds fundament, Ø76, rettsidet">
    <Value>400</Value>
   </Values>
  </CustomAttribute>
  <InsertPointObject VariantName="Betong Hs fundament på fri linje" DisplayBlockName="NO-BN-2D-JBTKU_FUN-SIGNALFUNDAMENT-BETONG-HS-FRI-LINJE-300x300xM24-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betong Hs fundament på plattform" DisplayBlockName="NO-BN-2D-JBTKU_FUN-SIGNALFUNDAMENT-BETONG-HS-PLATTFORM-300x300xM24-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betong Hs fundament, Ø680" DisplayBlockName="NO-BN-2D-JBTKU_FUN-SIGNALFUNDAMENT-BETONG-HS-Ø680-300x300xM24-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betong Ds fundament, Ø76, konisk" DisplayBlockName="NO-BN-2D-JBTKU_FUN-SIGNALFUNDAMENT-BETONG-DS-Ø76-KONISK-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betong Ds fundament, Ø76, rettsidet" DisplayBlockName="NO-BN-2D-JBTKU_FUN-SIGNALFUNDAMENT-BETONG-DS-Ø76-RETTSIDET-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <InsertPointObject VariantName="Boret Hs fundament, Ø555" DisplayBlockName="NO-BN-2D-JBTKU_FUN-SIGNALFUNDAMENT-BETONG-BORET-Ø555-164x164xM32-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betong veibomdrivmaskin fundament, Ø680" DisplayBlockName="NO-BN-2D-JBTKU_FUN-SIGNALFUNDAMENT-BETONG-VEIBOMDRIVMASKIN-Ø680-210x210xM20-1600-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>vei</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTKU_FUN-SIGNALFUNDAMENT-BETONG-HS-FRI-LINJE-300x300xM24-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTKU_FUN-SIGNALFUNDAMENT
				{% if Variant == 'Betong Hs fundament på fri linje' %}BETONG-HS-FRI-LINJE-300x300xM24
				{% elsif Variant == 'Betong Hs fundament på plattform' %}BETONG-HS-PLATTFORM-300x300xM24
				{% elsif Variant == 'Betong Hs fundament, Ø680' %}BETONG-HS-Ø680-300x300xM24-{{SignalFoundationShaftHeight}}
				{% elsif Variant == 'Betong Ds fundament, Ø76, konisk' %}BETONG-DS-Ø76-KONISK
				{% elsif Variant == 'Betong Ds fundament, Ø76, rettsidet' %}BETONG-DS-Ø76-RETTSIDET
				{% elsif Variant == 'Boret Hs fundament, Ø555' %}BETONG-BORET-Ø555-164x164xM32
				{% elsif Variant == 'Betong veibomdrivmaskin fundament, Ø680' %}BETONG-VEIBOMDRIVMASKIN-Ø680-210x210xM20-{{SignalFoundationShaftHeight}}
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints Variant="Betong Hs fundament på fri linje">
    <SnapPoint X="0.0" Y="0.0" TargetSpace="signal"/>
   </SnapPoints>
   <SnapPoints Variant="Betong Hs fundament på plattform">
    <SnapPoint X="0.0" Y="0.0" TargetSpace="signal"/>
   </SnapPoints>
   <SnapPoints Variant="Betong Hs fundament, Ø680, h=1600">
    <SnapPoint X="0.0" Y="0.0" TargetSpace="signal"/>
   </SnapPoints>
   <SnapPoints Variant="Betong Hs fundament, Ø680, h=1800">
    <SnapPoint X="0.0" Y="0.0" TargetSpace="signal"/>
   </SnapPoints>
   <SnapPoints Variant="Betong Ds fundament, Ø76, konisk">
    <SnapPoint X="0.0" Y="0.0" TargetSpace="signal"/>
   </SnapPoints>
   <SnapPoints Variant="Betong Ds fundament, Ø76, rettsidet">
    <SnapPoint X="0.0" Y="0.0" TargetSpace="signal"/>
   </SnapPoints>
   <SnapPoints Variant="Boret Hs fundament, Ø555">
    <SnapPoint X="0.0" Y="0.0" TargetSpace="signal"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTKU_FUN Telefundament" Layer="JBTKU_FUN" Color="ByLayer" Group="Underbygning/Fundamenter/Tele" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>telefundament</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTKU@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTKU@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTKU@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Underbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Betongfundament, anvisersøyle">
    <SetValue Key="name" Value="Anvisersøyle fund."/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-FUN-TELE-ANVISERSYØYLE-1500x1500x1000-Ø600"/>
   </Variant>
   <Variant Name="Betongfundament, monitor">
    <SetValue Key="name" Value="Monitor fund."/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-FUN-TELE-MONITOR-1000x1000x1000-Ø600"/>
   </Variant>
   <Variant Name="Betongfundament, validator">
    <SetValue Key="name" Value="NSB validator fund."/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-FUN-TELE-BILLETT-VALIDATOR-360x300x500"/>
   </Variant>
   <Variant Name="Betongfundament, tele- og fordelingsskap">
    <SetValue Key="name" Value="Tele- og fordelingsskap fund."/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-FUN-TELE-FORDELINGSSKAP-900x800x910"/>
   </Variant>
  </Variants>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>NOBN_sub_getFoundationCode()</Formula>
  </LuaExpression>
  <LuaExpression Name="EarthingMethod">
   <Formula>"None"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>tostring(code):upper():match("UNFINISHED") and "" or code</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Betongfundament, anvisersøyle" DisplayBlockName="NO-BN-2D-JBTKU_FUN-TELEFUNDAMENT-BETONG-ANVISERSOEYLE-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betongfundament, monitor" DisplayBlockName="NO-BN-2D-JBTKU_FUN-TELEFUNDAMENT-BETONG-MONITOR-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betongfundament, validator" DisplayBlockName="NO-BN-2D-JBTKU_FUN-TELEFUNDAMENT-BETONG-VALIDATOR-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betongfundament, tele- og fordelingsskap" DisplayBlockName="NO-BN-2D-JBTKU_FUN-TELEFUNDAMENT-BETONG-TELE-OG-FORDELINGSSKAP-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-3D-KU-FUN-ANVISERSYØYLE-1500x1500x1000-Ø600-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTKU_FUN-TELEFUNDAMENT
				{% if Variant == 'Betongfundament, anvisersøyle' %}BETONG-ANVISERSOEYLE
				{% elsif Variant == 'Betongfundament, monitor' %}BETONG-MONITOR
				{% elsif Variant == 'Betongfundament, validator' %}BETONG-VALIDATOR
				{% elsif Variant == 'Betongfundament, tele- og fordelingsskap' %}BETONG-TELE-OG-FORDELINGSSKAP
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints Variant="Betongfundament, anvisersøyle">
    <SnapPoint X="0.0" Y="0.0" TargetSpace="anvisersøyle"/>
   </SnapPoints>
   <SnapPoints Variant="Betongfundament, monitor">
    <SnapPoint X="0.0" Y="0.0" TargetSpace="monitor"/>
   </SnapPoints>
   <SnapPoints Variant="Betongfundament, validator">
    <SnapPoint X="0.0" Y="0.0" TargetSpace="validator"/>
   </SnapPoints>
   <SnapPoints Variant="Betongfundament, tele- og fordelingsskap">
    <SnapPoint X="0.0" Y="0.0" TargetSpace="fordelingsskap"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTKU_SKF Skiltfeste" Layer="JBTKU_SPB" Color="ByLayer" Group="Underbygning/Skiltfester" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skiltfeste</RelationSpace>
  <AttachmentCategory Name="skiltfeste"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTKU@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTKU@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTKU@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Underbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Betongfundament (h=500mm)">
    <SetValue Key="name" Value="Ø60/b225/h500"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-SKF-SKILTFESTE-BETONGFOT-Ø60-145..215x500"/>
   </Variant>
   <Variant Name="Betongfundament (h=700mm)">
    <SetValue Key="name" Value="Ø60/b225/h700"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-SKF-SKILTFESTE-BETONGFOT-Ø60-145..215x700"/>
   </Variant>
   <Variant Name="Betongfundament (h=1200mm)">
    <SetValue Key="name" Value="Ø60/Ø200/h1200"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-SKF-SKILTFESTE-BETONGFOT-Ø60-Ø200x1200"/>
   </Variant>
   <Variant Name="Jordfundament">
    <SetValue Key="name" Value="Ø60/jordfund."/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-SKF-SKILTFESTE-JORDFUNDAMENT-Ø60-700"/>
   </Variant>
   <Variant Name="Jordspyd (60cm dypt)">
    <SetValue Key="name" Value="Ø60/jordspyd"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-SKF-SKILTFESTE-JORDSPYD-Ø60"/>
   </Variant>
   <Variant Name="Tilbakefylt grop">
    <SetValue Key="name" Value="Tilbakefylt grop"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-SKF-SKILTFESTE-TILBAKEFYLT-BALLASTGROP"/>
   </Variant>
   <Variant Name="Strips eller patentbånd">
    <SetValue Key="name" Value="Strips m.m."/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-SKF-SKILTFESTE-PATENTBÅND"/>
   </Variant>
   <Variant Name="Brakett mot gulv">
    <SetValue Key="name" Value="Ø60/gulv"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-SKF-SKILTFESTE-BRAKETT-MOT-GULV-Ø60-200x200x308"/>
   </Variant>
   <Variant Name="Brakett mot vegg">
    <SetValue Key="name" Value="Ø60/vegg"/>
    <SetValue Key="RelativeElevation" Value="2.5"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-SKF-SKILTFESTE-BRAKETT-MOT-VEGG-Ø60-150x120x119"/>
   </Variant>
   <Variant Name="Brakett på annen mast">
    <SetValue Key="name" Value="Brakett på annen mast"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KU-SKF-SKILTFESTE-BRAKETT-MOT-MAST"/>
   </Variant>
  </Variants>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>if variant:find("Brakett mot vegg") then return 2.5 else return 0 end</Formula>
  </LuaExpression>
  <LuaExpression Name="EarthingMethod">
   <Formula>"None"</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Betongfundament (h=500mm)" DisplayBlockName="NO-BN-2D-JBTKU_SKF-SKILTFESTE-BETONGFOT-60-225-500-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" EnableDirectionSetting="true" AddAngle="0"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betongfundament (h=700mm)" DisplayBlockName="NO-BN-2D-JBTKU_SKF-SKILTFESTE-BETONGFOT-60-225-700-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" EnableDirectionSetting="true" AddAngle="0"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betongfundament (h=1200mm)" DisplayBlockName="NO-BN-2D-JBTKU_SKF-SKILTFESTE-BETONGFOT-60-200-1200-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" EnableDirectionSetting="true" AddAngle="0"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Jordfundament" DisplayBlockName="NO-BN-2D-JBTKU_SKF-SKILTFESTE-JORDFUNDAMENT-60-700-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" EnableDirectionSetting="true" AddAngle="0"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Jordspyd (60cm dypt)" DisplayBlockName="NO-BN-2D-JBTKU_SKF-SKILTFESTE-JORDSPYD-60-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" EnableDirectionSetting="true" AddAngle="0"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Tilbakefylt grop" DisplayBlockName="NO-BN-2D-JBTKU_SKF-SKILTFESTE-TILBAKEFYLT-GROP-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" EnableDirectionSetting="true" AddAngle="0"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Strips eller patentbånd" DisplayBlockName="NO-BN-2D-JBTKU_SKF-SKILTFESTE-STRIPS-ELLER-PATENTBÅND-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" EnableDirectionSetting="true" AddAngle="0"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Brakett på annen mast" DisplayBlockName="NO-BN-2D-JBTKU_SKF-SKILTFESTE-BRAKETT-PÅ-ANNEN-MAST-{{SymbolMode}}" SnapToAlignment="true" SnapDistance="3.5">
   <JigSymbolAppearance EnableDirectionSetting="true" AddAngle="-90"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="Model3DName" Value="NO-BN-3D-KU-SKF-SKILTFESTE-BRAKETT-MOT-MAST"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Brakett mot vegg" DisplayBlockName="NO-BN-2D-JBTKU_SKF-SKILTFESTE-BRAKETT-MOT-VEGG-60-110-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" EnableDirectionSetting="true" AddAngle="0"/>
   <SetValue Key="RelativeElevation" Value="2.5"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Brakett mot gulv" DisplayBlockName="NO-BN-2D-JBTKU_SKF-SKILTFESTE-BRAKETT-MOT-GULV-60-308-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" EnableDirectionSetting="true" AddAngle="0"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTKU_SKF-SKILTFESTE-BETONGFOT-60-225-700-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTKU_SKF-SKILTFESTE
				{% if Variant == 'Betongfundament (h=500mm)' %}BETONGFOT-60-225-500
				{% elsif Variant == 'Betongfundament (h=700mm)' %}BETONGFOT-60-225-700
				{% elsif Variant == 'Betongfundament (h=1200mm)' %}BETONGFOT-60-200-1200
				{% elsif Variant == 'Jordfundament' %}JORDFUNDAMENT-60-700
				{% elsif Variant == 'Jordspyd (60cm dypt)' %}JORDSPYD-60
				{% elsif Variant == 'Brakett mot gulv' %}BRAKETT-MOT-GULV-60-308
				{% elsif Variant == 'Brakett på annen mast' %}BRAKETT-PÅ-ANNEN-MAST
				{% elsif Variant == 'Brakett mot vegg' %}BRAKETT-MOT-VEGG-60-110
				{% elsif Variant == 'Tilbakefylt grop' %}TILBAKEFYLT-GROP
				{% elsif Variant == 'Strips eller patentbånd' %}STRIPS-ELLER-PATENTBÅND
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="skilt"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="stolpe"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="skilt_mot_vei"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <LuaFunction Name="NOBN_trk_getFoulingPointReferenceMileage()" ReturnType="String" Description="Returns the reference mileage for the fouling point being farthest from the stock rail joint, using reference alignment mileage. Assumes caller is a switch unless argument 'v' is given.">
  <Constructor>String NOBN_trk_getFoulingPointReferenceMileage(tSwitch v)</Constructor>
  <Formula>
function NOBN_trk_getFoulingPointReferenceMileage(v)
	if v == nil then v = getObjectFromId(id) end
	if v.RcType ~= "KO-SPV Sporveksel" then
		return "Bad object type ["..RcType.."], 'KO-SPV Sporveksel' was expected"
	else
		local fp,dmax,w,i,d
		fp = getFoulingPoints(v)
		dmax = 0
		w = nil
		for i = 0,fp.count-1 do
			d = math.sqrt((fp[i].FoulingPoint.x - v.geocoord.x)^2 + (fp[i].FoulingPoint.y - v.geocoord.y)^2)
			if d > dmax then
				dmax = d
				w = fp[i].Branch1.ReferenceMileage
			end
		end
		if dmax == 0 then
			return "(no fouling points found)"
		else
			return w
		end
	end
end 
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_trk_getFoulingPointMileage()" ReturnType="String" Description="Returns the own alignment mileage for the fouling point being farthest from the stock rail joint, using own alignment mileage. Assumes caller is a switch unless argument 'v' is given.">
  <Constructor>String NOBN_trk_getFoulingPointMileage(tSwitch v)</Constructor>
  <Formula>
function NOBN_trk_getFoulingPointMileage(v)
	if v == nil then v = getObjectFromId(id) end
	if v.RcType ~= "KO-SPV Sporveksel" then
		return "Bad object type ["..RcType.."], 'KO-SPV Sporveksel' was expected"
	else
		local fp,dmax,w,i,d
		fp = getFoulingPoints(v)
		dmax = 0
		w = nil
		for i = 0,fp.count-1 do
			d = math.sqrt((fp[i].FoulingPoint.x - v.geocoord.x)^2 + (fp[i].FoulingPoint.y - v.geocoord.y)^2)
			if d > dmax then
				dmax = d
				w = fp[i].Branch1.Mileage
			end
		end
		if dmax == 0 then
			return "(no fouling points found)",_warning
		else
			return w
		end
	end
end 
		</Formula>
 </LuaFunction>
 <ObjectType DataType="RailCOMPLETEContinuation" Class="RailwayPlacedObject" Name="KO-SPF Sporfortsettelse" Layer="JBTKO_SPF" Color="ByLayer" Group="Overbygning/Sporfortsettelser">
  <RelationSpace>sporfortsettelse</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="1" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="0.5" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="-1.8" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="2.4" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RightSided and 4e-4 or -4e-4</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_ObjectType" DisplayName="Alignment type" Description="Both alignments must be railway tracks."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_Continuity" DisplayName="Continuity" Description="The tracks shall end in the same XY point (seen from the above)."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_Tangent" DisplayName="Tangent direction" Description="The tracks shall share the same tangent (i.e., XY-plane differentiability)."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_Elevation" DisplayName="Elevation" Description="The tracks shall share the same elevation (Z-coordinate)."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_Gradient" DisplayName="Gradient" Description="The tracks shall share the same gradient (pitch [o/oo])."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_Cant" DisplayName="Cant" Description="The tracks shall share the same cant (roll / superelevation [mm]) where they meet."/>
  <LuaExpression Name="mc_ObjectType" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionAlignmentCompatibility()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_Continuity" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionContinuity()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_Tangent" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionTangentMatch()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_Elevation" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionElevationMatch()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_Gradient" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionGradientMatch()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_Cant" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionCantMatch()</Formula>
  </LuaExpression>
  <LuaExpression Name="SymbolFrame">
   <Formula>NOBN__setSymbolFrame()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Sporfortsettelse">
   <Variant Name="Sporfortsettelse"/>
  </Variants>
  <LuaExpression Name="code">
   <Formula>_KO_SPF_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_KO_SPF_code()" ReturnType="String" Description="Returns a formated string containing the code properties '[Code1] --- [Code2]' for the two tracks that meet in a track continuation.">
   <Constructor>String _KO_SPF_code()</Constructor>
   <Formula>
				function _KO_SPF_code()
					local first,second
					if RcType ~= "KO-SPF Sporfortsettelse" then
						return _error,"Bad object type ["..RcType.."] - 'KO-SPF Sporfortsettelse' was expected"
					else
						first = Alignment
						if first == nil then
							return "Bad or missing alignment reference",_warning
						end
						second = TargetAlignment
						if second == nil then
							return "Bad or missing continuing alignment reference",_warning
						end
						if first.id == second.id then
							return _error,"Own alignment and continuing alignment cannot be the same ["..first.Code.."]"
						end
						if (MileageIncreasesTowardsLeft == 'True') then
							first,second = second,first 
						end
						return "["..first.Code.."] --- ["..second.Code.."]"
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>code</Formula>
  </LuaExpression>
  <LuaFunction Name="_KO_SPF_mileage()" ReturnType="Double" Description="Obtains the mileage from its alignment.">
   <Constructor>Double _KO_SPF_mileage()</Constructor>
   <Formula>
				function _KO_SPF_mileage()
					ai = getAlignmentInfo()
					if RC__isNan(ai.RelativePosition) then return nil,_info("Position not found.") end
					return ai.RelativePosition &lt; (Alignment.RcAlignment.HorizontalProfile.Length - ai.RelativePosition)
							and Alignment.RcAlignment.StartMileage or Alignment.RcAlignment.EndMileage
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Mileage">
   <Formula>_KO_SPF_mileage()</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Sporfortsettelse" DisplayBlockName="NO-BN-2D-JBTKO-CONNECTOR-SPLICE-0-0-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="" AllowSymbolMove="false" Layer="JBTKO$SPF" Color="ByBlock" LineType="ByBlock" LineWeight="ByBlock" Transparency="ByBlock">
   <Rotation Add180DegreesIfDirIsDown="true"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTKO_SPF-FORBINDELSE-FORTSETTELSE
				{% if ExtendingFromEnd == 'True' %}
					{% if ContinuingWithBegin == 'False' %}0-1{% else %}0-0{% endif %}
				{% else %}
					{% if ContinuingWithBegin == 'False' %}0-0{% else %}1-0{% endif %}
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="eCrossing" Class="RailwayPlacedObject" Name="KO-SPV Sporkryss" Layer="JBTKO_SPV" Color="ByLayer" Group="Overbygning/Sporkryss">
  <RelationSpace>sporkryss</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="1" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="0.5" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="-1.8" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="2.4" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RightSided and 4e-4 or -4e-4</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_ObjectType" DisplayName="Alignment type" Description="Both alignments must be railway tracks."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_Continuity" DisplayName="Continuity" Description="The crossing shall be located where the tracks' center lines cross (as seen from the above, ignoring Z)."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_Tangent" DisplayName="Tangent direction" Description="The tracks are expected to cross at 2:9 or 2:12 (corresponding to 1:9 or 1:12 coupled switches)."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_Elevation" DisplayName="Elevation" Description="The tracks shall share the same elevation (Z-coordinate) at the crossing point."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_GradientAndCant" DisplayName="Rail plane" Description="The tracks shall share the same combined gradient and cant (belonging to a possibly inclined plane in space)."/>
  <LuaExpression Name="mc_ObjectType" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionAlignmentCompatibility()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_Continuity" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionContinuity()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_Tangent" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionTangentMatch()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_Elevation" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionElevationMatch()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_GradientAndCant" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionGradientAndCantMatch()</Formula>
  </LuaExpression>
  <LuaExpression Name="SymbolFrame">
   <Formula>NOBN__setSymbolFrame()</Formula>
  </LuaExpression>
  <LuaExpression Name="Var1">
   <Formula>NOBN_trk_chkConnectionGradientAndCantMatch("Var1")</Formula>
  </LuaExpression>
  <LuaExpression Name="Var2">
   <Formula>NOBN_trk_chkConnectionGradientAndCantMatch("Var2")</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>_KO_SPV_crossingCode()</Formula>
  </LuaExpression>
  <LuaFunction Name="_KO_SPV_crossingCode()" ReturnType="String" Description="Returns a formated string containing the code properties '[Code1] -X- [Code2]' for the two tracks that meet in a track crossing.">
   <Constructor>String _KO_SPV_crossingCode()</Constructor>
   <Formula>
				function _KO_SPV_crossingCode()
					local first,second
					if RcType ~= "KO-SPV Sporkryss" then
						return "Bad object type ["..RcType.."], 'KO-SPV Sporkryss' was expected"
					else
						first = Alignment
						if first == nil then
							return "Bad or missing alignment reference",_warning
						end
						second = TargetAlignment
						if second == nil then
							return "Bad or missing intersecting alignment reference",_warning
						end
						if first.id == second.id then
							return "Alignment and intersecting alignment cannot be the same ["..first.Code.."]"
						end
						if (MileageIncreasesTowardsLeft == 'True') then
							first,second = second,first 
						end
						return "["..first.Code.."] -X- ["..second.Code.."]"
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="code">
   <Formula>_KO_SPV_crossingCode()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>code</Formula>
  </LuaExpression>
  <LuaExpression Name="dir">
   <Formula>"none"</Formula>
  </LuaExpression>
  <Variants DefaultValue="Crossing">
   <Variant Name="Crossing">
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-UNSPECIFIED"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Sporkryss" DisplayBlockName="NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORKRYSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORKRYSS-{{SymbolMode}}" AllowSymbolMove="false" Layer="JBTKO$SPV" Color="ByBlock" LineType="ByBlock" LineWeight="ByBlock" Transparency="ByBlock">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="0"/>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="eSwitch" Class="RailwayPlacedObject" Name="KO-SPV Sporveksel" Layer="JBTKO_SPV" Color="ByLayer" Group="Overbygning/Sporveksler" AttAddX="
					{% if Variant == '1:7 R190 FX 54E3 (KO-800157)' %}13.503
					{% elsif Variant == '1:9 R190 FX 54E3 (KO-701334)' %}10.523
					
					{% elsif Variant == '1:9 R300 FX 54E3 (KO-701287)' %}16.616
					{% elsif Variant == '1:12 R500 FX 54E3 (KO-701306)' %}20.797
					{% elsif Variant == '1:14 R760 FX 54E3 (KO-701319)' %}27.108
					
					{% elsif Variant == '1:9 R300 FX 60E1 (KO-701409)' %}16.615
					{% elsif Variant == '1:11,66 R500 FX 60E1 (KO-800068)' %}21.393
					{% elsif Variant == '1:12 R500 FX 60E1 (KO-800068)' %}20.797
					{% elsif Variant == '1:14 R760 FX 60E1 (KO-701372)' %}27.108
					{% elsif Variant == '1:15 R760 FX 60E1 (KO-701382)' %}25.305
					
					{% elsif Variant == '1:9 R300 BX 60E1 (KO-800099)' %}16.615
					{% elsif Variant == '1:8.21 R300 BX 60E1 (KO-065306)' %}18.188
					{% elsif Variant == '1:12 R500 BX 60E1 (KO-800090)' %}20.797
					{% elsif Variant == '1:14 R760 BX 60E1 (KO-800108)' %}27.108
					{% elsif Variant == '1:15 R760 BX 60E1 (KO-800164)' %}25.305
					{% elsif Variant == '1:18.4 R1200 BX 60E1 (KO-800081)' %}32.829
					{% elsif Variant == '1:26.1 R2500 BX 60E1 (KO-701399)' %}48.109
					{% endif %}" AttMirrorX="{% if quadrant == '2' or quadrant == '3' %}true{% else %}false{% endif %}" AttMirrorY="{% if quadrant == '1' or quadrant == '2' %}true{% else %}false{% endif %}">
  <ObjectTypeAttribute Key="quadrant" Value="{% if dir == 'up' and SwitchGeometry == 'left' %}1{% elsif dir == 'down' and SwitchGeometry == 'right' %}2{% elsif dir == 'down' and SwitchGeometry == 'left' %}3{% elsif dir == 'up' and SwitchGeometry == 'right' %}4{% endif %}"/>
  <SetValue Key="ConnectionCourse" Value="{% if insertionDirection == 'up' %}{{insertionSide}}{% else %}{% if insertionSide == 'right' %}left{% else %}right{% endif %}{% endif %}"/>
  <SetValue Key="SwitchGeometry" Value="{{ConnectionCourse}}"/>
  <SetValue Key="dir" Value="{{insertionDirection}}"/>
  <RelationSpace>sporveksel</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>Variant</Formula>
  </LuaExpression>
  <TextAttribute Annotative="true" BindingProperty="Variant" CadAttributeTag="BETEGNELSE" X="0" Y="6.5" Layer="JBTKO@SPV_TYPE" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RightSided and 4e-4 or -4e-4</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="SwitchControlAndLocking" DisplayName="Omlegging / Låsing" DefaultValue="RM" Category="Switch attributes" Description="The 'SwitchControlAndLocking' custom property [RM | PL | PR | PB | PN | HL | HR | HB | HN ] defines the switch control and locking type. The abbreviations mean: R='Remote controlled'. P='Pushbutton, electrically operated'. H='Hand operated (hand thrown)'. M='Machine locked (using a point machine or clamping device, with end position detection)'. L='Keylocked for left switch leg train movements'. R='Keylocked for right switch leg train movements'. B='Keylocked for both right and left switch leg train movements (one at a time)'. N='Not interlocked'.">
   <Values>
    <Value DisplayName="Sentralstilt, maskinlåst" Description="Remote controlled, machine locked">RM</Value>
    <Value DisplayName="Kastelodd, kontrollåst V" Description="Hand thrown, keylocked for left switch leg train movements">HL</Value>
    <Value DisplayName="Kastelodd, kontrollåst H" Description="Hand thrown, keylocked for right switch leg train movements">HR</Value>
    <Value DisplayName="Kastelodd, kontrollåst HV" Description="Hand thrown, keylocked for both right and left switch leg train movements (one at a time)">HB</Value>
    <Value DisplayName="Kastelodd, uforriglet" Description="Hand thrown, not interlocked">HN</Value>
    <Value DisplayName="Trykknapp, kontrollåst V" Description="Pushbutton controlled, keylocked for left switch leg train movements (one at a time)">PL</Value>
    <Value DisplayName="Trykknapp, kontrollåst H" Description="Pushbutton controlled, keylocked for right switch leg train movements">PR</Value>
    <Value DisplayName="Trykknapp, kontrollåst HV" Description="Pushbutton controlled, keylocked for both right and left switch leg train movements">PB</Value>
    <Value DisplayName="Trykknapp, uforriglet" Description="Pushbutton controlled, not interlocked">PN</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="SwitchElectrification" DisplayName="Ledningsføring" DefaultValue="Both" Category="Switch attributes" Description="The 'SwitchElectrification' custom property [Both | Left | Right | Unknown] defines the switch electrification (both/left/right driving directions are electrified).">
   <Values>
    <Value DisplayName="Begge spor" Description="Both switch legs are electrified">Both</Value>
    <Value DisplayName="Enkelt spor venstre" Description="Only left switch leg is electrified">Left</Value>
    <Value DisplayName="Enkelt spor høyre" Description="Only right switch leg is electrified">Right</Value>
    <Value DisplayName="Udefinert" Description="Switch leg electrification is unknown">Unknown</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="SwitchNoseType" DisplayName="Fast eller bevegelig kryss" DefaultValue="Fixed" Category="Switch attributes" Description="The 'SwitchNoseType' custom property [Fixed | Movable] defines the type of switch nose (point frog), fixed or movable.">
   <Values>
    <Value DisplayName="Fast">Fixed</Value>
    <Value DisplayName="Bevegelig">Movable</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_ObjectType" DisplayName="Alignment type" Description="Both alignments must be railway tracks."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_Continuity" DisplayName="Continuity" Description="The switch's stock rail joint must be located on its own alignment, the branching track shall start or end in the through track."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_Tangent" DisplayName="Tangent direction" Description="The tracks shall share the same tangent where they meet (i.e., XY-plane differentiability when turning out) ."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_Elevation" DisplayName="Elevation" Description="The through track and the branch track shall share the same elevation at the stock rail joint (Z-coordinate)."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_Gradient" DisplayName="Gradient" Description="The tracks shall share the same  gradient (pitch) at the stock rail joint [o/oo]."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_Cant" DisplayName="Cant" Description="The tracks shall share the same cant (roll / superelevation) at the stock rail joint [mm]."/>
  <LuaExpression Name="mc_ObjectType" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionAlignmentCompatibility()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_Continuity" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionContinuity()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_Tangent" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionTangentMatch()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_Elevation" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionElevationMatch()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_Gradient" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionGradientMatch()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_Cant" IsModelCheck="true">
   <Formula>NOBN_trk_chkConnectionCantMatch()</Formula>
  </LuaExpression>
  <LuaExpression Name="SymbolFrame">
   <Formula>NOBN__setSymbolFrame()</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>_KO_SPV_switchCode()</Formula>
  </LuaExpression>
  <LuaFunction Name="_KO_SPV_switchCode()" ReturnType="String" Description="Returns a formated string containing the code properties '[Code1] -X- [Code2]' for the two tracks that meet in a track crossing.">
   <Constructor>String _KO_SPV_switchCode()</Constructor>
   <Formula>
				function _KO_SPV_switchCode()
					local first,second
					if RcType ~= "KO-SPV Sporveksel" then
						return "Bad object type ["..RcType.."], 'KO-SPV Sporveksel' was expected"
					else
						first = Alignment
						if first == nil then
							return "Bad or missing alignment reference",_warning
						end
						second = TargetAlignment
						if second == nil then
							return "Bad or missing branching alignment reference",_warning
						end
						if first.id == second.id then
							return "Alignment and branching alignment cannot be the same ["..first.Code.."]"
						end
						return "["..Alignment.code.."] -&gt; ["..TargetAlignment.code.."]"
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="code">
   <Formula>_KO_SPV_switchCode()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>code</Formula>
  </LuaExpression>
  <LuaFunction Name="_KO_SPV_switchModel3DName()" ReturnType="String" Description="Returns Model3DName according to switch variant.">
   <Constructor>String _KO_SPV_switchModel3DName(tSwitch v)</Constructor>
   <Formula>
				function _KO_SPV_switchModel3DName(v)
					if v == nil then v = this end
					if v.RcType ~= "KO-SPV Sporveksel" then
						return "Bad object type ["..RcType.."], 'KO-SPV Sporveksel' was expected"
					end
					local sideOfTrack = SwitchGeometry == "right" and "H" or "V"
					local suffix = SwitchNoseType == "Fixed" and "-FX" or "-BX"
					if Variant == "1:7 R190 FX 54E3 (KO-800157)" then
						return "NO-BN-3D-KO-SPV-54E3-1-7-R190-"..sideOfTrack..suffix
					elseif Variant == "1:9 R190 FX 54E3 (KO-701334)" then
						return "NO-BN-3D-KO-SPV-54E3-1-9-R190-"..sideOfTrack..suffix					
					elseif Variant == "1:9 R300 FX 54E3 (KO-701287)" then
						return "NO-BN-3D-KO-SPV-54E3-1-9-R300-"..sideOfTrack..suffix
					elseif Variant == "1:9 R300 FX 60E1 (KO-701409)" then
						return "NO-BN-3D-KO-SPV-60E1-1-9-R300-"..sideOfTrack..suffix
					elseif Variant == "1:9 R300 BX 60E1 (KO-800099)" then
						return "NO-BN-3D-KO-SPV-60E1-1-9-R300-"..sideOfTrack..suffix
					elseif Variant == "1:11,66 R500 FX 60E1 (KO-800068)" then
						return "NO-BN-3D-KO-SPV-60E1-1-11.66-R500-"..sideOfTrack..suffix
					elseif Variant == "1:12 R500 FX 54E3 (KO-701306)" then
						return "NO-BN-3D-KO-SPV-54E3-1-12-R500-"..sideOfTrack..suffix
					elseif Variant == "1:12 R500 FX 60E1 (KO-800068)" then
						return "NO-BN-3D-KO-SPV-60E1-1-12-R500-"..sideOfTrack..suffix
					elseif Variant == "1:12 R500 BX 60E1 (KO-800090)" then
						return "NO-BN-3D-KO-SPV-60E1-1-12-R500-"..sideOfTrack..suffix
					elseif Variant == "1:14 R760 FX 54E3 (KO-701319)" then
						return "NO-BN-3D-KO-SPV-54E3-1-14-R760-"..sideOfTrack..suffix
					elseif Variant == "1:14 R760 FX 60E1 (KO-701372)" then
						return "NO-BN-3D-KO-SPV-60E1-1-14-R760-"..sideOfTrack..suffix
					elseif Variant == "1:14 R760 BX 60E1 (KO-800108)" then
						return "NO-BN-3D-KO-SPV-60E1-1-14-R760-"..sideOfTrack..suffix
					elseif Variant == "1:15 R760 FX 60E1 (KO-701382)" then
						return "NO-BN-3D-KO-SPV-60E1-1-15-R760-"..sideOfTrack..suffix
					elseif Variant == "1:15 R760 BX 60E1 (KO-800164)" then
						return "NO-BN-3D-KO-SPV-60E1-1-15-R760-"..sideOfTrack..suffix
					elseif Variant == "1:18.4 R1200 BX 60E1 (KO-800081)" then
						return "NO-BN-3D-KO-SPV-60E1-1-18.4-R1200-"..sideOfTrack..suffix
					elseif Variant == "1:26.1 R2500 BX 60E1 (KO-701399)" then
						return "NO-BN-3D-KO-SPV-60E1-1-26.1-R2500-"..sideOfTrack..suffix
					else 
						return "NO-BN-3D-UNSPECIFIED"
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DName">
   <Formula>_KO_SPV_switchModel3DName()</Formula>
  </LuaExpression>
  <LuaExpression Name="model">
   <Formula>Variant</Formula>
  </LuaExpression>
  <LuaExpression Name="trackContinueCourse">
   <Formula>_KO_SPV_trackContinueCourse()</Formula>
  </LuaExpression>
  <LuaFunction Name="_KO_SPV_trackContinueCourse()" ReturnType="String" Description="Returns a string holding either 'left' or 'right'. At present, 3-way switches (allowed in railML) are not modeled in RailCOMPLETE, i.e. ConnectionCourse being 'straight' leads to an error message.">
   <Constructor>String _KO_SPV_trackContinueCourse()</Constructor>
   <Formula>
				function _KO_SPV_trackContinueCourse()
					if (ConnectionCourse == "right") then 
						return "left"
					elseif (ConnectionCourse == "left") then
						return "right"
					elseif (ConnectionCourse == 'straight') then
						return "Cannot use 'straight' connection course in 2-way switch, use 'left' or 'right'",_warning
					else
						return "Bad connection course ["..ConnectionCourse.."]",_error
					end
				end
			</Formula>
  </LuaFunction>
  <Variants DefaultValue="Generell sporveksel">
   <Variant Name="Generell sporveksel" Description="A two-way switch which does not match any of the predefined geometries stored in the administration's switch definition file.">
    <SetValue Key="type" Value="other:unspecified"/>
    <SetValue Key="trackContinueRadius" Value="0"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-UNSPECIFIED"/>
   </Variant>
   <Variant Name="1:7 R190 FX 54E3 (KO-800157)" Description="1:7(R190) two-way switch, fixed nose crossing, 54-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="190"/>
    <SetValue Key="SwitchNoseType" Value="Fixed"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-54E3-1-7-R190-H-FX"/>
   </Variant>
   <Variant Name="1:9 R190 FX 54E3 (KO-701334)" Description="1:9(R190) two-way switch, fixed nose crossing, 54-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="190"/>
    <SetValue Key="SwitchNoseType" Value="Fixed"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-54E3-1-9-R190-H-FX"/>
   </Variant>
   <Variant Name="1:9 R300 FX 54E3 (KO-701287)" Description="1:9(R300) two-way switch, fixed nose crossing, 54-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="300"/>
    <SetValue Key="SwitchNoseType" Value="Fixed"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-54E3-1-9-R300-H-FX"/>
   </Variant>
   <Variant Name="1:9 R300 FX 60E1 (KO-701409)" Description="1:9(R300) two-way switch, fixed nose crossing, 60-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="300"/>
    <SetValue Key="SwitchNoseType" Value="Fixed"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-60E1-1-9-R300-H-FX"/>
   </Variant>
   <Variant Name="1:9 R300 BX 60E1 (KO-800099)" Description="1:9(R300) two-way switch, movable nose crossing, 60-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="300"/>
    <SetValue Key="SwitchNoseType" Value="Movable"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-60E1-1-9-R300-H-BX"/>
   </Variant>
   <Variant Name="1:11,66 R500 FX 60E1 (KO-800068)" Description="1:11.66(R500) two-way switch, fixed nose crossing, 60-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="500"/>
    <SetValue Key="SwitchNoseType" Value="Fixed"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-60E1-1-11.66-R500-H-FX"/>
   </Variant>
   <Variant Name="1:12 R500 FX 54E3 (KO-701306)" Description="1:12(R500) two-way switch, fixed nose crossing, 54-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="500"/>
    <SetValue Key="SwitchNoseType" Value="Fixed"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-54E3-1-12-R500-H-FX"/>
   </Variant>
   <Variant Name="1:12 R500 FX 60E1 (KO-800068)" Description="1:12(R500) two-way switch, fixed nose crossing, 60-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="500"/>
    <SetValue Key="SwitchNoseType" Value="Fixed"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-60E1-1-12-R500-H-FX"/>
   </Variant>
   <Variant Name="1:12 R500 BX 60E1 (KO-800090)" Description="1:12(R500) two-way switch, movabnle nose crossing, 60-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="500"/>
    <SetValue Key="SwitchNoseType" Value="Movable"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-60E1-1-12-R500-H-BX"/>
   </Variant>
   <Variant Name="1:14 R760 FX 54E3 (KO-701319)" Description="1:14(R760) two-way switch, fixed nose crossing, 54-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="760"/>
    <SetValue Key="SwitchNoseType" Value="Fixed"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-54E3-1-14-R760-H-FX"/>
   </Variant>
   <Variant Name="1:14 R760 FX 60E1 (KO-701372)" Description="1:14(R760) two-way switch, fixed nose crossing, 60-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="760"/>
    <SetValue Key="SwitchNoseType" Value="Fixed"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-60E1-1-14-R760-H-FX"/>
   </Variant>
   <Variant Name="1:14 R760 BX 60E1 (KO-800108)" Description="1:14(R760) two-way switch, movable nose crossing, 60-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="760"/>
    <SetValue Key="SwitchNoseType" Value="Movable"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-60E1-1-14-R760-H-BX"/>
   </Variant>
   <Variant Name="1:15 R760 FX 60E1 (KO-701382)" Description="1:15(R760) two-way switch, fixed nose crossing, 60-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="760"/>
    <SetValue Key="SwitchNoseType" Value="Fixed"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-60E1-1-15-R760-H-FX"/>
   </Variant>
   <Variant Name="1:15 R760 BX 60E1 (KO-800164)" Description="1:15(R760) two-way switch, movable nose crossing, 60-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="760"/>
    <SetValue Key="SwitchNoseType" Value="Movable"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-60E1-1-15-R760-H-BX"/>
   </Variant>
   <Variant Name="1:18.4 R1200 BX 60E1 (KO-800081)" Description="1:18.4(R1200) two-way switch, movable nose crossing, 60-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="1200"/>
    <SetValue Key="SwitchNoseType" Value="Movable"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-60E1-1-18.4-R1200-H-BX"/>
   </Variant>
   <Variant Name="1:26.1 R2500 BX 60E1 (KO-701399)" Description="1:26.1(R760) two-way switch, movable nose crossing, 60-kg rails.">
    <SetValue Key="type" Value="ordinarySwitch"/>
    <SetValue Key="trackContinueRadius" Value="2500"/>
    <SetValue Key="SwitchNoseType" Value="Movable"/>
    <SetValue Key="Thumbnail3DModel" Value="NO-BN-3D-KO-SPV-60E1-1-26.1-R2500-H-BX"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Generell sporveksel" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:7 R190 FX 54E3 (KO-800157)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-07-R190-54E3-FX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:9 R190 FX 54E3 (KO-701334)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-09-R190-54E3-FX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:9 R300 FX 54E3 (KO-701287)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-09-R300-54E3-FX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:12 R500 FX 54E3 (KO-701306)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-12-R500-54E3-FX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:14 R760 FX 54E3 (KO-701319)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-14-R760-54E3-FX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:9 R300 FX 60E1 (KO-701409)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-09-R300-60E1-FX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:11,66 R500 FX 60E1 (KO-800068)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-11.66-R500-60E1-FX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:12 R500 FX 60E1 (KO-800068)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-12-R500-60E1-FX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:14 R760 FX 60E1 (KO-701372)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-14-R760-60E1-FX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:15 R760 FX 60E1 (KO-701382)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-15-R760-60E1-FX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:9 R300 BX 60E1 (KO-800099)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-09-R300-60E1-BX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:8.21 R300 BX 60E1 (KO-065306)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-08.21-R300-60E1-BX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:12 R500 BX 60E1 (KO-800090)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-12-R500-60E1-BX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:14 R760 BX 60E1 (KO-800108)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-14-R760-60E1-BX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:15 R760 BX 60E1 (KO-800164)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-15-R760-60E1-BX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:18.4 R1200 BX 60E1 (KO-800081)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-18.4-R1200-60E1-BX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="1:26.1 R2500 BX 60E1 (KO-701399)" DisplayBlockName="{% if SymbolMode == 'Geographic' %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-26.1-R2500-60E1-BX-{{quadrant}}-Metric{% else %}NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic{% endif %}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="" AllowSymbolMove="false" Layer="JBTKO$SPV" Color="ByBlock" LineType="ByBlock" LineWeight="ByBlock" Transparency="ByBlock">
   <Rotation Add180DegreesIfDirIsDown="true" AddAngle="0"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL
				{% if SymbolMode == 'Geographic' %}
					{%    if Variant == '1:7 R190 FX 54E3 (KO-800157)'     %}07-R190-54E3-FX
					{% elsif Variant == '1:9 R190 FX 54E3 (KO-701334)'     %}09-R190-54E3-FX
					
					{% elsif Variant == '1:9 R300 FX 54E3 (KO-701287)'     %}09-R300-54E3-FX
					{% elsif Variant == '1:12 R500 FX 54E3 (KO-701306)'    %}12-R500-54E3-FX
					{% elsif Variant == '1:14 R760 FX 54E3 (KO-701319)'    %}14-R760-54E3-FX
					
					{% elsif Variant == '1:9 R300 FX 60E1 (KO-701409)'     %}09-R300-60E1-FX
					{% elsif Variant == '1:11,66 R500 FX 60E1 (KO-800068)' %}11.66-R500-60E1-FX
					{% elsif Variant == '1:12 R500 FX 60E1 (KO-800068)'    %}12-R500-60E1-FX
					{% elsif Variant == '1:14 R760 FX 60E1 (KO-701372)'    %}14-R760-60E1-FX
					{% elsif Variant == '1:15 R760 FX 60E1 (KO-701382)'    %}15-R760-60E1-FX
					  
					{% elsif Variant == '1:9 R300 BX 60E1 (KO-800099)'     %}09-R300-60E1-BX
					{% elsif Variant == '1:8.21 R300 BX 60E1 (KO-065306)'  %}08.21-R300-60E1-BX
					{% elsif Variant == '1:12 R500 BX 60E1 (KO-800090)'    %}12-R500-60E1-BX
					{% elsif Variant == '1:14 R760 BX 60E1 (KO-800108)'    %}14-R760-60E1-BX
					{% elsif Variant == '1:15 R760 BX 60E1 (KO-800164)'    %}15-R760-60E1-BX
					{% elsif Variant == '1:18.4 R1200 BX 60E1 (KO-800081)' %}18.4-R1200-60E1-BX
					{% elsif Variant == '1:26.1 R2500 BX 60E1 (KO-701399)' %}26.1-R2500-60E1-BX
					{% else %}GENERELL
					{% endif %}					
					{{quadrant}}-Metric
				{% else %}GENERELL-{{quadrant}}-Schematic
				{% endif %}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="" AllowSymbolMove="false" Layer="JBTEH$SPV" Color="ByBlock" LineType="ByBlock" LineWeight="ByBlock" Transparency="ByBlock">
   <Rotation Add180DegreesIfDirIsDown="true" AddAngle="0"/>
   <BlockNameFormat JoinBy="-">
				{% if SymbolMode == 'Geographic' and Variant != 'Generell sporveksel' %}
					NO-BN-2D-JBTEH_SPV-FORBINDELSE-SPORVEKSEL
					{%    if Variant == '1:7 R190 FX 54E3 (KO-800157)'     %}07-R190-54E3-FX
					{% elsif Variant == '1:9 R190 FX 54E3 (KO-701334)'     %}09-R190-54E3-FX
					
					{% elsif Variant == '1:9 R300 FX 54E3 (KO-701287)'     %}09-R300-54E3-FX
					{% elsif Variant == '1:12 R500 FX 54E3 (KO-701306)'    %}12-R500-54E3-FX
					{% elsif Variant == '1:14 R760 FX 54E3 (KO-701319)'    %}14-R760-54E3-FX
					
					{% elsif Variant == '1:9 R300 FX 60E1 (KO-701409)'     %}09-R300-60E1-FX
					{% elsif Variant == '1:11,66 R500 FX 60E1 (KO-800068)' %}11.66-R500-60E1-FX
					{% elsif Variant == '1:12 R500 FX 60E1 (KO-800068)'    %}12-R500-60E1-FX
					{% elsif Variant == '1:14 R760 FX 60E1 (KO-701372)'    %}14-R760-60E1-FX
					{% elsif Variant == '1:15 R760 FX 60E1 (KO-701382)'    %}15-R760-60E1-FX
					
					{% elsif Variant == '1:9 R300 BX 60E1 (KO-800099)'     %}09-R300-60E1-BX
					{% elsif Variant == '1:8.21 R300 BX 60E1 (KO-065306)'  %}08.21-R300-60E1-BX
					{% elsif Variant == '1:12 R500 BX 60E1 (KO-800090)'    %}12-R500-60E1-BX
					{% elsif Variant == '1:14 R760 BX 60E1 (KO-800108)'    %}14-R760-60E1-BX
					{% elsif Variant == '1:15 R760 BX 60E1 (KO-800164)'    %}15-R760-60E1-BX
					{% elsif Variant == '1:18.4 R1200 BX 60E1 (KO-800081)' %}18.4-R1200-60E1-BX
					{% elsif Variant == '1:26.1 R2500 BX 60E1 (KO-701399)' %}26.1-R2500-60E1-BX
					{% else %}BAD_Variant
					{% endif %}
					{% if SwitchElectrification == 'Both' %}BOTH_LEGS_ELECTRIFIED
					{% elsif SwitchElectrification == 'Left' or SwitchElectrification == 'Right' %}ONE_LEG_ELECTRIFIED
					{% elsif SwitchElectrification == 'Unknown' %}UNKNOWN_ELECTRIFICATION
					{% else %}BAD_SwitchElectrification
					{% endif %}
					{{quadrant}}-Metric
				{% elsif SymbolMode == 'Geographic' and Variant == 'Generell sporveksel' %}
					NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Metric
				{% else %}
					NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic
				{% endif %}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="" AllowSymbolMove="false" Layer="JBTSA$SPV" Color="ByBlock" LineType="ByBlock" LineWeight="ByBlock" Transparency="ByBlock">
   <Rotation Add180DegreesIfDirIsDown="true" AddAngle="0"/>
   <BlockNameFormat JoinBy="-">
				{% if SymbolMode == 'Geographic' and Variant != 'Generell sporveksel' %}
					NO-BN-2D-JBTSA_SPV-FORBINDELSE-SPORVEKSEL
					{%    if Variant == '1:7 R190 FX 54E3 (KO-800157)'     %}07-R190-54E3-FX
					{% elsif Variant == '1:9 R190 FX 54E3 (KO-701334)'     %}09-R190-54E3-FX
				
					{% elsif Variant == '1:9 R300 FX 54E3 (KO-701287)'     %}09-R300-54E3-FX
					{% elsif Variant == '1:12 R500 FX 54E3 (KO-701306)'    %}12-R500-54E3-FX
					{% elsif Variant == '1:14 R760 FX 54E3 (KO-701319)'    %}14-R760-54E3-FX
				
					{% elsif Variant == '1:9 R300 FX 60E1 (KO-701409)'     %}09-R300-60E1-FX
					{% elsif Variant == '1:11,66 R500 FX 60E1 (KO-800068)' %}11.66-R500-60E1-FX
					{% elsif Variant == '1:12 R500 FX 60E1 (KO-800068)'    %}12-R500-60E1-FX
					{% elsif Variant == '1:14 R760 FX 60E1 (KO-701372)'    %}14-R760-60E1-FX
					{% elsif Variant == '1:15 R760 FX 60E1 (KO-701382)'    %}15-R760-60E1-FX
				
					{% elsif Variant == '1:9 R300 BX 60E1 (KO-800099)'     %}09-R300-60E1-BX
					{% elsif Variant == '1:8.21 R300 BX 60E1 (KO-065306)'  %}08.21-R300-60E1-BX
					{% elsif Variant == '1:12 R500 BX 60E1 (KO-800090)'    %}12-R500-60E1-BX
					{% elsif Variant == '1:14 R760 BX 60E1 (KO-800108)'    %}14-R760-60E1-BX
					{% elsif Variant == '1:15 R760 BX 60E1 (KO-800164)'    %}15-R760-60E1-BX
					{% elsif Variant == '1:18.4 R1200 BX 60E1 (KO-800081)' %}18.4-R1200-60E1-BX
					{% elsif Variant == '1:26.1 R2500 BX 60E1 (KO-701399)' %}26.1-R2500-60E1-BX
					{% else %}BAD_Variant
					{% endif %}
					{%    if SwitchControlAndLocking == 'RM' %}REMOTE_CONTROLLED
					{% elsif SwitchControlAndLocking == 'PL' or SwitchControlAndLocking == 'PR' or SwitchControlAndLocking == 'PB'%}KEYLOCKED
					{% elsif SwitchControlAndLocking == 'HL' or SwitchControlAndLocking == 'HR' or SwitchControlAndLocking == 'HB' %}KEYLOCKED
					{% elsif SwitchControlAndLocking == 'PN' or SwitchControlAndLocking == 'HN' %}NOT_INTERLOCKED
					{% else %}BAD_SwitchControlAndLocking
					{% endif %}
					{{quadrant}}-Metric
				{% elsif SymbolMode == 'Geographic' and Variant == 'Generell sporveksel' %}
					NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Metric
				{% else %}
					NO-BN-2D-JBTKO_SPV-FORBINDELSE-SPORVEKSEL-GENERELL-{{quadrant}}-Schematic
				{% endif %}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="" AllowSymbolMove="false" DrawOrder="top" Layer="JBTSA$SPV" Color="ByBlock" LineType="ByBlock" LineWeight="ByBlock" Transparency="ByBlock">
   <Rotation Add180DegreesIfDirIsDown="true" AddAngle="{% if Dir == 'down' %}180{% else %}0{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				{% if SymbolMode == 'Geographic' and Variant != 'Generell sporveksel' %}
					{% if SwitchControlAndLocking == 'PR' or SwitchControlAndLocking == 'PL' or SwitchControlAndLocking == 'PB' or SwitchControlAndLocking == 'PN' %}NO-BN-2D-JBTSA_SPV-FORBINDELSE-SPORVEKSEL-CIRCLE-AT-TANGENT-INTERSECTION
						{%    if Variant == '1:7 R190 FX 54E3 (KO-800157)' %}13.503
						{% elsif Variant == '1:9 R190 FX 54E3 (KO-701334)' %}10.523
						
						{% elsif Variant == '1:9 R300 FX 54E3 (KO-701287)' %}16.616
						{% elsif Variant == '1:12 R500 FX 54E3 (KO-701306)' %}20.797
						{% elsif Variant == '1:14 R760 FX 54E3 (KO-701319)' %}27.108
							
						{% elsif Variant == '1:9 R300 FX 60E1 (KO-701409)' %}16.615
						{% elsif Variant == '1:11,66 R500 FX 60E1 (KO-800068)' %}21.393
						{% elsif Variant == '1:12 R500 FX 60E1 (KO-800068)' %}20.797
						{% elsif Variant == '1:14 R760 FX 60E1 (KO-701372)' %}27.108
						{% elsif Variant == '1:15 R760 FX 60E1 (KO-701382)' %}25.305
							
						{% elsif Variant == '1:9 R300 BX 60E1 (KO-800099)' %}16.615
						{% elsif Variant == '1:8.21 R300 BX 60E1 (KO-065306)' %}18.188
						{% elsif Variant == '1:12 R500 BX 60E1 (KO-800090)' %}20.797
						{% elsif Variant == '1:14 R760 BX 60E1 (KO-800108)' %}27.108
						{% elsif Variant == '1:15 R760 BX 60E1 (KO-800164)' %}25.305
						{% elsif Variant == '1:18.4 R1200 BX 60E1 (KO-800081)' %}32.829
						{% elsif Variant == '1:26.1 R2500 BX 60E1 (KO-701399)' %}48.109
						{% endif %}
						Metric
					{% endif %}
				{% endif %}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="" AllowSymbolMove="false" Layer="JBTSA$SPV" Color="ByBlock" LineType="ByBlock" LineWeight="ByBlock" Transparency="ByBlock">
   <Rotation Add180DegreesIfDirIsDown="true" AddAngle="{% if Dir == 'down' %}180{% else %}0{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				{% if SymbolMode == 'Geographic' %}
					{%    if SwitchControlAndLocking == 'RL' or SwitchControlAndLocking == 'PL' or SwitchControlAndLocking == 'HL' %}NO-BN-2D-JBTSA_SPV-FORBINDELSE-SPORVEKSEL-KEYLOCKED-LEFT-Metric
					{% elsif SwitchControlAndLocking == 'RR' or SwitchControlAndLocking == 'PR' or SwitchControlAndLocking == 'HR' %}NO-BN-2D-JBTSA_SPV-FORBINDELSE-SPORVEKSEL-KEYLOCKED-RIGHT-Metric
					{% elsif SwitchControlAndLocking == 'RB' or SwitchControlAndLocking == 'PB' or SwitchControlAndLocking == 'HB' %}NO-BN-2D-JBTSA_SPV-FORBINDELSE-SPORVEKSEL-KEYLOCKED-BOTH-Metric
					{% endif %}
				{% else %}
					{%    if SwitchControlAndLocking == 'RL' or SwitchControlAndLocking == 'PL' or SwitchControlAndLocking == 'HL' %}NO-BN-2D-JBTSA_SPV-FORBINDELSE-SPORVEKSEL-KEYLOCKED-LEFT-Schematic
					{% elsif SwitchControlAndLocking == 'RR' or SwitchControlAndLocking == 'PR' or SwitchControlAndLocking == 'HR' %}NO-BN-2D-JBTSA_SPV-FORBINDELSE-SPORVEKSEL-KEYLOCKED-RIGHT-Schematic
					{% elsif SwitchControlAndLocking == 'RB' or SwitchControlAndLocking == 'PB' or SwitchControlAndLocking == 'HB' %}NO-BN-2D-JBTSA_SPV-FORBINDELSE-SPORVEKSEL-KEYLOCKED-BOTH-Schematic
					{% endif %}
				{% endif %}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="0" Y="2.5" TargetSpace="lokalstiller"/>
    <SnapPoint X="0" Y="-2.5" TargetSpace="lokalstiller"/>
    <SnapPoint X="0" Y="0" TargetSpace="sporvekseltunge"/>
   </SnapPoints>
   <SnapPoints Variant="1:7 R190 FX 54E3 (KO-800157)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="18.6474" Y="1.672" TargetSpace="sporsperre"/>
    <SnapPoint X="18.7666" Y="-0.751" TargetSpace="sporsperre"/>
   </SnapPoints>
   <SnapPoints Variant="1:9 R190 FX 54E3 (KO-701334)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="0.84186177" Y="1.75188526" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="0.85" Y="-1.75" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="3.89367110" Y="1.75002238" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="3.93" Y="-1.75" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="16.8592" Y="0.7495" TargetSpace="skinneskjøt"/>
    <SnapPoint X="16.8907" Y="0" TargetSpace="skinneskjøt"/>
    <SnapPoint X="18.0416" Y="1.613" TargetSpace="sporsperre"/>
    <SnapPoint X="18.1541" Y="-0.751" TargetSpace="sporsperre"/>
   </SnapPoints>
   <SnapPoints Variant="1:9 R300 FX 54E3 (KO-701287)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="22.3197" Y="1.5846" TargetSpace="sporsperre"/>
    <SnapPoint X="22.4967" Y="-0.751" TargetSpace="sporsperre"/>
   </SnapPoints>
   <SnapPoints Variant="1:12 R500 FX 54E3 (KO-701306)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="30.1318" Y="1.6611" TargetSpace="sporsperre"/>
    <SnapPoint X="30.2045" Y="-0.751" TargetSpace="sporsperre"/>
   </SnapPoints>
   <SnapPoints Variant="1:14 R760 FX 54E3 (KO-701319)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="37.3852" Y="1.672" TargetSpace="sporsperre"/>
    <SnapPoint X="37.4448" Y="-0.751" TargetSpace="sporsperre"/>
   </SnapPoints>
   <SnapPoints Variant="1:9 R300 FX 60E1 (KO-701409)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="1.00109109" Y="1.75225524" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="1.008" Y="-1.75" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="5.20487399" Y="1.79794469" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="5.237" Y="-1.75" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="15.7829" Y="0.4187" TargetSpace="skinneskjøt"/>
    <SnapPoint X="15.79" Y="0" TargetSpace="skinneskjøt"/>
    <SnapPoint X="21.1317" Y="1.5006" TargetSpace="sporsperre"/>
    <SnapPoint X="21.2113" Y="-0.7535" TargetSpace="sporsperre"/>
   </SnapPoints>
   <SnapPoints Variant="1:11,66 R500 FX 60E1 (KO-800068)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}"/>
   <SnapPoints Variant="1:12 R500 FX 60E1 (KO-800068)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="0.98448908" Y="1.75094744" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="0.988" Y="-1.75" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="4.03771321" Y="1.76617386" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="4.052" Y="-1.75" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="7.66716867" Y="1.80887624" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="7.695" Y="-1.75" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="19.4052" Y="0.3768" TargetSpace="skinneskjøt"/>
    <SnapPoint X="19.41" Y="0" TargetSpace="skinneskjøt"/>
    <SnapPoint X="27.3045" Y="1.4990" TargetSpace="sporsperre"/>
    <SnapPoint X="27.3639" Y="-0.7552" TargetSpace="sporsperre"/>
   </SnapPoints>
   <SnapPoints Variant="1:14 R760 FX 60E1 (KO-701372)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="37.3153" Y="1.671" TargetSpace="sporsperre"/>
    <SnapPoint X="37.3749" Y="-0.7535" TargetSpace="sporsperre"/>
   </SnapPoints>
   <SnapPoints Variant="1:15 R760 FX 60E1 (KO-701382)">
    <SnapPoint X="37.3151" Y="1.6786" TargetSpace="sporsperre"/>
    <SnapPoint X="37.3751" Y="-0.761" TargetSpace="sporsperre"/>
   </SnapPoints>
   <SnapPoints Variant="1:9 R300 BX 60E1 (KO-800099)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="1.00031" Y="2.51464" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="0.99801" Y="-2.49891" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="5.21105" Y="2.5611" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="5.25295" Y="-2.49892" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="28.02852" Y="3.83954" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="28.32818" Y="-2.50416" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="23.4996" Y="1.6885" TargetSpace="sporsperre"/>
    <SnapPoint X="23.5911" Y="-0.7542" TargetSpace="sporsperre"/>
   </SnapPoints>
   <SnapPoints Variant="1:8.21 R300 BX 60E1 (KO-065306)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="1.00031" Y="2.51464" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="0.99801" Y="-2.49891" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="5.21105" Y="2.5611" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="5.25295" Y="-2.49892" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="28.02852" Y="3.83954" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="28.32818" Y="-2.50416" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="23.4996" Y="1.6885" TargetSpace="sporsperre"/>
    <SnapPoint X="23.5911" Y="-0.7542" TargetSpace="sporsperre"/>
   </SnapPoints>
   <SnapPoints Variant="1:12 R500 BX 60E1 (KO-800090)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}"/>
   <SnapPoints Variant="1:14 R760 BX 60E1 (KO-800108)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="0.99406" Y="2.51234" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="1.00151" Y="-2.4974" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="3.9443" Y="2.52334" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="3.9612" Y="-2.4974" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="8.16892" Y="2.555" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="8.19147" Y="-2.4974" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="45.06364" Y="3.8519" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="45.26258" Y="-2.4974" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="47.32825" Y="3.99248" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="47.56431" Y="-2.4974" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="37.264" Y="1.68161" TargetSpace="sporsperre"/>
    <SnapPoint X="37.32603" Y="-0.75487" TargetSpace="sporsperre"/>
   </SnapPoints>
   <SnapPoints Variant="1:15 R760 BX 60E1 (KO-800164)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}"/>
   <SnapPoints Variant="1:18.4 R1200 BX 60E1 (KO-800081)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="1.03614926" Y="1.75065431" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="1.038" Y="-1.75" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="5.73931411" Y="1.76471472" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="5.748" Y="-1.75" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="11.15110340" Y="1.80338543" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="11.168" Y="-1.75" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="56.74078823" Y="3.08518750" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="56.8541" Y="-1.75" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="59.21244152" Y="3.20359522" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="59.3335" Y="-1.75" TargetSpace="sporvekseldrivmaskin"/>
    <SnapPoint X="37.3372" Y="0.8103" TargetSpace="skinneskjøt"/>
    <SnapPoint X="37.3152" Y="-0.3382" TargetSpace="skinneskjøt"/>
    <SnapPoint X="50.6568" Y="1.8293" TargetSpace="sporsperre"/>
    <SnapPoint X="50.7118" Y="-0.7616" TargetSpace="sporsperre"/>
   </SnapPoints>
   <SnapPoints Variant="1:26.1 R2500 BX 60E1 (KO-701399)" MirrorAboutAlignmentTangent="{% if SwitchGeometry == 'left' and dir == 'down' %}true{% elsif SwitchGeometry == 'right' and dir == 'up' %}true{% else %}false{% endif %}" MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}">
    <SnapPoint X="67.5777" Y="1.6748" TargetSpace="sporsperre"/>
    <SnapPoint X="67.6106" Y="-0.761" TargetSpace="sporsperre"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="KO-TNG Sporvekseltunge" Layer="JBTKO_TNG" Color="ByLayer" Group="Overbygning/Tunger" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>sporvekseltunge</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="3" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="0.5" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="2" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="4" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RightSided and 4e-4 or -4e-4</Formula>
  </LuaExpression>
  <Variants DefaultValue="1:9 R190">
   <Variant Name="1:9 R190">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO_TNG-TUNGE-09-R190"/>
   </Variant>
   <Variant Name="1:9 R300">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO_TNG-TUNGE-09-R300"/>
   </Variant>
   <Variant Name="1:11,66 R500">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO_TNG-TUNGE-11.66-R500"/>
   </Variant>
   <Variant Name="1:12 R500">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO_TNG-TUNGE-12-R500"/>
   </Variant>
   <Variant Name="1:14 R760">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO_TNG-TUNGE-14-R760"/>
   </Variant>
   <Variant Name="1:15 R760">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO_TNG-TUNGE-15-R760"/>
   </Variant>
   <Variant Name="1:18.4 R1200">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO_TNG-TUNGE-18.4-R1200"/>
   </Variant>
   <Variant Name="1:26.1 R2500">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO_TNG-TUNGE-26.1-R2500"/>
   </Variant>
  </Variants>
  <LuaExpression Name="Alignment">
   <Formula>_KO_TNG_alignment()</Formula>
  </LuaExpression>
  <LuaFunction Name="_KO_TNG_alignment()" ReturnType="ObjRef" Description="Obtains the alignment [ObjRef] from its switch, related with 'Er tunge for sporveksel'.">
   <Constructor>ObjRef _KO_TNG_alignment()</Constructor>
   <Formula>
				function _KO_TNG_alignment()
					s = "Er tunge for sporveksel"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return getPropertyValue("Alignment"), _info("UNFINISHED - Relate with '"..s.."' to a switch (turnout).")
					else
						return r[0].Alignment,_info("Alignment inherited with relation '"..s.."' from switch '"..RC__identify(r[0]).."' ")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Mileage">
   <Formula>_KO_TNG_mileage()</Formula>
  </LuaExpression>
  <LuaFunction Name="_KO_TNG_mileage()" ReturnType="Double" Description="Obtains the mileage from its switch, related with 'Er tunge for sporveksel'.">
   <Constructor>Double _KO_TNG_mileage()</Constructor>
   <Formula>
				function _KO_TNG_mileage()
					s = "Er tunge for sporveksel"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return getPropertyValue("mileage"),_info("UNFINISHED - Relate with '"..s.."' to a switch (turnout).")
					else
						return r[0].Mileage,_info("Mileage inherited with relation '"..s.."' from switch '"..RC__identify(r[0]).."' ")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="code">
   <Formula>_KO_TNG_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_KO_TNG_code()" ReturnType="String" Description="Obtains the code from its switch, related with 'Er tunge for sporveksel'.">
   <Constructor>Double _KO_TNG_code()</Constructor>
   <Formula>
				function _KO_TNG_code()
					s = "Er tunge for sporveksel"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return _info("UNFINISHED - Relate with '"..s.."' to a switch (turnout).")
					else
						return r[0].code,_info("Code inherited with relation '"..s.."' from switch "..RC__identify(r[0]).."' ")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>"Tng."..code</Formula>
  </LuaExpression>
  <LuaExpression Name="dir">
   <Formula>_KO_TNG_dir()</Formula>
  </LuaExpression>
  <LuaFunction Name="_KO_TNG_dir()" ReturnType="Enum" Description="Obtains the direction (dir) [up | down] enum from its switch, related with 'Er tunge for sporveksel'.">
   <Constructor>Double _KO_TNG_dir()</Constructor>
   <Formula>
				function _KO_TNG_dir()
					s = "Er tunge for sporveksel"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return _info("UNFINISHED - Relate with '"..s.."' to a switch (turnout).")
					else
						return r[0].dir,_info("EnableDirectionSetting (dir) inherited with relation '"..s.."' from switch '"..RC__identify(r[0]).."' ")
					end
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="Enumeration" Name="NormalPosition" DisplayName="Normalstilling" DefaultValue="Unknown" Description="Normalstilling viser tungestilling i samsvar med relé-normalstilling i sikringsanleggets relétegninger. 'Venstre' betyr at toget vil kjøre til venstre, 'Høyre' betyr kjøring til høyre.">
   <Values>
    <Value DisplayName="Ukjent">Unknown</Value>
    <Value DisplayName="Venstre">Left</Value>
    <Value DisplayName="Midtstilling">Straight</Value>
    <Value DisplayName="Høyre">Right</Value>
   </Values>
  </CustomAttribute>
  <InsertPointObject DisplayName="Sporvekseltunge 1:9 R190" VariantName="1:9 R190" DisplayBlockName="NO-BN-2D-JBTKO_TNG-SPORVEKSELTUNGE-09-R190-V-Metric" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfLeftSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="NormalPosition" Value="{% if RightSided %}{% if dir == 'up' %}Left{% else %}Right{% endif %}{% else %}{% if dir == 'up' %}Right{% else %}Left{% endif %}{% endif %}"/>
  </InsertPointObject>
  <InsertPointObject DisplayName="Sporvekseltunge 1:9 R300" VariantName="1:9 R300" DisplayBlockName="NO-BN-2D-JBTKO_TNG-SPORVEKSELTUNGE-09-R300-V-Metric" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfLeftSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="NormalPosition" Value="{% if RightSided %}{% if dir == 'up' %}Left{% else %}Right{% endif %}{% else %}{% if dir == 'up' %}Right{% else %}Left{% endif %}{% endif %}"/>
  </InsertPointObject>
  <InsertPointObject DisplayName="Sporvekseltunge 1:11,66 R500" VariantName="1:11,66 R500" DisplayBlockName="NO-BN-2D-JBTKO_TNG-SPORVEKSELTUNGE-11.66-R500-V-Metric" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfLeftSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="NormalPosition" Value="{% if RightSided %}{% if dir == 'up' %}Left{% else %}Right{% endif %}{% else %}{% if dir == 'up' %}Right{% else %}Left{% endif %}{% endif %}"/>
  </InsertPointObject>
  <InsertPointObject DisplayName="Sporvekseltunge 1:12 R500" VariantName="1:12 R500" DisplayBlockName="NO-BN-2D-JBTKO_TNG-SPORVEKSELTUNGE-12-R500-V-Metric" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfLeftSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="NormalPosition" Value="{% if RightSided %}{% if dir == 'up' %}Left{% else %}Right{% endif %}{% else %}{% if dir == 'up' %}Right{% else %}Left{% endif %}{% endif %}"/>
  </InsertPointObject>
  <InsertPointObject DisplayName="Sporvekseltunge 1:14 R760" VariantName="1:14 R760" DisplayBlockName="NO-BN-2D-JBTKO_TNG-SPORVEKSELTUNGE-14-R760-V-Metric" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfLeftSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="NormalPosition" Value="{% if RightSided %}{% if dir == 'up' %}Left{% else %}Right{% endif %}{% else %}{% if dir == 'up' %}Right{% else %}Left{% endif %}{% endif %}"/>
  </InsertPointObject>
  <InsertPointObject DisplayName="Sporvekseltunge 1:15 R760" VariantName="1:15 R760" DisplayBlockName="NO-BN-2D-JBTKO_TNG-SPORVEKSELTUNGE-15-R760-V-Metric" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfLeftSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="NormalPosition" Value="{% if RightSided %}{% if dir == 'up' %}Left{% else %}Right{% endif %}{% else %}{% if dir == 'up' %}Right{% else %}Left{% endif %}{% endif %}"/>
  </InsertPointObject>
  <InsertPointObject DisplayName="Sporvekseltunge 1:18.4 R1200" VariantName="1:18.4 R1200" DisplayBlockName="NO-BN-2D-JBTKO_TNG-SPORVEKSELTUNGE-18.4-R1200-V-Metric" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfLeftSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="NormalPosition" Value="{% if RightSided %}{% if dir == 'up' %}Left{% else %}Right{% endif %}{% else %}{% if dir == 'up' %}Right{% else %}Left{% endif %}{% endif %}"/>
  </InsertPointObject>
  <InsertPointObject DisplayName="Sporvekseltunge 1:26.1 R2500" VariantName="1:26.1 R2500" DisplayBlockName="NO-BN-2D-JBTKO_TNG-SPORVEKSELTUNGE-26.1-R2500-V-Metric" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfLeftSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="NormalPosition" Value="{% if RightSided %}{% if dir == 'up' %}Left{% else %}Right{% endif %}{% else %}{% if dir == 'up' %}Right{% else %}Left{% endif %}{% endif %}"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="" AllowSymbolMove="false">
   <Rotation Add180DegreesIfDirIsDown="true"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTKO_TNG-SPORVEKSELTUNGE
				{% if Variant == '1:9 R190' %}09-R190
				{% elsif Variant == '1:9 R300' %}09-R300
				{% elsif Variant == '1:11,66 R500' %}11.66-R500
				{% elsif Variant == '1:12 R500' %}12-R500
				{% elsif Variant == '1:14 R760' %}14-R760
                {% elsif Variant == '1:15 R760' %}15-R760
				{% elsif Variant == '1:18.4 R1200' %}18.4-R1200
				{% elsif Variant == '1:26.1 R2500' %}26.1-R2500
				{% endif %}
				{% if NormalPosition == 'Right' %}H
				{% elsif NormalPosition == 'Left' %}V
				{% else %}H
				{% endif %}
				Metric
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETELabel" Class="RailwayPlacedObject" Name="JBTFE_DIV OCP område Etikett for sporveksel" Layer="JBTFE_ETIKETTER" Color="ByLayer" Group="Overbygning/Etiketter">
  <RelationSpace>etikett</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="D-1-2-HRB-025-018-SPV">
   <Variant Name="D-1-2-HLB-025-018-SPV"/>
   <Variant Name="D-1-2-HRB-025-018-SPV"/>
  </Variants>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),5)</Formula>
  </LuaExpression>
  <LuaExpression Name="ReferenceMileage">
   <Formula>
				r = RC__getCollectionOfRelatedObjects("Er etikett for anything")
				return r[0] and r[0].ReferenceMileage or getPropertyValue(ReferenceMileage)
			</Formula>
  </LuaExpression>
  <LuaExpression Name="LabelItem1">
   <Formula>NOBN_trk_getSwitchLabelItem1(MileageIncreasesTowardsLeft)</Formula>
  </LuaExpression>
  <LuaExpression Name="LabelItem2">
   <Formula>NOBN_trk_getSwitchLabelItem2(MileageIncreasesTowardsLeft)</Formula>
  </LuaExpression>
  <LuaExpression Name="LabelItem3">
   <Formula>NOBN_trk_getSwitchLabelItem3()</Formula>
  </LuaExpression>
  <InsertPointObject DisplayName="Sporveksel SS/Mid (km-retn mot høyre)" VariantName="D-1-2-HRB-025-018-SPV" DisplayBlockName="NO-BN-2D-JBTFE-LABEL-D-1-2-HRB-025-018-{{SymbolMode}}">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject DisplayName="Sporveksel SS/Mid (km-retn mot venstre)" VariantName="D-1-2-HLB-025-018-SPV" DisplayBlockName="NO-BN-2D-JBTFE-LABEL-D-1-2-HLB-025-018-{{SymbolMode}}">
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTFE-LABEL-D-1-2-HRB-025-018" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="true" AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTFE-LABEL
				{% if Variant == 'D-1-2-HLB-025-018-SPV' %}D-1-2-HLB-025-018
				{% elsif Variant == 'D-1-2-HRB-025-018-SPV' %}D-1-2-HRB-025-018
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
   <SymbolAttribute Tag="T01">
    <Value>{{LabelItem1}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="T02">
    <Value>{{LabelItem2}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="T03">
    <Value>{{LabelItem3}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="eTrack" Class="RailwayAlignment" Name="JBTKO_SPO Spor" Layer="JBTKO_SPO" Color="ByLayer" Group="Overbygning/Spor">
  <RelationSpace>spor</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="1" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="0.5" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="-1.8" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="2.4" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <AlignmentSystems DefaultSystemName="Normalspor 1435 mm">
   <AlignmentSystem Name="Normalspor 1435 mm" CantGauge="1.500" AlignmentGauge="1.435" QuickMode3DLiftWithCant="true"/>
  </AlignmentSystems>
  <CustomAttribute DataType="Enumeration" Name="InclinedRailProfile" DisplayName="Skråstilt skinneprofil" DefaultValue="1:20" Description="Rails are either upright or inclined 1:20 [ Opprett | 1:20 ].">
   <Values>
    <Value>Opprett</Value>
    <Value>1:20</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="QuickMode3D" Value="True"/>
  <Variants DefaultValue="Sviller og skinner">
   <Variant Name="Sviller og skinner">
    <SetValue Key="Sweep3D" Value="False"/>
    <SetValue Key="InclinedRailProfile" Value="1:20"/>
   </Variant>
   <Variant Name="Sviller og skinner med ledeskinner">
    <SetValue Key="Sweep3D" Value="False"/>
    <SetValue Key="InclinedRailProfile" Value="1:20"/>
   </Variant>
   <Variant Name="Kun ledeskinner">
    <SetValue Key="Sweep3D" Value="True"/>
    <SetValue Key="InclinedRailProfile" Value="Opprett"/>
   </Variant>
   <Variant Name="Skinnestrenger 60E1">
    <SetValue Key="Sweep3D" Value="True"/>
    <SetValue Key="InclinedRailProfile" Value="1:20"/>
   </Variant>
   <Variant Name="Skinnestrenger 60E1 med 54E3 ledeskinner">
    <SetValue Key="Sweep3D" Value="True"/>
    <SetValue Key="InclinedRailProfile" Value="1:20"/>
   </Variant>
   <Variant Name="Skinnestrenger 54E3 ledeskinner">
    <SetValue Key="Sweep3D" Value="True"/>
    <SetValue Key="InclinedRailProfile" Value="Opprett"/>
   </Variant>
   <Variant Name="Skinnestrenger 54E3">
    <SetValue Key="Sweep3D" Value="True"/>
    <SetValue Key="InclinedRailProfile" Value="1:20"/>
   </Variant>
   <Variant Name="Skinnestrenger 49E1">
    <SetValue Key="Sweep3D" Value="True"/>
    <SetValue Key="InclinedRailProfile" Value="Opprett"/>
   </Variant>
   <Variant Name="Skinnestrenger 39 Kg">
    <SetValue Key="Sweep3D" Value="True"/>
    <SetValue Key="InclinedRailProfile" Value="Opprett"/>
   </Variant>
  </Variants>
  <LuaExpression Name="name">
   <Formula>"["..code.."]"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient(_position)</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant(_position)</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_trk_getLiftFromCant(_position)</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTKO_SPO_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKO_SPO_Model3DName()" ReturnType="String" Description="Obtains the 'Model3DName' for this track.">
   <Constructor>String _JBTKO_SPO_Model3DName()</Constructor>
   <Formula>
				function _JBTKO_SPO_Model3DName()
					if Variant == "Sviller og skinner" then
						return Sweep3D and "NO-BN-SWEEP-KO-SPO-SVILLE-MED-SKINNER-ENKEL"
										or "NO-BN-3D-KO-SPO-SVILLE-MED-SKINNER-ENKEL"
				
					elseif Variant == "Sviller og skinner med ledeskinner" then
						return Sweep3D and "NO-BN-SWEEP-KO-SPO-SVILLE-MED-SKINNER-OG-LEDESKINNER-ENKEL"
										or "NO-BN-3D-KO-SPO-SVILLE-MED-SKINNER-OG-LEDESKINNER-ENKEL"
				
					elseif Variant == "Kun ledeskinner" then
						return Sweep3D and "NO-BN-SWEEP-KO-SKI-SPORVIDDE-CC536-LEDESKINNER-ENKEL"
								or "NO-BN-3D-FE-DIV-UKJENT"
				
					elseif Variant == "Skinnestrenger 60E1" then
						if InclinedRailProfile == "1:20" then
							return Sweep3D and "NO-BN-SWEEP-KO-SKI-SPORVIDDE-1435-SKINNER-60E1-1_20"
								or "NO-BN-3D-KO-SVI-SVILLE-BETONG-JBV60-DETALJERT-MED-SKINNER-60E1-1_20"
						else
							return Sweep3D and "NO-BN-SWEEP-KO-SKI-SPORVIDDE-1435-SKINNER-60E1-OPPRETT"
								or "NO-BN-3D-FE-DIV-UKJENT"
						end
				
					elseif Variant == "Skinnestrenger 60E1 med 54E3 ledeskinner" then
						if InclinedRailProfile == "1:20" then
							return Sweep3D and "NO-BN-SWEEP-KO-SKI-SPORVIDDE-1435-SKINNER-60E1-1_20-MED-LEDESKINNER-54E3"
								or "NO-BN-3D-KO-SVI-SVILLE-BETONG-JBV60-DETALJERT-MED-SKINNER-60E1-1_20"
						else --Opprett
							return "NO-BN-3D-FE-DIV-UKJENT"
						end
				
					elseif Variant == "Skinnestrenger 54E3 ledeskinner" then
						if InclinedRailProfile == "1:20" then
							return "NO-BN-3D-FE-DIV-UKJENT"
						else --Opprett
							return Sweep3D and "NO-BN-SWEEP-KO-SKI-SPORVIDDE-CC536-LEDESKINNER-54E3"
								or "NO-BN-3D-FE-DIV-UKJENT"
						end
				
					elseif Variant == "Skinnestrenger 54E3" then
						if InclinedRailProfile == "1:20" then
							return Sweep3D and "NO-BN-SWEEP-KO-SKI-SPORVIDDE-1435-SKINNER-54E3-1_20"
								or "NO-BN-3D-FE-DIV-UKJENT"
						else --Opprett
							return Sweep3D and "NO-BN-SWEEP-KO-SKI-SPORVIDDE-1435-SKINNER-54E3-OPPRETT"
								or "NO-BN-3D-FE-DIV-UKJENT"
						end
				
					elseif Variant == "Skinnestrenger 49E1" then
						if InclinedRailProfile == "1:20" then
							return Sweep3D and "NO-BN-SWEEP-KO-SKI-SPORVIDDE-1435-SKINNER-49E1-1_20"
								or "NO-BN-3D-FE-DIV-UKJENT"
						else --Opprett
							return Sweep3D and "NO-BN-SWEEP-KO-SKI-SPORVIDDE-1435-SKINNER-49E1-OPPRETT"
								or "NO-BN-3D-FE-DIV-UKJENT"
						end
				
					elseif Variant == "Skinnestrenger 39 Kg" then
						if InclinedRailProfile == "1:20" then
							return Sweep3D and "NO-BN-SWEEP-KO-SKI-SPORVIDDE-1435-SKINNER-39KG-1_20"
								or "NO-BN-3D-FE-DIV-UKJENT"
						else --Opprett
							return Sweep3D and "NO-BN-SWEEP-KO-SKI-SPORVIDDE-1435-SKINNER-39KG-OPPRETT"
								or "NO-BN-3D-FE-DIV-UKJENT"
						end
				
					else
						return "Ukjent Variant ["..Variant.."]",_warning
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DSeparation">
   <Formula>Sweep3D and RC__getNearest3DStep(8.0) or 0.60</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DOffset">
   <Formula>Sweep3D and 0 or Model3DSeparation/2</Formula>
  </LuaExpression>
  <PropertyPrompt Key="code" DefaultValue="Spor" AcceptEmptyValue="false"/>
  <InsertAlignment VariantName="Sviller og skinner" DisplayBlockName="NO-BN-2D-JBTKO-THUMBNAIL-RAILWAY-TRACK-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
   <IncludeSegmentType>Spiral</IncludeSegmentType>
   <SetValue Key="AlignmentSystem" Value="Normalspor 1435 mm"/>
   <SetValue Key="HorizontalGeometryPointObjectTypeRef" Value="JBTKO_HOT Horisontaltrasépunkt"/>
   <SetValue Key="VerticalGeometryPointObjectTypeRef" Value="JBTKO_VET Vertikaltrasépunkt"/>
   <SetValue Key="HorizontalGeometrySectionObjectTypeRef" Value="JBTKO_HOS Horisontal traseseksjon"/>
   <SetValue Key="VerticalGeometrySectionObjectTypeRef" Value="JBTKO_VES Vertikal traseseksjon"/>
  </InsertAlignment>
  <InsertAlignment VariantName="Sviller og skinner med ledeskinner" DisplayBlockName="NO-BN-2D-JBTKO-THUMBNAIL-RAILWAY-TRACK-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
   <IncludeSegmentType>Spiral</IncludeSegmentType>
   <SetValue Key="AlignmentSystem" Value="Normalspor 1435 mm"/>
   <SetValue Key="HorizontalGeometryPointObjectTypeRef" Value="JBTKO_HOT Horisontaltrasépunkt"/>
   <SetValue Key="VerticalGeometryPointObjectTypeRef" Value="JBTKO_VET Vertikaltrasépunkt"/>
   <SetValue Key="HorizontalGeometrySectionObjectTypeRef" Value="JBTKO_HOS Horisontal traseseksjon"/>
   <SetValue Key="VerticalGeometrySectionObjectTypeRef" Value="JBTKO_VES Vertikal traseseksjon"/>
  </InsertAlignment>
 </ObjectType>
 <ObjectType DataType="tElementWithAlignment" Class="RailwayAlignment" Name="JBTKO_SKI Kjørekant" Layer="JBTKO_SKI_Kjørekant" Color="ByLayer" Group="Overbygning/Spor">
  <RelationSpace>kjørekant</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="1" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="0.5" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="-1.8" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="2.4" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <AlignmentSystems DefaultSystemName="Kjørekant">
   <AlignmentSystem Name="Kjørekant" CantGauge="1.500" AlignmentGauge="1.435" QuickMode3DLiftWithCant="false"/>
  </AlignmentSystems>
  <Variants DefaultValue="Kjørekant">
   <Variant Name="Kjørekant"/>
  </Variants>
  <SetValue Key="Sweep3D" Value="True"/>
  <SetValue Key="QuickMode3D" Value="True"/>
  <LuaExpression Name="Model3DName">
   <Formula>
				if Color:upper() == "RED" then
					--Visualize un-insulated (pure return current) rail:
					return "NO-BN-SWEEP-FE-WIR-WIRE-RED-DIAMETER-050"
				else if Color:upper() == "GREEN" then
					--Visualize insulated (signal) rail:
					return "NO-BN-SWEEP-FE-WIR-WIRE-GREEN-DIAMETER-050"
				else
					return "NO-BN-SWEEP-FE-WIR-WIRE-GRÅ-DIAMETER-005"
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>"["..code.."]"</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>_JBTKO_SKI_PointOfContact_code(nil)</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKO_SKI_PointOfContact_code()" ReturnType="String" Description="Obtains the code for a rail point-of-contact alignment, deduced from an insulation in the associated track at the rail's start point.">
   <Constructor>String _JBTKO_SKI_PointOfContact_code([AlignmentRef alg])</Constructor>
   <Formula>
				function _JBTKO_SKI_PointOfContact_code(alg)
					if alg == nil then alg = this end
					if alg.RcAlignment == nil then return "*** ERROR - Bad argument ["..RC__identify(alg).."] - has no RcAlignment." end
					local tol = 0.050 --[m]
					ps = alg.RcAlignment.StartPoint
					pe = alg.RcAlignment.EndPoint
					trackGauge = alg.AlignmentSystemAlignmentGauge
					--Get point near midpoint of rail:
					pm = getAlignmentInfo(alg.id,(ps.X+pe.X)/2.0,(ps.Y+pe.Y)/2.0).Point 
					--Note: If the rail alignment starts or ends in a connection element, then there may be several close candidates:
					ts = getClosestTracks(ps.X,ps.Y):
						filter(function (x)
								local d = getAlignmentInfo(x.id,ps.X,ps.Y).DistanceToAlignment
								return math.abs(math.abs(d) - trackGauge/2.0) &lt; tol
							end)
					n = getCollectionLength(ts)
					if n == 0  then
						return "UNFINISHED - Did not find a track associated with this rail."
					elseif n == 1  then
						ds = getAlignmentInfo(ts[0].id,ps.X,ps.Y).DistanceToAlignment
						return (ds &lt; 0 and "V. skinne " or "H. skinne ")..ts[0].code
					else
						--Switch, or continuation in a crossing - more than one
						--track lies exctly one half track cauge from start of rail.
						--Note: We cannot use start+end point, since the rail's associated 
						--track may deviate from the same track axis in both ends.
						for i=0,n-1 do
							ds = getAlignmentInfo(ts[i].id,ps.X,ps.Y).DistanceToAlignment
							dm = getAlignmentInfo(ts[i].id,pm.X,pm.Y).DistanceToAlignment
							if math.abs(ds-dm) &lt; tol then
								--We have probably found two parallel rails with suitable gauge distance:
								return (ds &lt; 0 and "V. skinne " or "H. skinne ")..ts[i].code
							end
						end
						return "UNFINISHED - Could not identify an associated track."
					end
				end
			</Formula>
  </LuaFunction>
  <PropertyPrompt Key="code" DefaultValue="Kjørekant" AcceptEmptyValue="false"/>
  <InsertAlignment VariantName="Kjørekant" DisplayBlockName="NO-BN-2D-JBTKO-THUMBNAIL-SKINNE-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
   <IncludeSegmentType>Spiral</IncludeSegmentType>
   <SetValue Key="AlignmentSystem" Value="Kjørekant"/>
  </InsertAlignment>
 </ObjectType>
 <ObjectType DataType="tDelimitedOrientedElement" Class="RailwayPlacedObject" Name="JBTKO_HOT Horisontaltrasépunkt" Layer="JBTKO_HOT" Color="ByLayer" Group="Overbygning/Karakteristiske trasépunkter" AttAddX="0" AttAddY="{% assign mitl = {{alignmentRotation | minus:ucsRotation | cosisnegative}} %}{% if mitl == 'True' %}180{% else %}0{% endif %}">
  <RelationSpace>horisontaltrasépunkt</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="3" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="0.5" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="2" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="4" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),3)</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name=""/>
   <Variant Name="KP"/>
   <Variant Name="FKP"/>
   <Variant Name="OB"/>
   <Variant Name="OE"/>
   <Variant Name="FOB"/>
   <Variant Name="FOE"/>
   <Variant Name="RB"/>
   <Variant Name="RE"/>
   <Variant Name="REB"/>
  </Variants>
  <LuaExpression Name="Mileage">
   <Formula>NOBN_trk_getMileageForNearestHorizontalVertex()</Formula>
  </LuaExpression>
  <LuaFunction Name="NOBN_trk_getMileageForNearestHorizontalVertex()" ReturnType="Double" Description="Analyzes local alignment geometry and cant and returns nearest vertex' mileage.">
   <Constructor>Double NOBN_trk_getMileageForNearestHorizontalVertex()</Constructor>
   <Formula>
			function NOBN_trk_getMileageForNearestHorizontalVertex()
				alignmentInfo = getAlignmentInfo()
				nearest = alignmentInfo.NearestHorizontalVertex
				-- insert "RE,RB" if cant station is closest
				nearestCant = alignmentInfo.NearestCantVertex
				vertexMileage = nearest.Item1 and nearest.Item1.EndMileage or nearest.Item2.StartMileage
				if nearestCant ~= null and math.abs(nearestCant.Mileage - alignmentInfo.Mileage) &lt; math.abs(vertexMileage - alignmentInfo.Mileage)
										and math.abs(vertexMileage - alignmentInfo.Mileage) &gt; 1 then
					return nearestCant.Mileage
				else
					if nearest.Item2 ~= null then return nearest.Item2.StartMileage end
					if nearest.Item1 ~= null then return nearest.Item1.EndMileage end
					return 0.0,error_info("Bad data for function NOBN_trk_getMileageForNearestHorizontalVertex().")
				end
			end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Variant">
   <Formula>NOBN_trk_getVariantForNearestHorizontalVertex()</Formula>
  </LuaExpression>
  <LuaFunction Name="NOBN_trk_getVariantForNearestHorizontalVertex()" ReturnType="String" Description="Analyzes local alignment geometry and cant and returns nearest vertex' Variant, i.e. type of geometric vertex/cant.">
   <Constructor>String NOBN_trk_getVariantForNearestHorizontalVertex()</Constructor>
   <Formula>
				function NOBN_trk_getVariantForNearestHorizontalVertex()
-- XXXXXXXXXXXXXXXXXXXXXXXXX TODO CLFEY 2019-08-02 XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
					alignmentInfo = getAlignmentInfo()
					nearest = alignmentInfo.NearestHorizontalVertex
					nearestCant = alignmentInfo.NearestCantVertex
					-- insert "RE,RB" if cant station is closest
					vertexMileage = nearest.Item1 and nearest.Item1.EndMileage or nearest.Item2.StartMileage
					if nearestCant ~= null and math.abs(nearestCant.Mileage - alignmentInfo.Mileage) &lt; math.abs(vertexMileage - alignmentInfo.Mileage)
										and math.abs(vertexMileage - alignmentInfo.Mileage) &gt; 1 then
						if math.abs(nearestCant.GradientIn) &gt; 0 and math.abs(nearestCant.GradientOut) &gt; 0 then
							return "REB"
						elseif (nearestCant.GradientIn == nil or nearestCant.GradientIn == 0) and math.abs(nearestCant.GradientOut) &gt; 0 then
							return "RB"
						elseif (nearestCant.GradientOut == nil or nearestCant.GradientOut == 0) and math.abs(nearestCant.GradientIn) &gt; 0 then
							return "RE"
						end
					end
					if nearest == nil then return "" end
					if nearest.Item1 ~= null and nearest.Item1.Type == "Curve" then
						if nearest.Item2 == nil or nearest.Item2.Type == "Straight" then return "KP" end
						if nearest.Item2.Type == "Curve" then return "FKP" end
					end
					if nearest.Item2 ~= null and nearest.Item2.Type == "Curve" then
						if nearest.Item1 == nil or nearest.Item1.Type == "Straight" then return "KP" end
					end
					if nearest.Item1 ~= null and nearest.Item1.Type == "Clothoid" then
						if nearest.Item2 ~= null and nearest.Item2.Type == "Clothoid" then 
							if nearest.Item1.RadiusStart &lt; nearest.Item1.RadiusEnd then return "FOB" else return "FOE" end
						end
						if nearest.Item1.RadiusStart &lt; nearest.Item1.RadiusEnd then return "OB" else return "OE" end
					end
					if nearest.Item2 ~= null and nearest.Item2.Type == "Clothoid" then 
						if nearest.Item2.RadiusEnd &lt; nearest.Item2.RadiusStart then return "OB" else return "OE" end
					end
					return ""
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="code">
   <Formula>Variant</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>code</Formula>
  </LuaExpression>
  <InsertPointObject DisplayName="Horisontalt geometripunkt" VariantName="Horisontalt geometripunkt" DisplayBlockName="NO-BN-2D-JBTKO-TRACK-AXIS-CRITICAL-LOCATION" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTKO-ALIGNMENT-CHARACTERISTIC-POINT-{{SymbolMode}}" AllowSymbolMove="true"/>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tDelimitedOrientedElement" Class="RailwayPlacedObject" Name="JBTKO_VET Vertikaltrasépunkt" Layer="JBTKO_VET" Color="ByLayer" Group="Overbygning/Karakteristiske trasépunkter" AttAddX="0" AttAddY="{% assign boolsk = {{alignmentRotation | minus:ucsRotation | cosisnegative}} %}{% if boolsk == 'True' %}180{% else %}0{% endif %}">
  <RelationSpace>vertikaltrasépunkt</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="3" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="0.5" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="2" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="4" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),3)</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name=""/>
   <Variant Name="HBP"/>
   <Variant Name="LBP"/>
  </Variants>
  <CustomAttribute DataType="String" Name="Info"/>
  <LuaExpression Name="Info">
   <Formula>_JBTKO_VET_info()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTKO_VET_info()" ReturnType="String" Description="Analyzes local alignment profile and returns nearest vertex' 'Variant', i.e. type of geometric vertex/cant.">
   <Constructor>String _JBTKO_VET_info()</Constructor>
   <Formula>
				function _JBTKO_VET_info()
					nearest = getAlignmentInfo().NearestVerticalVertex
					if nearest == nil then return "" end
					str = nearest.Radius &gt; 0 and "Radius=" .. string.format("%.3f", nearest.Radius) .. "\\P" or ""
					return str .. "Elevation=" .. string.format("%.3f", nearest.Elevation)
				end
			</Formula>
  </LuaFunction>
  <TextAttribute Annotative="true" BindingProperty="Info" CadAttributeTag="INFO" X="0" Y="-3" Justify="MiddleCenter" Height="0.9" MText="true"/>
  <LuaExpression Name="Mileage">
   <Formula>NOBN_trk_getMileageForNearestVerticalVertex()</Formula>
  </LuaExpression>
  <LuaFunction Name="NOBN_trk_getMileageForNearestVerticalVertex()" ReturnType="Double" Description="Analyzes local alignment profile and returns nearest vertex' mileage.">
   <Constructor>Double NOBN_trk_getMileageForNearestVerticalVertex()</Constructor>
   <Formula>
				function NOBN_trk_getMileageForNearestVerticalVertex()
					nearest = getAlignmentInfo().NearestVerticalVertex
					return nearest == nil and nil or nearest.Mileage
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Variant">
   <Formula>NOBN_trk_getVariantForNearestVerticalVertex()</Formula>
  </LuaExpression>
  <LuaFunction Name="NOBN_trk_getVariantForNearestVerticalVertex()" ReturnType="String" Description="Analyzes local alignment profile and returns nearest vertex' 'Variant', i.e. type of geometric vertex/cant.">
   <Constructor>String NOBN_trk_getVariantForNearestVerticalVertex()</Constructor>
   <Formula>
				function NOBN_trk_getVariantForNearestVerticalVertex()
					nearest = getAlignmentInfo().NearestVerticalVertex
					if nearest == nil then return null end
					if nearest.Type == "Crest" then return "HBP" end
					if nearest.Type == "Sag" then return "LBP" end
					return ""
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="code">
   <Formula>Variant</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>code</Formula>
  </LuaExpression>
  <InsertPointObject DisplayName="Vertikalt geometripunkt" VariantName="Vertikalt geometripunkt" DisplayBlockName="NO-BN-2D-JBTKO-TRACK-AXIS-CRITICAL-LOCATION" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTKO-ALIGNMENT-CHARACTERISTIC-POINT-{{SymbolMode}}" AllowSymbolMove="true"/>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETESection" Class="RailwayPlacedObject" Name="JBTKO_HOS Horisontal traseseksjon" Layer="JBTKO_HOS" Color="ByLayer" Group="Overbygning/Traseseksjoner" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),3)</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <LuaExpression Name="Variant">
   <Formula>
				type = getAlignmentInfo().segment.Type
				if type == "Straight" then return "Rettlinje" end
				if type == "Curve" then return "Kurve" end
				if type == "Clothoid" then return "Overgangskurve" end
			</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Rettlinje">
    <LuaExpression Name="code">
     <Formula>return "L=" .. string.format("%.3f",getAlignmentInfo().Segment.Length) .. "\\PRL"</Formula>
    </LuaExpression>
   </Variant>
   <Variant Name="Kurve">
    <LuaExpression Name="code">
     <Formula>return "L=" .. string.format("%.3f",getAlignmentInfo().Segment.Length) .. "\\PR = " .. string.format("%.3f",getAlignmentInfo().Segment.RadiusStart)</Formula>
    </LuaExpression>
   </Variant>
   <Variant Name="Overgangskurve">
    <LuaExpression Name="code">
     <Formula>
						alignmentInfo = getAlignmentInfo()
						segment = alignmentInfo.Segment
						
						if segment.RadiusStart == math.huge  then 
							text1 = "RL"
						else
							text1 = "R" .. string.format("%.3f",segment.RadiusStart)
						end
						
						if segment.RadiusEnd == math.huge then
							text2 = "RL"
						else
							text2 = "R" .. string.format("%.3f",segment.RadiusEnd)
						end
						
						vector = alignmentInfo.Tangent
						TangentAngle2D = math.atan(vector.Y,vector.Z)
						if (math.cos(getUcsAngle() - TangentAngle2D) &lt; 0) then
							text = "&lt;" .. text2 .. "-" .. text1 .. "&gt;"
						else
							text = "&lt;" .. text1 .. "-" .. text2 .. "&gt;"
						end
						
						return "L=" .. string.format("%.3f",getAlignmentInfo().Segment.Length) .. "\\P" .. text
					</Formula>
    </LuaExpression>
   </Variant>
  </Variants>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),3)</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Rettlinje" DisplayBlockName="NO-BN-2D-JBTFE-SECTION-JIGSYMBOL-Schematic" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="SymbolFrame" Value="SectionFrame-2.75"/>
   <SetValue Key="DelimiterType" Value="JBTKO_HOT Horisontaltrasépunkt"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTFE-SECTION-SYMBOL" AllowSymbolMove="true">
   <Rotation AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
   <SymbolAttribute Tag="X">
    <Value>{{code}}</Value>
   </SymbolAttribute>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTFE-SECTION-SYMBOL
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETESection" Class="RailwayPlacedObject" Name="JBTKO_VES Vertikal traseseksjon" Layer="JBTKO_VES" Color="ByLayer" Group="Overbygning/Traseseksjoner" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),3)</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>string.format("%.1f",getAlignmentInfo().gradient) .. " {\\H0.5x;\\A2;0}/{\\H0.5x;\\A0;00}"</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Vertikal Traseseksjon" DisplayBlockName="NO-BN-2D-JBTFE-SECTION-JIGSYMBOL-Schematic" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="SymbolFrame" Value="SectionFrame-2.75"/>
   <SetValue Key="DelimiterType" Value="JBTKO_VET Vertikaltrasépunkt"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTFE-SECTION-SYMBOL" AllowSymbolMove="true">
   <Rotation AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
   <SymbolAttribute Tag="X">
    <Value>{{code}}</Value>
   </SymbolAttribute>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTFE-SECTION-SYMBOL
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
 </ObjectType>
 <ObjectType DataType="tElementWithAlignment" Class="RailwayAlignment" Name="JBTKO_PLF Plattformkant" Layer="JBTKO_PLF" Color="ByLayer" Group="Overbygning/Plattformer">
  <RelationSpace>plattformkant</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <Variants DefaultValue="Plattformelementer, betong, 1m bredde, 2m lengde, høyre side">
   <Variant Name="Plattformelementer, betong, 1m bredde, 2m lengde, høyre side">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-PLF-PLATTFORMELEMENT-1000-2000-HSIDE"/>
    <SetValue Key="Model3DSeparation" Value="2.0"/>
    <SetValue Key="Model3DOffset" Value="1.0"/>
   </Variant>
   <Variant Name="Plattformelementer, betong, 1m bredde, 2m lengde, venstre side">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-PLF-PLATTFORMELEMENT-1000-2000-VSIDE"/>
    <SetValue Key="Model3DSeparation" Value="2.0"/>
    <SetValue Key="Model3DOffset" Value="1.0"/>
   </Variant>
  </Variants>
  <AlignmentSystems DefaultSystemName="Plattformkant">
   <AlignmentSystem Name="Plattformkant" CantGauge="0.000" AlignmentGauge="0.000" QuickMode3DLiftWithCant="false"/>
  </AlignmentSystems>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient(_position)</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant(_position)</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_get </Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>code</Formula>
  </LuaExpression>
  <SetValue Key="QuickMode3D" Value="True"/>
  <SetValue Key="SweepMode3D" Value="False"/>
  <PropertyPrompt Key="code" DefaultValue="Plattformkant" AcceptEmptyValue="false"/>
  <InsertAlignment VariantName="Plattformelementer, betong, 1m bredde, 2m lengde, høyre side" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-UNSPECIFIED-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Plattformelementer, betong, 1m bredde, 2m lengde, venstre side" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-UNSPECIFIED-Schematic" DefaultToTangentContinuity="true">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
  </InsertAlignment>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTKO_SST Sporstopper" Layer="JBTKO_SST" Color="ByLayer" Group="Overbygning/Sporstoppere" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>sporstopper</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Fast">
   <Variant Name="Fast">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SST-SPORSTOPPER-FAST"/>
   </Variant>
   <Variant Name="Glidbar">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SST-SPORSTOPPER-GLIDBAR"/>
   </Variant>
   <Variant Name="Hydraulisk">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SST-SPORSTOPPER-HYDRAULISK"/>
   </Variant>
  </Variants>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>NOBN_trk_getDistanceToAlignmentFromCantAndTrackPlaneDistance(RightSided and 4e-4 or -4e-4)</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>"Sst."..Variant:sub(1,4).."."..code</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Fast" DisplayBlockName="NO-BN-2D-JBTSA_SSP-SPORSTOPPER-FAST-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Glidbar" DisplayBlockName="NO-BN-2D-JBTSA_SSP-SPORSTOPPER-GLIDBAR-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Hydraulisk" DisplayBlockName="NO-BN-2D-JBTSA_SSP-SPORSTOPPER-HYDRAULISK-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_SSP-SPORSTOPPER-FAST" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
			NO-BN-2D-JBTSA_SSP-SPORSTOPPER
			{% if variant == 'Fast' %}FAST
			{% elsif variant == 'Glidbar' %}GLIDBAR
			{% elsif variant == 'Hydraulisk' %}HYDRAULISK
			{% endif %}
			{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTKO_MVS Oppkjørsbjelke" Layer="JBTKO_MVS" Color="ByLayer" Group="Overbygning/Oppkjørsbjelker" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>oppkjørsbjelke</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Oppkjørsbjelke, kort">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-MVS-OPPKJØRSBJELKE-KORT"/>
   </Variant>
   <Variant Name="Oppkjørsbjelke, lang">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-MVS-OPPKJØRSBJELKE-LANG"/>
   </Variant>
  </Variants>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>NOBN_trk_getDistanceToAlignmentFromCantAndTrackPlaneDistance(RightSided and 4e-4 or -4e-4)</Formula>
  </LuaExpression>
  <LuaExpression Name="dir">
   <Formula>"up"</Formula>
  </LuaExpression>
  <SetValue Key="name" Value="Oppkjørsbjelke"/>
  <InsertPointObject VariantName="Oppkjørsbjelke, kort" DisplayBlockName="NO-BN-2D-JBTSA_SSP-OPPKJOERSBJELKE-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_SSP-OPPKJOERSBJELKE" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_SSP-OPPKJOERSBJELKE-{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tEarthWire" Class="RailwayAlignment" Name="JBTEH_JOR Jordleder" Layer="JBTEH_JOR" Color="ByLayer" Group="Kontaktledning/Jording">
  <RelationSpace>jordleder</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTEH@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTEH@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <Variants DefaultValue="Isolert jordleder">
   <Variant Name="Isolert jordleder"/>
   <Variant Name="Blank jordleder"/>
   <Variant Name="Tverrforbinder"/>
   <Variant Name="Utjevningsforbinder"/>
  </Variants>
  <CustomAttribute DataType="Enumeration" Name="WireType" DisplayName="Ledertype" DefaultValue="Cu95" Description="The earthing wire type (ewt) [6/16/25/35/50/70/95/120/150 mm2 Cu], or aluminum corresponding to the copper conductivities.">
   <Values>
    <Value>Cu150</Value>
    <Value>Cu120</Value>
    <Value>Cu95</Value>
    <Value>Cu70</Value>
    <Value>Cu50</Value>
    <Value>Cu35</Value>
    <Value>Cu25</Value>
    <Value>Cu16</Value>
    <Value>Cu06</Value>
    <Value>Alu240</Value>
    <Value>Alu190</Value>
    <Value>Alu150</Value>
    <Value>Alu120</Value>
    <Value>Alu80</Value>
    <Value>Alu50</Value>
    <Value>Alu35</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="Sheath" DisplayName="Kappe" DefaultValue="IX" Description="The earthing wire sheath type [KHF | UX | TXXI | IX], where KFH:naked conductor for air suspension, UX:insulated for object earthing, TXXI:connecting tracks in tunnels (Cl-free, flame retardant), IX:insulated for indoor or outdoor object earthing. Other Nexans abbreviations are:G:'glødet', H:'hardtrukket', F:'flertrådet'.">
   <Values>
    <Value>KHF</Value>
    <Value>UX</Value>
    <Value>TXXI</Value>
    <Value>IX</Value>
   </Values>
  </CustomAttribute>
  <LuaExpression Name="name">
   <Formula>code.." ("..Variant..")"</Formula>
  </LuaExpression>
  <LuaExpression Name="Linetype">
   <Formula>"RC-EARTHING-"..WireType"</Formula>
  </LuaExpression>
  <PropertyPrompt Key="code" DefaultValue="JL-" AcceptEmptyValue="false"/>
  <InsertAlignment VariantName="Isolert jordleder" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-JORDLEDER-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
   <SetValue Key="WireType" Value="Cu95"/>
   <SetValue Key="Sheath" Value="IX"/>
  </InsertAlignment>
  <InsertAlignment VariantName="Blank jordleder" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-JORDLEDER-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
   <SetValue Key="WireType" Value="Cu95"/>
   <SetValue Key="Sheath" Value="KHF"/>
  </InsertAlignment>
  <InsertAlignment VariantName="Tverrforbinder" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-JORDLEDER-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
   <SetValue Key="WireType" Value="Cu70"/>
   <SetValue Key="Sheath" Value="TXXI"/>
  </InsertAlignment>
  <InsertAlignment VariantName="Utjevningsforbinder" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-JORDLEDER-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <IncludeSegmentType>Curve</IncludeSegmentType>
   <SetValue Key="WireType" Value="Cu95"/>
   <SetValue Key="Sheath" Value="IX"/>
  </InsertAlignment>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_JEL Jordelektrode" Layer="JBTEH_JEL" Color="ByLayer" Group="Kontaktledning/Jording" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>jordelektrode</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="18" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="16" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="22" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Kråkefot">
   <Variant Name="Kråkefot"/>
  </Variants>
  <LuaExpression Name="name">
   <Formula>
				if Variant == "Kråkefot" then return "Kråkefot"
				else return "Unknown ground spike earthing device variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>
				if Variant == "Kråkefot" then return "NO-BN-3D-EH-JORDING-KRÅKEFOT"
				else return "Unknown ground spike earthing device variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Kråkefot" DisplayBlockName="NO-BN-2D-JBTEH_JEL-JORDING-JORDPOTENSIAL-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_JEL-JORDING-JORDPOTENSIAL-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_JEL
				JORDING
				{% if Variant == 'Kråkefot' %}JORDPOTENSIAL
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_JOF Jordforbinder" Layer="JBTEH_JOF" Color="ByLayer" Group="Kontaktledning/Jording" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>jordforbinder</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="18" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="16" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="22" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Skinnejord">
   <Variant Name="Jordtilkobling for objekt"/>
   <Variant Name="Skinnejord"/>
  </Variants>
  <LuaExpression Name="name">
   <Formula>
				if Variant == "Jordtilkobling for objekt" then return "Jordtilkobling"
				elseif Variant == "Skinnejord" then return "Skinnejord"
				else return "Unknown earthing connection device variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>
				--if Variant == "Jordtilkobling for objekt" then return "XYZZY - ikke definert ennå"
				--elseif Variant == "Skinnejord" then return "NO-BN-3D-EH-JORDING-SKINNEJORD"
				--else 
					return "Unknown earthing connection device variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Jordtilkobling for objekt" DisplayBlockName="NO-BN-2D-JBTEH_JEL-JORDING-JORDPOTENSIAL-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" RotateIfRightSideOfAlignment="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Skinnejord" DisplayBlockName="NO-BN-2D-JBTEH_JOF-JORDING-SKINNEJORD-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" RotateIfRightSideOfAlignment="true"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_JOF-JORDING-SKINNEJORD-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D
				{% if Variant == 'Jordtilkobling for objekt' %}JBTEH_JEL-JORDING-JORDPOTENSIAL
				{% elsif Variant == 'Skinnejord' %}JBTEH_JOF-JORDING-SKINNEJORD
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_JSK Jordingsskinne" Layer="JBTEH_JSK" Color="ByLayer" Group="Kontaktledning/Jording" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>jordingsskinne</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="18" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="16" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="22" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Jordingsskinne 10x50x290 (9xØ13)">
   <Variant Name="Jordingsskinne 10x50x290 (9xØ13)"/>
   <Variant Name="Jordingsskinne 10x50x530 (17xØ13)"/>
  </Variants>
  <LuaExpression Name="name">
   <Formula>
				if string.match(Variant, "Jordingsskinne") == "Jordingsskinne" then return "Jordingsskinne"
				else return "Unknown earthing bus bar variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>
				if Variant == "Jordingsskinne 10x50x290 (9xØ13)" then return "NO-BN-3D-EH-JORDING-JORDINGSSKINNE-10x50x290"
				elseif Variant == "Jordingsskinne 10x50x530 (17xØ13)" then return "NO-BN-3D-EH-JORDING-JORDINGSSKINNE-10x50x530"
				else return "Unknown earthing connection device variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Jordingsskinne 10x50x290 (9xØ13)" DisplayBlockName="NO-BN-2D-JBTEH_JSK-JORDING-JORDINGSSKINNE-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="false" SnapDistance="0.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <InsertPointObject VariantName="Jordingsskinne 10x50x530 (17xØ13)" DisplayBlockName="NO-BN-2D-JBTEH_JSK-JORDING-JORDINGSSKINNE-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="false" SnapDistance="0.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_JSK-JORDING-JORDINGSSKINNE-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_JSK
				JORDING-JORDINGSSKINNE
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tMarker" Class="RailwayPlacedObject" Name="JBTEH_DIV Annotering" Layer="JBTEH_ANNOTERING" Color="ByLayer" Group="Kontaktledning/Annotering" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>kl-annotering</RelationSpace>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="40" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="2.5" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="33" Layer="JBTEH@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RightSided and 4e-4 or -4e-4</Formula>
  </LuaExpression>
  <Variants DefaultValue="Vekslingsfelt annotering">
   <Variant Name="Seksjonsfelt annotering"/>
   <Variant Name="Vekslingsfelt annotering"/>
   <Variant Name="Sugefelt annotering"/>
   <Variant Name="Fritekst annotering"/>
  </Variants>
  <LuaExpression Name="name">
   <Formula>_JBTFE_DIV_ocs_annotation_name()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTFE_DIV_ocs_annotation_name()" ReturnType="String" Description="Obtains the 'name' for a OCS annotation item.">
   <Constructor>String _JBTFE_DIV_ocs_annotation_name()</Constructor>
   <Formula>
				function _JBTFE_DIV_ocs_annotation_name()
					local RelationName = "Er KL-annotering for anything"
					local r,n = RC__getCollectionOfRelatedObjects(RelationName)
					if Variant:match("felt") then 
						if n == 0 then 
							return "UNFINISHED - Relate OCS contact wire change annotation to its two catenary wire alignments with '"..RelationName.."'."
						elseif n == 1 then
							return "UNFINISHED - Relate OCS contact wire change annotation for contact wire '"
								..r[0].code.."' to one more catenary wire alignment with '"..RelationName.."'."
						elseif n == 2 then
							-- NB! The user should use the ManageProperties Relations tab and just drag-and-drop relations in 
							-- the datagrid to modify the sequence of relations (which modifies the text shown in modelspace).
							local a = r[0]
							local b = r[1]
							if (Variant == "Vekslingsfelt annotering") then 
								return "VEKSLINGSFELT".." L"..a.code.." / L"..b.code
							elseif (Variant == "Seksjonsfelt annotering") then 
								return "SEKSJONSFELT".." L"..a.code.." / L"..b.code
							elseif (Variant == "Sugefelt annotering") then 
								return "SUGEFELT".." L"..a.code.." / L"..b.code
							end
						else 
							return _warning,"Too many ["..n.."] related items - relate OCS contact wire change annotation to exactly two catenary wire alignments with '"
								..RelationName.."', or adjust stage settings using layer names."
						end
					elseif Variant:lower():match("fritekst") then 
						if code and code ~= "" then 
							return code
						else
							if n == 0 then 
								return "UNFINISHED - Relate OCS annotation with variant '"..Variant.."' to its items with '"
									..RelationName.."' and define the 'code' or 'name' property."
							else
								local s,i
								s = RC__identify(r[0])
								for i = 1, n-1 do
									s = s..", "..RC__identify(r[i])
								end
								return "UNFINISHED - Define the 'code' property or change the 'name' property to annotate related items ["..s.."]."
							end
						end
					else
						return _error,"Unrecognized variant ["..Variant.."] - cannot annotate items"
					end
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Vekslingsfelt annotering" DisplayBlockName="##RC_INNSETTINGSPUNKT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0" SnapSensitivityDistance="3">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <InsertPointObject VariantName="Seksjonsfelt annotering" DisplayBlockName="##RC_INNSETTINGSPUNKT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0" SnapSensitivityDistance="3">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <InsertPointObject VariantName="Sugefelt annotering" DisplayBlockName="##RC_INNSETTINGSPUNKT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0" SnapSensitivityDistance="3">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <InsertPointObject VariantName="Fritekst annotering" DisplayBlockName="##RC_INNSETTINGSPUNKT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0" SnapSensitivityDistance="3">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tElementWithAlignment" Class="RailwayAlignment" Name="JBTEH_KTL Kontaktledning" Layer="JBTEH_KTL_Kontaktledning_Kjørbar" Color="ByLayer" Group="Kontaktledning/Kontaktledninger">
  <RelationSpace>kontaktledning</RelationSpace>
  <AlignmentSystems DefaultSystemName="Kontaktledning">
   <AlignmentSystem Name="Kontaktledning" CantGauge="0.010" AlignmentGauge="0.010" QuickMode3DLiftWithCant="true"/>
  </AlignmentSystems>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTEH@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTEH@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <Variants DefaultValue="Kontaktledning, Sort, kjørbar">
   <Variant Name="Kontaktledning, Sort, kjørbar"/>
   <Variant Name="Kontaktledning, Sort, ikke kjørbar"/>
   <Variant Name="Kontaktledning, Blå, kjørbar"/>
   <Variant Name="Kontaktledning, Blå, ikke kjørbar"/>
   <Variant Name="Kontaktledning, Lilla, kjørbar"/>
   <Variant Name="Kontaktledning, Lilla, ikke kjørbar"/>
   <Variant Name="Kontaktledning, Rød, kjørbar"/>
   <Variant Name="Kontaktledning, Rød, ikke kjørbar"/>
   <Variant Name="Kontaktledning, Brun, kjørbar"/>
   <Variant Name="Kontaktledning, Brun, ikke kjørbar"/>
   <Variant Name="Kontaktledning, Oransje, kjørbar"/>
   <Variant Name="Kontaktledning, Oransje, ikke kjørbar"/>
   <Variant Name="Kontaktledning, Grønn, kjørbar"/>
   <Variant Name="Kontaktledning, Grønn, ikke kjørbar"/>
  </Variants>
  <SetValue Key="WireMaterial" Value="Ri 100"/>
  <CustomAttribute DataType="Enumeration" Name="WireMaterial" DisplayName="Ledningsmateriale" DefaultValue="Ri 100" Description="The overhead catenary system (OCS) contact wire material [Ri 100 | RiS 100 | Ri 120 | RiS 120].">
   <Value>Ri 100</Value>
   <Value>RiS 100</Value>
   <Value>Ri 120</Value>
   <Value>RiS 120</Value>
  </CustomAttribute>
  <LuaExpression Name="Layer">
   <Formula>_JBTEH_KTL_Layer()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_KTL_Layer()" ReturnType="String" Description="Obtains the CAD system layer name for the catenary wire, based on its Variant.">
   <Constructor>String _JBTEH_KTL_Layer()</Constructor>
   <Formula>
				function _JBTEH_KTL_Layer()
					if Variant:lower():match("ikke kjørbar") then
						return "JBTEH_KTL_Kontaktledning_Ikke_kjørbar"
					else 
						return "JBTEH_KTL_Kontaktledning_Kjørbar"
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Linetype">
   <Formula>_JBTEH_KTL_Linetype()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_KTL_Linetype()" ReturnType="String" Description="Obtains the CAD system linetype (continuous / dashed) for the catenary wire, based on its Variant.">
   <Constructor>String _JBTEH_KTL_Linetype()</Constructor>
   <Formula>
				function _JBTEH_KTL_Linetype()
					if Variant:lower():match("ikke kjørbar") then
						return "RC-DASHED"
					else 
						return "Continuous"
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Color">
   <Formula>_JBTEH_KTL_Color()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_KTL_Color()" ReturnType="String" Description="Obtains the CAD system color for the catenary wire, based on its Variant.">
   <Constructor>String _JBTEH_KTL_Color()</Constructor>
   <Formula>
				function _JBTEH_KTL_Color()
					if Variant:lower():match("sort") then return 7 --White
					elseif Variant:lower():match("blå") then return "30,144,255"
					elseif Variant:lower():match("lilla") then return "148,0,211"
					elseif Variant:lower():match("rød") then return "252,10,28"
					elseif Variant:lower():match("brun") then return "139,69,19"
					elseif Variant:lower():match("oransje") then return "255,140,0"
					elseif Variant:lower():match("grønn") then return "50,205,50"
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Lineweight">
   <Formula>_JBTEH_KTL_Lineweight()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_KTL_Lineweight()" ReturnType="Double" Description="Obtains the CAD system lineweight (line width in print) for the catenary wire, based on its Variant.">
   <Constructor>Double _JBTEH_KTL_Lineweight()</Constructor>
   <Formula>
				--AutoCAD needs lineweights to be of the form "LineWeight035" for "0.35 mm" (only predefined values according to AutoCAD enum):
				function _JBTEH_KTL_Lineweight()
					if Variant:lower():match("sort") then
						return "LineWeight035"
					else
						return "LineWeight040"
					end
				end
			</Formula>
  </LuaFunction>
  <SetValue Key="Sweep3D" Value="True"/>
  <SetValue Key="QuickMode3D" Value="True"/>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient(_position)</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_com_getRollFromCantInterpretedAsDecimalDegrees(_position)</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>0.0</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>"NO-BN-SWEEP-EH-KTL-KONTAKTTRÅD-"..WireMaterial:gsub(" ","-")</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DSeparation">
   <Formula>RC__getNearest3DStep(1.0)</Formula>
  </LuaExpression>
  <SetValue Key="Model3DOffset" Value="0.0"/>
  <LuaExpression Name="name">
   <Formula>"L"..code</Formula>
  </LuaExpression>
  <PropertyPrompt Key="code" DefaultValue="Kontaktledning" AcceptEmptyValue="false"/>
  <InsertAlignment VariantName="Kontaktledning, Sort, kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kontaktledning, Sort, ikke kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kontaktledning, Blå, kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kontaktledning, Blå, ikke kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kontaktledning, Lilla, kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kontaktledning, Lilla, ikke kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kontaktledning, Rød, kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kontaktledning, Rød, ikke kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kontaktledning, Brun, kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kontaktledning, Brun, ikke kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kontaktledning, Oransje, kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kontaktledning, Oransje, ikke kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kontaktledning, Grønn, kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Kontaktledning, Grønn, ikke kjørbar" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CONTACT-WIRE-PROFILE-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
 </ObjectType>
 <ObjectType DataType="tElementWithAlignment" Class="RailwayAlignment" Name="JBTEH_KLO Kontaktledningsoppheng" Layer="JBTEH_KLO" Color="ByLayer" Group="Kontaktledning/Kontaktledningsoppheng">
  <RelationSpace>kl-oppheng</RelationSpace>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTEH@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTEH@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <Variants DefaultValue="Bæreline">
   <Variant Name="Bæreline">
    <SetValue Key="WireMaterial" Value="Bz II 50/19"/>
   </Variant>
   <Variant Name="Hengetråd">
    <SetValue Key="WireMaterial" Value="Bz II 50/19"/>
   </Variant>
   <Variant Name="Y-line">
    <SetValue Key="WireMaterial" Value="Bz II 50/19"/>
   </Variant>
   <Variant Name="Fixline">
    <SetValue Key="WireMaterial" Value="Bz II 50/19"/>
   </Variant>
   <Variant Name="Z-line">
    <SetValue Key="WireMaterial" Value="Bz II 50/19"/>
   </Variant>
   <Variant Name="Bardun">
    <SetValue Key="WireMaterial" Value="Stålwire 50mm2"/>
   </Variant>
   <Variant Name="Strever">
    <SetValue Key="WireMaterial" Value="Stålstag"/>
   </Variant>
  </Variants>
  <CustomAttribute DataType="Enumeration" Name="WireMaterial" DisplayName="Ledningsmateriale" DefaultValue="Bz II 50/19" Description="The overhead catenary system (OCS) support (catenary/dropper/stich/fix/'Z') wire material [Bz II 50/19 | Bz II 70/19 | Bz II 50/19 isolert].">
   <Value>Bz II 50/19</Value>
   <Value>Bz II 70/19</Value>
   <Value>Bz II 50/19 isolert</Value>
   <Value>Firkantstål HUP120x120</Value>
  </CustomAttribute>
  <LuaExpression Name="code">
   <Formula>_JBTEH_KLO_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_KLO_code()" ReturnType="String" Description="Obtains the code for the OCS catenary wire suspension system component, inherited from the associated contact wire, through the 'Er oppheng for kontaktledning' relation.">
   <Constructor>String _JBTEH_KLO_code()</Constructor>
   <Formula>
				function _JBTEH_KLO_code()
					local s,r,n
					s = "Er oppheng for kontaktledning"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "UNFINISHED - Relate OCS suspension wires with '"..s.."' to its contact wire."
					else
						return r[0].code
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>_JBTEH_KLO_name()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_KLO_name()" ReturnType="String" HideFromUser="false" Description="Obtains the name for the OCS catenary wire suspension system component, from its 'code'.">
   <Constructor>String _JBTEH_KLO_name()</Constructor>
   <Formula>
				function _JBTEH_KLO_name()
					--Assume that each wire part has been related to the contact wire through a relation
					if Variant == "Bæreline" then return "Bl."..code
					elseif Variant == "Hengetråd" then return "Ht."..code
					elseif Variant == "Y-line" then return "Yl."..code
					elseif Variant == "Fixline" then return "Fl."..code
					elseif Variant == "Z-line" then return "Zl."..code
					elseif Variant == "Bardun" then return "Bar."..code
					elseif Variant == "Strever" then return "Str."..code
					else return _error,"*** Bad contact wire support Variant ["..Variant.."]."
					end
				end
			</Formula>
  </LuaFunction>
  <SetValue Key="Sweep3D" Value="True"/>
  <SetValue Key="QuickMode3D" Value="False"/>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient(_position)</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_com_getRollFromCantInterpretedAsDecimalDegrees(_position)</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DSeparation" IsModelCheck="false">
   <Formula>RC__getNearest3DStep(1.0)</Formula>
  </LuaExpression>
  <SetValue Key="Model3DOffset" Value="0.0"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="_JBTEH_BAR_chkSpannerAndStretcherDirection" DisplayName="Bardun / strever tegneretning" Description="Checking that a spanner or strecher alignment shall start at an OCS mast's insertion point and extend to the strecher's / spanner's base plate."/>
  <LuaExpression Name="mc_JBTEH_BAR_SpannerAndStrecherDirection" IsModelCheck="true">
   <Formula>_JBTEH_BAR_chkSpannerAndStretcherDirection()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_BAR_chkSpannerAndStretcherDirection()" ReturnType="String" Description="Checking that a spanner or strecher alignment shall start at an OCS mast's insertion point and extend to the strecher's / spanner's base plate.">
   <Constructor>String _JBTEH_BAR_chkSpannerAndStrecherDirection()</Constructor>
   <Formula>
				function _JBTEH_BAR_chkSpannerAndStretcherDirection()
					if true then -- 2021-03-30 TODO - XXXXXXXXXXXXXXXXXXXXXXXXXXXX code must be written--
							return "WARNING - Model check for _JBTEH_BAR_chkSpannerAndStretcherDirection has not been written yet.",_warning
					end
				end
			</Formula>
  </LuaFunction>
  <InsertAlignment VariantName="Bæreline" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CATENARY-WIRE-SYSTEM-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <SetValue Key="WireMaterial" Value="Bz II 70/19"/>
   <SetValue Key="Model3DName" Value="NO-BN-SWEEP-FE-WIR-WIRE-GRÅ-DIAMETER-010"/>
  </InsertAlignment>
  <InsertAlignment VariantName="Hengetråd" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CATENARY-WIRE-SYSTEM-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <SetValue Key="WireMaterial" Value="Bz II 70/19"/>
   <SetValue Key="Model3DName" Value="NO-BN-SWEEP-FE-WIR-WIRE-GRÅ-DIAMETER-010"/>
  </InsertAlignment>
  <InsertAlignment VariantName="Y-line" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CATENARY-WIRE-SYSTEM-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
  </InsertAlignment>
  <InsertAlignment VariantName="Fixline" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CATENARY-WIRE-SYSTEM-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <SetValue Key="Linetype" Value="RC-DASHED"/>
   <SetValue Key="WireMaterial" Value="Bz II 70/19"/>
   <SetValue Key="Model3DName" Value="NO-BN-SWEEP-FE-WIR-WIRE-GRÅ-DIAMETER-010"/>
  </InsertAlignment>
  <InsertAlignment VariantName="Z-line" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CATENARY-WIRE-SYSTEM-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <SetValue Key="WireMaterial" Value="Bz II 70/19"/>
   <SetValue Key="Model3DName" Value="NO-BN-SWEEP-FE-WIR-WIRE-GRÅ-DIAMETER-010"/>
  </InsertAlignment>
  <InsertAlignment VariantName="Bardun" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CATENARY-WIRE-SYSTEM-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <SetValue Key="WireMaterial" Value="Bz II 70/19"/>
   <SetValue Key="Model3DName" Value="NO-BN-SWEEP-FE-WIR-WIRE-GRÅ-DIAMETER-010"/>
  </InsertAlignment>
  <InsertAlignment VariantName="Strever" DisplayBlockName="NO-BN-2D-JBTEH-THUMBNAIL-CATENARY-WIRE-SYSTEM-Schematic" DefaultToTangentContinuity="false">
   <IncludeSegmentType>Tangent</IncludeSegmentType>
   <SetValue Key="WireMaterial" Value="Firkantstål HUP120x120"/>
   <SetValue Key="Model3DName" Value="NO-BN-SWEEP-FE-DIV-STEEL-BEAM-HUP-120-120"/>
  </InsertAlignment>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_BAR Bardunfeste" Layer="JBTEH_BAR" Color="ByLayer" Group="Kontaktledning/Kraftavlasting" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>kraftavlasting</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Bardunfeste fotplate, enkel">
   <Variant Name="Bardunfeste fotplate, enkel"/>
   <Variant Name="Bardunfeste mot bjelkemast"/>
   <Variant Name="Bardunfeste fotplate, dobbel"/>
   <Variant Name="Streverfeste fotplate"/>
   <Variant Name="Strever med festeplater, 2.08m fra sidekant KL-mast"/>
   <Variant Name="Strever med festeplate for Ø120 hengemast for bru og tunnel"/>
  </Variants>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTEH_BAR_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_BAR_Model3DName()" ReturnType="String" Description="Obtains the Model 3D Name for this OCS contact wire strecher/spanner object (the point object). Deduces its dimensions from the closest OCS mast.">
   <Constructor>String _JBTEH_BAR_Model3DName()</Constructor>
   <Formula>
				function _JBTEH_BAR_Model3DName()
					--Look for mast near start of associated wire (alignment).
					local tol = 0.25 
					local t
					if Variant:match("Bardunfeste fotplate, enkel") then 
						t = "NO-BN-3D-EH-BAR-BARDUNFESTE-FOTPLATE-191x374xM36"
						
					elseif Variant:match("Bardunfeste mot bjelkemast") then 
						local m = getNearbyPointObjects2D(tol,"JBTEH_MAS KL-mast")
						local n = getCollectionLength(m)
						if n &gt; 0 then 
							local a = m[0].OcsMastProfile:match("HEB(%d%d%d)") --'HEB220' etc: Capture three digits.
							a = a or "240" --Default size if not a HEB mast...
							t = "NO-BN-3D-EH-BAR-STREVERFESTE-KONSOLL-FOR-SEKSJONSUTLIGGER-400x300-FOR-HEB"..a
						else
							t = "UNIFINSHED: No OCS mast found near stretcher / spanner, cannot deduce 3D model name."
						end
						
					elseif Variant:match("Bardunfeste fotplate, dobbel") then
						t = "NO-BN-3D-EH-BAR-BARDUNFESTE-FOTPLATE-191x374xM36"
						
					elseif Variant:match("Streverfeste fotplate") then
						t = "NO-BN-3D-EH-BAR-STREVERFESTE-FOTPLATE-525x350-191x374xM36"
						
					elseif Variant:match("Strever med festeplater, 2.08m fra sidekant KL-mast") then 
						t = "NO-BN-3D-EH-BAR-STREVER-L7000-D2080-H6654"
						
					elseif Variant:match("Strever med festeplate for Ø120 hengemast for bru og tunnel") then
						local m = getNearbyPointObjects2D(tol,"JBTEH_MAS Hengemast for bru og tunnel")
						local n = getCollectionLength(m)
						if n &gt; 0 then 
							-- Assume spanner 3D models exist in steps of 500 mm range 500..2500.
							-- Let default spanner choice be half the height of the supported OCS suspension mast.
							local h = (math.floor((250 + (OcsMastHeight/2)) / 500)) * 500
							h = (h &lt; 500) and 500 or h -- At least 500
							h = (h &gt; 2500) and 2500 or h -- No more than 2500
							t = "NO-BN-3D-EH-BAR-STREVER-FOR-HENGEMAST-Ø120-H"..string.format("%03d",h)
						else
							t = "UNIFINSHED: No OCS suspension mast found near stretcher / spanner, cannot deduce 3D model name."
						end
					else 
					
						return "Bad strecher / spanner fastening Variant ["..Variant.."]."
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="code">
   <Formula>_JBTEH_BAR_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_BAR_code()" ReturnType="String" Description="Obtains the code for this OCS contact wire strecher/spanner object (the point object). Deduces code from OCS mast at start of associated wire.">
   <Constructor>String _JBTEH_BAR_code()</Constructor>
   <Formula>
				function _JBTEH_BAR_code()
					--Look for mast near start of associated wire (alignment).
					--Spanner rod / stretcher wire alignments always start at high elevation (top of OCS mast) and extend down to the ground, where the fixture element is.
					--Note that spanner fixtures snap to the low-mileage end of the spanner (at the OCS mast), strecher fixtures snap to the hi-mileage (at the foundation)
					--Both stretchers and spanners require an OCS mast at the START of the wire / the rod. 
					local tol = 0.25 
					local t
					local isStrecher = Variant:lower():match("strever")
					local isSpanner = Variant:lower():match("bardun")
					if isStrecher then 
						if Alignment == nil or Alignment.RcType ~= "JBTEH_KLO Kontaktledningsoppheng" then
							return "UNFINISHED - Attach strecher footplate to an alignment of type 'JBTEH_KLO Kontaktledningsoppheng', variant 'Bardun'."
						elseif alignment.Variant:lower() ~= "bardun" then 
							return "*** Bad Own Alignment Variant ["..Alignment.Variant.. "], 'Bardun' was expected."
						end
						t = "-B"
					elseif isSpanner then
						if Alignment == nil or Alignment.RcType ~= "JBTEH_KLO Kontaktledningsoppheng" then
							return "UNFINISHED - Attach spanner footplate to an alignment of type 'JBTEH_KLO Kontaktledningsoppheng', variant 'Spanner'."
						elseif alignment.Variant:lower() ~= "strever" then 
							return "*** Bad Own Alignment Variant ["..Alignment.Variant.. "], 'Strever' was expected."
						end
						t = "-S"
					else 
						return "Bad strecher / spanner fastening Variant ["..Variant.."]."
					end
					local masts = getNearbyPointObjects2D(tol,"JBTEH_MAS KL-mast",Alignment.RcAlignment.StartPoint) --Ignore tunnel, bridge and yoke suspension masts
					local n = getCollectionLength(m)
					if n == 0 then 
						return "UNFINISHED - No OCS mast found at start of strecher wire / spanner rod alignment - cannot deduce stretcher / spanner code."
					elseif n == 1 then 
						return m[0].code..t
					else -- Two or more masts were found
						return m[0].code..t,_info("WARNING - Multiple OCS masts found at start of strecher wire / spanner rod alignment.")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>tostring(code):upper():match("UNFINISHED") and code or ""</Formula>
  </LuaExpression>
  <LuaExpression Name="Mileage">
   <Formula>_JBTEH_BAR_Mileage()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_BAR_Mileage()" ReturnType="Double" Description="Returns mileage for this OCS contact wire strecher/spanner object. Snaps to the extremity of its associated spanner/strecher wire.">
   <Constructor>Double _JBTEH_BAR_Mileage()</Constructor>
   <Formula>
				function _JBTEH_BAR_Mileage()
				if Variant:lower():match("strever") then
					local ps = Alignment.RcAlignment.StartPoint
					m = getNearbyPointObjects2D(1,"JBTEH_MAS KL-mast",ps.X,ps.Y)
					n = getCollectionLength(m)
					if n &gt; 0 and m[0].Variant:lower():match("bjelke") then 
						return m[0].OcsMastProfile:match("HEB(%d+)")/2000
					else 
						return 0.0
					end
				else
					--bardun enkel/dobbel:
					return Alignment.RcAlignment.HorizontalProfile.Length
				end
			end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="dir">
   <Formula>Variant:lower():match("strever") and "down" or "down"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RightSided and 4e-4 or -4e-4</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula/>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_BAR_RelativeElevation()" ReturnType="Double" Description="Returns the releative elevation mileage for this OCS contact wire strecher/spanner object.">
   <Constructor>Double _JBTEH_BAR_RelativeElevation()</Constructor>
   <Formula>
				function _JBTEH_BAR_RelativeElevation()
					local Pe = Alignment.RcAlignment.EndPoint
					local f1 = getNearbyPointObjects2D(1.0,"EH-FUN Bardunfundament",Pe) --TODO: deprecated from DNA 2020.1
					local f2 = getNearbyPointObjects2D(1.0,"JBTEH_FUN KL-fundament",Pe)
					local f = getUnionOfCollections({f1,f2})
					local e --absolute elevation
					if getCollectionLength(f) == 0 then
						--Use nearest track's elevation when no foundation is present:
						local t = getClosestTracks(Pe.X,Pe.Y)
						e = getAlignmentInfo(t[0].id,Pe.X,Pe.Y).Point.Z
					else
						--Foundation is present:
						e = f[0].geoCoord.Z + 0.085 --Start a little above foundation
					end
					return e - getAlignmentInfo().Point.Z --Elevation relative to own alignment's elevation here.
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Bardunfeste fotplate, enkel" DisplayBlockName="NO-BN-2D-JBTEH_BAR-KRAFTAVLASTING-FOR-BARDUN-ENKEL-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kl-oppheng</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Bardunfeste fotplate, dobbel" DisplayBlockName="NO-BN-2D-JBTEH_BAR-KRAFTAVLASTING-FOR-BARDUN-DOBBEL-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kl-oppheng</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Streverfeste fotplate" DisplayBlockName="NO-BN-2D-JBTEH_BAR-KRAFTAVLASTING-FOR-STREVER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kl-oppheng</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Strever med festeplate for Ø120 hengemast for bru og tunnel" DisplayBlockName="NO-BN-2D-JBTEH_BAR-KRAFTAVLASTING-STREVER-MED-FESTEPLATE-FOR-BRU-OG-TUNNEL-120-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kl-oppheng</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_BAR-KRAFTAVLASTING-FOR-BARDUN-ENKEL-Geographic">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_BAR
				KRAFTAVLASTING
				{% if Variant == 'Bardunfeste fotplate, enkel' %}FOR-BARDUN-ENKEL
				{% elsif Variant == 'Bardunfeste fotplate, dobbel' %}FOR-BARDUN-DOBBEL
				{% elsif Variant == 'Streverfeste fotplate' %}FOR-STREVER
				{% elsif Variant == 'Strever med festeplate for Ø120 hengemast for bru og tunnel' %}STREVER-MED-FESTEPLATE-FOR-BRU-OG-TUNNEL-120
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="kl-fundament"/>
   </SnapPoints>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="bardunfundament"/>
   </SnapPoints>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="tunnelfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_BAR Tunnelfeste" Layer="JBTEH_KLO" Color="ByLayer" Group="Kontaktledning/Kraftavlasting" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>tunnelfeste</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="18" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="16" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="22" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Veggfeste for KL-avspenning i tunnel">
   <Variant Name="Veggfeste for KL-avspenning i tunnel">
    <SetValue Key="name" Value="KL tunnelfeste"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-EH-BAR-KRAFTAVLASTING-TUNNELFESTE"/>
   </Variant>
  </Variants>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Veggfeste for KL-avspenning i tunnel" DisplayBlockName="NO-BN-2D-JBTEH_BAR-KRAFTAVLASTING-TUNNELFESTE-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_BAR-KRAFTAVLASTING-TUNNELFESTE">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_BAR
				KRAFTAVLASTING
				{% if Variant == 'Veggfeste for KL-avspenning i tunnel' %}TUNNELFESTE
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <LuaFunction Name="NOBN_ocs_getTensioningStandardValues()" ReturnType="Table[4*Double]" Description="Returns a standard tensile force (tf) values table: [cwtf]=contact wire tf, [catf]=catenary tf, [swtf]=stitch wire tf, [awtf]=anchor wire tf. See NO-BN TRV.">
  <Constructor>Table[4*Double] NOBN_ocs_getTensioningStandardValues([String OcsSystem])</Constructor>
  <Formula>
			function NOBN_ocs_getTensioningStandardValues(os)
				if os == nil then os = OcsSystem end
				local OcsSystems = {
					"Unknown", 
					"S20A",
					"S20AR",
					"S20B",
					"S20BR",
					"S20C1",
					"S20C2",
					"S25",
					"S35",
					"S35MS",
					"Cariboni"
				}
				--(20C1 and 20C2 use the same tensile forces)
				local TensileForces = {
					["Unknown"] = 	{cwtf=0, 	catf=0, 	swtf=0,		awtf=0},
					["S20A"] = 		{cwtf=10, 	catf=10,	swtf=2.3,	awtf=10},
					["S20AR"] = 	{cwtf=7.06,	catf=7.06,	swtf=2.3, 	awtf=10},
					["S20B"] = 		{cwtf=10,	catf=10,	swtf=0, 	awtf=10},
					["S20BR"] = 	{cwtf=7.06,	catf=7.06,	swtf=0, 	awtf=10},
					["S20C1"] = 	{cwtf=13,	catf=13,	swtf=2.3, 	awtf=10},
					["S20C2"] = 	{cwtf=13,	catf=13,	swtf=2.3, 	awtf=10},
					["S25"] = 		{cwtf=15,	catf=15,	swtf=2.8, 	awtf=10},
					["S35"] = 		{cwtf=7.06,	catf=7.06,	swtf=0, 	awtf=10},
					["S35MS"] = 	{cwtf=7.06,	catf=7.06,	swtf=0, 	awtf=10},
					["Cariboni"] = 	{cwtf=13,	catf=13,	swtf=0, 	awtf=13}
				}
--TODO: Code does not work when more than 10 items in table! Lua is fishy here:
--				if not RC__isMemberOf(OcsSystems,os) then 
--					return TensileForces.Unknown,_warning,_info("Bad tensioning device OCS System ["..os.."]. ")
--				end
				return TensileForces[os]
			end 
		</Formula>
 </LuaFunction>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_AEH Avspenning" Layer="JBTEH_AEH" Color="ByLayer" Group="Kontaktledning/Avspenninger" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>avspenning</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="18" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="16" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="22" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Fixpunkt">
   <Variant Name="Fixpunkt"/>
   <Variant Name="Fastavspenning, enkel"/>
   <Variant Name="Fastavspenning, dobbel"/>
   <Variant Name="Loddavspenning, enkel"/>
   <Variant Name="Loddavspenning, dobbel"/>
   <Variant Name="Fjæravspenning, enkel"/>
   <Variant Name="Fjæravspenning, dobbel"/>
  </Variants>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RightSided and 4e-4 or -4e-4</Formula>
  </LuaExpression>
  <LuaExpression Name="dir">
   <Formula>_JBTEH_AEH_dir()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_AEH_dir()" ReturnType="String" Description="Obtains the 'dir' for this OCS tensioning device, related to its alignment's direction.">
   <Constructor>String _JBTEH_AEH_dir()</Constructor>
   <Formula>
				function _JBTEH_AEH_dir()
					if Alignment == nil then
						return "unknown",_info("UNFINISHED: Own Alignment (contact wire) undefined for OCS tensioning device.")
					else
						return RC__getDistance2D(Alignment.RcAlignment.StartPoint) &lt; RC__getDistance2D(Alignment.RcAlignment.EndPoint) and "up" or "down"
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="code">
   <Formula>_JBTEH_AEH_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_AEH_code()" ReturnType="String" Description="Obtains the 'code' for this OCS tensioning device, related to its wire with 'Avspenner kontaktledning'.">
   <Constructor>String _JBTEH_AEH_code()</Constructor>
   <Formula>
				function _JBTEH_AEH_code()
					if Alignment == nil then
						return _warning,"UNFINISHED: Own Alignment (contact wire) undefined for OCS tensioning device."
					else
						if Variant:lower():match("fix") then
							local RelationName = "Avspenner kontaktledning"
							local r,n = RC__getCollectionOfRelatedObjects(RelationName)
							if n == 0 then 
								return "UNFINISHED - Relate fixpoint tensioning device with its catenary wire alignments with '"..RelationName.."'."
							else
								return r[0].code
							end
						else
							return Alignment.code
						end
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>_JBTEH_AEH_name()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_AEH_name()" ReturnType="String" Description="Obtains the 'name' for this OCS tensioning device, related to its wire with 'Avspenner kontaktledning'.">
   <Constructor>String _JBTEH_AEH_name()</Constructor>
   <Formula>
				function _JBTEH_AEH_name()
					if Variant:match("Fix") then return "L"..code .. " - [FIX]"
					elseif Variant:match("Fjær") then return "L"..code .. " - [FJ]"
					elseif Variant:match("Fast") then return "L"..code .. " - [F]"
					elseif Variant:match("Lodd") then return "L"..code .. " - [L]"
					else return "Bad tensioning device variant ["..Variant.."].",_warning
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTEH_AEH_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_AEH_Model3DName()" ReturnType="String" Description="Obtains the 3D Model Name for this OCS tensioning device.">
   <Constructor>String _JBTEH_AEH_Model3DName()</Constructor>
   <Formula>
				function _JBTEH_AEH_Model3DName()
					t = "NO-BN-3D-EH-AEH-AVSPENNING"
					if Variant:match("Fix") then return t.."-FIXPUNKT"
					else
						if Variant:match("Fjær") then t = t.."-FJÆR"
						elseif Variant:match("Fast") then t = t.."-FAST"
						elseif Variant:match("Lodd") then t = t.."-LODD"
						end
						if Variant:match("enkel") then return t.."-ENKEL"
						elseif Variant:match("dobbel") then return t.."-DOBBEL"
						end
					end
					return _info("Bad tensioning device variant ["..Variant.."].")
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="Enumeration" Name="OcsSystem" DisplayName="KL-system" DefaultValue="Unknown" Description="The OCS System is one of [Unknown | S20A | S20AR (redusert) | S20B | S20BR | S20C1 | S20C2 | S25 | S35 | S35MS | Cariboni].">
   <Values>
    <Value>Unknown</Value>
    <Value>S20A</Value>
    <Value>S20AR</Value>
    <Value>S20B</Value>
    <Value>S20BR</Value>
    <Value>S20C1</Value>
    <Value>S20C2</Value>
    <Value>S25</Value>
    <Value>S35</Value>
    <Value>S35MS</Value>
    <Value>Cariboni</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="String" Name="TensileForce" DisplayName="Strekkraft" DefaultValue="(not in use)" Description="The tensile force/forces (tf) exerted on the tensioning device [kN]."/>
  <CustomAttribute DataType="String" Name="TensileForceDisplay" DisplayName="Strekkraft visning" DefaultValue="" Description="The tensile force value, as shown close to the tensioning device [kN]."/>
  <TextAttribute Annotative="true" BindingProperty="TensileForceDisplay" CadAttributeTag="STREKKRAFT" X="0" Y="20" Layer="JBTEH@STREKKRAFT" Justify="MiddleCenter" Height="0.9" Width="0" Color="ByBlock" Rotation="0" ObliqueAngle="0" Constant="false" Invisible="false" Lock="false" MText="false"/>
  <LuaExpression Name="TensileForceDisplay">
   <Formula>_JBTEH_AEH_TensileForces(OcsSystem)</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_AEH_TensileForces()" ReturnType="String" Description="Obtains the tensile forces for this OCS tensioning device, of OcsSystem type The OCS System is one of [Unknown | S20A | S20AR (redusert) | S20B | S20BR | S20C1 | S20C2 | S25 | S35 | S35MS | Cariboni].">
   <Constructor>String _JBTEH_AEH_TensileForces(String OcsSystem)</Constructor>
   <Formula>
				function _JBTEH_AEH_TensileForces(os)
					tf = NOBN_ocs_getTensioningStandardValues(os)
					if os == "Unknown" then 
						return "?/? kN (UNFINISHED - unknown OcsSystem)."
					elseif Variant:match("Fix") then 
						return tf.awtf.." kN (fix)"
					else
						if Variant:match("Fjær") or Variant:match("Fast") or Variant:match("Lodd") then
							return tf.cwtf.."/"..tf.catf.." kN"
						end
					end
					return _info("Bad tensioning device variant ["..Variant.."].")
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Fixpunkt" DisplayBlockName="NO-BN-2D-JBTEH_AEH-AVSPENNING-FIXPUNKT-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Fastavspenning, enkel" DisplayBlockName="NO-BN-2D-JBTEH_AEH-AVSPENNING-FAST-ENKEL-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kontaktledning</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Fastavspenning, dobbel" DisplayBlockName="NO-BN-2D-JBTEH_AEH-AVSPENNING-FAST-DOBBEL-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kontaktledning</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Loddavspenning, enkel" DisplayBlockName="NO-BN-2D-JBTEH_AEH-AVSPENNING-LODD-ENKEL-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kontaktledning</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Loddavspenning, dobbel" DisplayBlockName="NO-BN-2D-JBTEH_AEH-AVSPENNING-LODD-DOBBEL-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kontaktledning</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Fjæravspenning, enkel" DisplayBlockName="NO-BN-2D-JBTEH_AEH-AVSPENNING-FJAER-ENKEL-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kontaktledning</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Fjæravspenning, dobbel" DisplayBlockName="NO-BN-2D-JBTEH_AEH-AVSPENNING-FJAER-DOBBEL-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kontaktledning</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_AEH-AVSPENNING-FIXPUNKT-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_AEH
				AVSPENNING
				{% if Variant == 'Fixpunkt' %}FIXPUNKT
				{% elsif Variant == 'Fastavspenning, enkel' %}FAST-ENKEL
				{% elsif Variant == 'Fastavspenning, dobbel' %}FAST-DOBBEL
				{% elsif Variant == 'Loddavspenning, enkel' %}LODD-ENKEL
				{% elsif Variant == 'Loddavspenning, dobbel' %}LODD-DOBBEL
				{% elsif Variant == 'Fjæravspenning, enkel' %}FJAER-ENKEL
				{% elsif Variant == 'Fjæravspenning, dobbel' %}FJAER-DOBBEL
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <LuaFunction Name="_JBTEH_MAS_non_yoke_mast_code()" ReturnType="String" Description="Obtains the code for the OCS mast, as a concatenation of the mast's reference mileage km-value and the current 'seq' local variable.">
  <Constructor>String _JBTEH_MAS_non_yoke_mast_code()</Constructor>
  <Formula>
			function _JBTEH_MAS_non_yoke_mast_code()
				entireKm = math.floor(ReferenceMileage/1000)
				return string.format("%d-%02d",entireKm,seq),_info("Mast's code is inherited from reference mileage ("..ReferenceMileage..") and the local variable seq ("..seq..").")
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="_JBTEH_MAS_SpanLength()" ReturnType="Double" HideFromUser="false" Description="Returns the shortest span length [m] between this catenary mast and its related next mast (at higher reference mileage value).">
  <Constructor>Double _JBTEH_MAS_SpanLength()</Constructor>
  <Formula>
			function _JBTEH_MAS_SpanLength()
				local s = "Neste kl-mast"
				local r,n = RC__getCollectionOfRelatedObjects(s)
				if n == 0 then
					return 0.0,_info("UNFINISHED - Relate with '"..s.."' to next OCS mast (at a higher reference mileage), otherwise span length cannot be computed.")
				else
					local d,closest,i,dist
					d = math.huge
					closest = "(none)" --Closest mast's code
					for i = 0, n-1 do
						if isObjectReachableByPath(r[i]) then
							--Masts belong to same path, assume that catenary follows the default path between them.
							--Another way to measure would have been straight-line from wire clamp to wire clamp.
							dist = distance(r[i]) -- traveled distance along the path's alignment axes
						else
							--Case where masts belong to different tracks with no path between the two masts.
							--NB! We must assume that there is no chain break here, and that own tracks are fairly aligned with the ref.track
							dist = math.abs(r[i].ReferenceMileage - ReferenceMileage)
						end
						if dist &lt; d then
							d = dist
							closest = r[i].code
						end
					end
					return string.format("%.03f",d),_info(RC__round(d,3).." span length deduced from mast "..this.code.." to  "..closest..".")
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="_JBTEH_MAS_SpanLengthDisplay()" ReturnType="String" HideFromUser="false" Description="Returns the shortest span length [m].">
  <Constructor>String _JBTEH_MAS_SpanLengthDisplay()</Constructor>
  <Formula>
			function _JBTEH_MAS_SpanLengthDisplay()
				local tol1 = 3.0
				local tol2 = 0.75
				local sl = getPropertyValue("SpanLength")
				--Look for nearby masts/suspension masts:
				local npo1 = getNearbyPointObjects2D(tol1,"JBTEH_MAS KL-mast") 
				local npo2 = getNearbyPointObjects2D(tol1,"JBTEH_MAS Hengemast for bru og tunnel")
				local npo3 = getNearbyPointObjects2D(tol1,"JBTEH_MAS Hengemast i åk")
				local npo = getUnionOfCollections({npo1,npo2,npo3}):filter(function (x) return x:isVisible() end)
				for i = 0, npo.count-1 do
					obj = npo[i]
					osl = obj:getPropertyValue("SpanLength")
					--If a nearby mast belongs to same track but is located at a higher mileage (closer to next
					--mast [at higher mileage]), then suppress showing spanlength for this mast... 
					if (obj.Alignment.id == this.Alignment.id) and (obj.ReferenceMileage &gt; this.ReferenceMileage) 
						and math.abs(osl-sl) &lt; tol2 then 
						return "",_info("Spanlength display intentionally suppressed due to other prevailing spanlength.")
					end
				end 
				if math.abs(sl) &gt; 4e-4 then
					return string.format("-%.01f-",sl) 
				else 
					return "",_info("Very small spanlengths are not shown.")
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="_JBTEH_MAS_SpanLength2()" ReturnType="Double" HideFromUser="false" Description="Returns the second shortest span length [m] between this catenary mast and its related next mast (at higher reference mileage value).">
  <Constructor>Double _JBTEH_MAS_SpanLength2()</Constructor>
  <Formula>
			function _JBTEH_MAS_SpanLength2()
				local s = "Neste kl-mast"
				local r,n = RC__getCollectionOfRelatedObjects(s)
				if n == 0 or n == 1 then
					return 0.0,_info("No second spanlength.")
				else
					-- n &gt;= 2:
					local d,d2,closest,closest2,i,dist
					d = math.huge
					d2 = math.huge
					closest = "(none)" --Closest mast's code
					closest2 = "(none)" --Second closest mast's code
					for i = 0, n-1 do
						if isObjectReachableByPath(r[i]) then
							--Masts belong to same path, assume that catenary follows the default path between them.
							--Another way to measure would have been straight-line from wire clamp to wire clamp.
							dist = distance(r[i]) -- traveled distance along the path's alignment axes
						else
							--Case where masts belong to different tracks with no path between the two masts.
							--NB! We must assume that there is no chain break here, and that own tracks are fairly aligned with the ref.track
							dist = math.abs(r[i].ReferenceMileage - ReferenceMileage)
						end
						if dist &lt; d then
							d2 = d
							closest2 = closest
							d = dist
							closest = r[i].code
						elseif dist &lt; d2 then
							d2 = dist
							closest2 = r[i].code
						end
					end
					return string.format("%.03f",d2),_info(RC__round(d2,3).." span length deduced from mast "..this.code.." to  "..closest2..".")
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="_JBTEH_MAS_SpanLengthDisplay2()" ReturnType="String" HideFromUser="false" Description="Returns the second shortest span length [m].">
  <Constructor>String _JBTEH_MAS_SpanLengthDisplay2()</Constructor>
  <Formula>
			function _JBTEH_MAS_SpanLengthDisplay2()
				local sl2 = getPropertyValue("SpanLength2")
				--Look other nearby masts/suspension masts:
				local npo1 = getNearbyPointObjects2D(3.0,"JBTEH_MAS KL-mast") 
				local np2 = getNearbyPointObjects2D(3.0,"JBTEH_MAS Hengemast i åk")
				local npo = getUnionOfCollections({npo1},{npo2})
				for i = 0, npo.count-1 do
					obj = npo[i]
					osl = getPropertyValue(obj.SpanLength)
					--If a nearby mast belongs to same track but is located at a higher mileage (closer to next mast [at higher mileage]), then suppress showing spanlength for this mast... 
					if (obj.Alignment.id == this.Alignment.id) and (obj.ReferenceMileage &gt; this.ReferenceMileage) and (string.format("%.01f",osl) == string.format("%.01f",sl)) then 
						return "",_info("Spanlength display intentionally suppressed due to other prevailing spanlength.")
					end
				end 
				if math.abs(sl2) &gt; 4e-4 then
					return string.format("-%.01f-",sl2) 
				else 
					return "",_info("Very small spanlengths are not shown.")
				end
			end
				</Formula>
 </LuaFunction>
 <LuaFunction Name="_JBTEH_MAS_SpanLengthTextOffset()" ReturnType="Vector2D" HideFromUser="false" Description="Returns a World Coordinate System offset vector for the span length custom text attribute, by default from the object's insertion point to halfway between the concerned masts' display points. Optionally, specify offsets as [offsetLateral [,offsetAlong]]).">
  <Constructor>{Double,Double} _JBTEH_MAS_SpanLengthTextOffset([Double offsetLateral [,Double offsetAlong]])</Constructor>
  <Formula>
			function _JBTEH_MAS_SpanLengthTextOffset(offsetLateral,offsetAlong)
				offsetLateral = offsetLateral or 0
				offsetAlong = offsetAlong or 0
				worldOffsetX,worldOffsetY = RC__acsVector2wcsVector(offsetLateral,offsetAlong)
				local r,n = RC__getCollectionOfRelatedObjects("Neste kl-mast")
				if n == 0 then
					return {worldOffsetX,worldOffsetY}
				else
					local d,closest,i
					d = math.huge
					closest = r[0]
					for i = 0, n-1 do
						dist = RC__getDistance2D(r[i])
						if dist &lt; d then
							d = dist
							closest = r[i]
						end
					end
					--Offset from object's insertion point to the midpoint between the displaypoints for the masts that are involved:
					local startX = geoCoord.X + SymbolOffset.X
					local startY = geoCoord.Y + SymbolOffset.Y
					local endX = closest.geoCoord.X + closest.SymbolOffset.X
					local endY = closest.geoCoord.Y + closest.SymbolOffset.Y
					return { SymbolOffset.X + (endX - startX)/2 + worldOffsetX,
							SymbolOffset.Y + (endY - startY)/2 + worldOffsetY }
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="_JBTEH_MAS_SpanLengthTextOffset2()" ReturnType="Vector2D" HideFromUser="false" Description="Returns a World Coordinate System offset vector for the second span length custom text attribute, by default from the object's insertion point to halfway between the concerned masts' display points. Optionally, specify offsets as [offsetLateral2 [,offsetAlong2]]).">
  <Constructor>{Double,Double} _JBTEH_MAS_SpanLengthTextOffset2([Double offsetLateral2 [,Double offsetAlong2]])</Constructor>
  <Formula>
			function _JBTEH_MAS_SpanLengthTextOffset2(offsetLateral2,offsetAlong2)
				offsetLateral2 = offsetLateral2 or 0
				offsetAlong2 = offsetAlong2 or 0
				worldOffsetX,worldOffsetY = RC__acsVector2wcsVector(offsetLateral2,offsetAlong2)
				local r,n = RC__getCollectionOfRelatedObjects("Neste kl-mast")
				if n == 0 or n == 1 then
					return {worldOffsetX,worldOffsetY}
				else
					local d,d2,closest,closest2,i
					d = math.huge
					d2 = math.huge
					closest = r[0]
					for i = 0, n-1 do
						dist = RC__getDistance2D(r[i])
						if dist &lt; d then
							d2 = d
							closest2 = closest
							d = dist
							closest = r[i]
						elseif dist &lt; d2 then
							d2 = dist
							closest2 = r[i]
						end
					end
					--Offset from object's insertion point to the midpoint between the displaypoints for the masts that are involved:
					local startX = geoCoord.X + SymbolOffset.X
					local startY = geoCoord.Y + SymbolOffset.Y
					local endX = closest2.geoCoord.X + closest2.SymbolOffset.X
					local endY = closest2.geoCoord.Y + closest2.SymbolOffset.Y
					return { SymbolOffset.X + (endX - startX)/2 + worldOffsetX,
					         SymbolOffset.Y + (endY - startY)/2 + worldOffsetY }
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="_JBTEH_MAS_SpanLengthTextRotation()" ReturnType="Double" HideFromUser="false" Description="Returns the text attribute's rotation for the shortest span length custom text attribute, to place the text nicely between its two masts' display points.">
  <Constructor>Double _JBTEH_MAS_SpanLengthTextRotation()</Constructor>
  <Formula>
			function _JBTEH_MAS_SpanLengthTextRotation()
				local r,n = RC__getCollectionOfRelatedObjects("Neste kl-mast")
				local d,closest,i
				if n == 0 then 
					return AlignmentTangent
				else 
					d = math.huge
					closest = r[0]
					for i = 0, n-1 do
						dist = RC__getDistance2D(r[i])
						if dist &lt; d then
							d = dist
							closest = r[i]
						end
					end
					--WCS angle between the displaypoints for the masts that are involved:
					startX = geoCoord.X + SymbolOffset.X
					startY = geoCoord.Y + SymbolOffset.Y
					endX = closest.geoCoord.X + closest.SymbolOffset.X
					endY = closest.geoCoord.Y + closest.SymbolOffset.Y
					return math.deg(math.atan(endY - startY, endX - startX)) + (MileageIncreasesTowardsLeft and 180 or 0)
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="_JBTEH_MAS_SpanLengthTextRotation2()" ReturnType="Double" HideFromUser="false" Description="Returns the text attribute's rotation for the second shortest span length custom text attribute, to place the text nicely between its two masts.">
  <Constructor>Double _JBTEH_MAS_SpanLengthTextRotation2()</Constructor>
  <Formula>
			function _JBTEH_MAS_SpanLengthTextRotation2()
				local r,n = RC__getCollectionOfRelatedObjects("Neste kl-mast")
				local d,d2,closest,closest2,i
				if n == 0 then
					local tg = getAlignmentInfo().tangent
					return math.atan(tg.Y,tg.X) * (180/math.pi)
				else
					d = math.huge
					d2 = math.huge
					closest = r[0]
					for i = 0, n-1 do
						dist = RC__getDistance2D(r[i])
						if dist &lt; d then
							d2 = d
							closest2 = closest
							d = dist
							closest = r[i]
						elseif dist &lt; d2 then
							d2 = dist
							closest2 = r[i]
						end
					end
					--WCS angle between the displaypoints for the masts that are involved:
					startX = geoCoord.X + SymbolOffset.X
					startY = geoCoord.Y + SymbolOffset.Y
					endX = closest2.geoCoord.X + closest2.SymbolOffset.X
					endY = closest2.geoCoord.Y + closest2.SymbolOffset.Y
					return math.deg(math.atan(endY - startY, endX - startX)) + (MileageIncreasesTowardsLeft and 180 or 0)
				end
			end
		</Formula>
 </LuaFunction>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_MAS KL-mast" Layer="JBTEH_MAS" Color="ByLayer" Group="Kontaktledning/Master" AttMirrorX="{% if MileageIncreasesTowardsLeft %}true{% else %}false{% endif %}" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>kl-mast</RelationSpace>
  <AttachmentCategory Name="kl-mast"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTEH@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTEH@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Bjelkemast">
   <Variant Name="Bjelkemast">
    <SetValue Key="OcsMastProfile" Value="HEB240"/>
    <SetValue Key="OcsMastHeight" Value="7500"/>
   </Variant>
   <Variant Name="GMB-mast">
    <SetValue Key="OcsMastProfile" Value="HEB240"/>
    <SetValue Key="OcsMastHeight" Value="7500"/>
   </Variant>
   <Variant Name="H-mast">
    <SetValue Key="OcsMastProfile" Value="H3"/>
    <SetValue Key="OcsMastHeight" Value="7500"/>
   </Variant>
   <Variant Name="B-mast">
    <SetValue Key="OcsMastProfile" Value="B3"/>
    <SetValue Key="OcsMastHeight" Value="7500"/>
   </Variant>
   <Variant Name="Betongmast">
    <SetValue Key="OcsMastProfile" Value="13"/>
    <SetValue Key="OcsMastDepth" Value="2000"/>
    <SetValue Key="OcsMastHeight" Value="8000"/>
   </Variant>
   <Variant Name="Tremast">
    <SetValue Key="OcsMastProfile" Value="Ø260"/>
    <SetValue Key="OcsMastDepth" Value="1600"/>
    <SetValue Key="OcsMastHeight" Value="7500"/>
   </Variant>
  </Variants>
  <LuaFunction Name="_JBTEH_MAS_otherObjectsToModelcheck()" ReturnType="String" Description="Returns the number of other items to modelcheck, and a table with references to them.">
   <Constructor>_JBTEH_MAS_otherObjectsToModelcheck()</Constructor>
   <Formula>
				function _JBTEH_MAS_otherObjectsToModelcheck()
					s = "Er åk-mast for åk"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n > 0 then
						s1 = "Er åk holdt oppe av kl-mast"
						r1,n1 = RC__getCollectionOfRelatedObjects(s1)
						t = {}
						txt = nil
						for i = 0, n1-1 do 
							table.insert(t,r1[i])
							txt = txt and txt..","..RC__identify(r1[i]) or "{"..RC__identify(r1[i])
						end
						s2 = "Er hengemast festet i åk"
						r2,n2 = RC__getCollectionOfRelatedObjects(s2)
						for i = 0, n2-1 do
							table.insert(t,r2[i])
							txt = txt and txt..","..RC__identify(r1[i]) or "{"..RC__identify(r1[i])
						end
						if n1+n2 == 0 then
							return 0,_info("No other objects to modelcheck.")
						else
							m = 1 + n1 + n2 --One for the yoke
							return t
						end
					end
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_OtherObjectsToBeModelchecked" DisplayName="Other objects to be refreshed" Description="If this mast supports a yoke, then the yoke with more masts are modelchecked as well."/>
  <LuaExpression Name="mc_OtherObjectsToBeModelchecked" IsModelCheck="true">
   <Formula>_JBTEH_MAS_otherObjectsToModelcheck()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="OcsMastProfile" DisplayName="Masteprofil" Description="The overhead catenary system (OCS) mast profile (omp) [HEB200..280 | H3..H6 | B2..B6 | 240x240 | Ø260].">
   <Values Variant="Bjelkemast">
    <Value>HEB280</Value>
    <Value>HEB260</Value>
    <Value>HEB240</Value>
    <Value>HEB220</Value>
    <Value>HEB200</Value>
   </Values>
   <Values Variant="GMB-mast">
    <Value>HEB280</Value>
    <Value>HEB260</Value>
    <Value>HEB240</Value>
    <Value>HEB220</Value>
    <Value>HEB200</Value>
   </Values>
   <Values Variant="H-mast">
    <Value>H6</Value>
    <Value>H5</Value>
    <Value>H3</Value>
   </Values>
   <Values Variant="B-mast">
    <Value>B6</Value>
    <Value>B5</Value>
    <Value>B4</Value>
    <Value>B3</Value>
    <Value>B2</Value>
   </Values>
   <Values Variant="Betongmast">
    <Value>27</Value>
    <Value>26</Value>
    <Value>25</Value>
    <Value>24</Value>
    <Value>23</Value>
    <Value>22</Value>
    <Value>21</Value>
    <Value>20</Value>
    <Value>19</Value>
    <Value>18</Value>
    <Value>17</Value>
    <Value>16</Value>
    <Value>15</Value>
    <Value>14</Value>
    <Value>13</Value>
    <Value>19S</Value>
    <Value>18S</Value>
    <Value>17S</Value>
    <Value>16S</Value>
    <Value>15S</Value>
    <Value>14S</Value>
    <Value>13S</Value>
   </Values>
   <Values Variant="Tremast">
    <Value>Ø260</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="OcsMastHeight" DisplayName="Mastehøyde" DefaultValue="7000" Description="The overhead catenary system (OCS) mast height (omh) [mm], given in predefined lengths in 100 millimeter steps.">
   <Values Variant="Bjelkemast">
    <Value>13000</Value>
    <Value>12500</Value>
    <Value>12000</Value>
    <Value>11500</Value>
    <Value>11000</Value>
    <Value>10500</Value>
    <Value>10000</Value>
    <Value>9500</Value>
    <Value>9000</Value>
    <Value>8500</Value>
    <Value>8000</Value>
    <Value>7500</Value>
    <Value>7000</Value>
    <Value>6500</Value>
    <Value>6000</Value>
   </Values>
   <Values Variant="GMB-mast">
    <Value>13000</Value>
    <Value>12500</Value>
    <Value>12000</Value>
    <Value>11500</Value>
    <Value>11000</Value>
    <Value>10500</Value>
    <Value>10000</Value>
    <Value>9500</Value>
    <Value>9000</Value>
    <Value>8500</Value>
    <Value>8000</Value>
    <Value>7500</Value>
    <Value>7000</Value>
    <Value>6500</Value>
    <Value>6000</Value>
   </Values>
   <Values Variant="H-mast">
    <Value>13000</Value>
    <Value>12500</Value>
    <Value>12000</Value>
    <Value>11500</Value>
    <Value>11000</Value>
    <Value>10500</Value>
    <Value>10000</Value>
    <Value>9500</Value>
    <Value>9000</Value>
    <Value>8500</Value>
    <Value>8000</Value>
    <Value>7500</Value>
    <Value>7000</Value>
    <Value>6500</Value>
    <Value>6000</Value>
   </Values>
   <Values Variant="B-mast">
    <Value>13000</Value>
    <Value>12500</Value>
    <Value>12000</Value>
    <Value>11500</Value>
    <Value>11000</Value>
    <Value>10500</Value>
    <Value>10000</Value>
    <Value>9500</Value>
    <Value>9000</Value>
    <Value>8500</Value>
    <Value>8000</Value>
    <Value>7500</Value>
   </Values>
   <Values Variant="Betongmast">
    <Value>13000</Value>
    <Value>12000</Value>
    <Value>11000</Value>
    <Value>10000</Value>
    <Value>9000</Value>
    <Value>8000</Value>
    <Value>7000</Value>
    <Value>6000</Value>
   </Values>
   <Values Variant="Betongmast, smal">
    <Value>13000</Value>
    <Value>12000</Value>
    <Value>11000</Value>
    <Value>10000</Value>
    <Value>9000</Value>
    <Value>8000</Value>
    <Value>7000</Value>
    <Value>6000</Value>
   </Values>
   <Values Variant="Tremast">
    <Value>12000</Value>
    <Value>11500</Value>
    <Value>11000</Value>
    <Value>10500</Value>
    <Value>10000</Value>
    <Value>9500</Value>
    <Value>9000</Value>
    <Value>8500</Value>
    <Value>8000</Value>
    <Value>7500</Value>
    <Value>7000</Value>
    <Value>6500</Value>
    <Value>6000</Value>
   </Values>
  </CustomAttribute>
  <LuaExpression Name="OcsMastHeight">
   <Formula>_JBTEH_MAS_OcsMastHeight()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_MAS_OcsMastHeight()" ReturnType="Double" HideFromUser="false" Description="Returns an angular offset, to orient the (ordinary) mast colinear with its yoke (if any).">
   <Constructor>Double _JBTEH_MAS_OcsMastHeight()</Constructor>
   <Formula>
				function _JBTEH_MAS_OcsMastHeight()
					r,n = RC__getCollectionOfRelatedObjects("Er åk-mast for åk")
					if n &gt; 0 then
						return string.format("%.0f", 500 * ((r[0].RelativeElevation + 1.0) // 0.5)) --[mm]
					else
						return 8500 --default value, assuming yoke has default RelativeElevation of 7.9
					end
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="Enumeration" Name="OcsMastDepth" DisplayName="Mastedybde" DefaultValue="0" Description="Only applicable to wooden and concrete masts. The overhead catenary system (OCS) mast depth below ground reference level (omd) [mm].">
   <Values Variant="Bjelkemast">
    <Value>0</Value>
   </Values>
   <Values Variant="GMB-mast">
    <Value>0</Value>
   </Values>
   <Values Variant="H-mast">
    <Value>0</Value>
   </Values>
   <Values Variant="B-mast">
    <Value>0</Value>
   </Values>
   <Values Variant="Betongmast">
    <Value>2000</Value>
   </Values>
   <Values Variant="Tremast">
    <Value>2000</Value>
    <Value>1800</Value>
    <Value>1600</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="NewOrExisting" DisplayName="Ny eller eksisterende" DefaultValue="Ny" Description="The overhead catenary system (OCS) mast's age [Ny | Eksisterende] (New/Existing).">
   <Value>Ny</Value>
   <Value>Eksisterende</Value>
  </CustomAttribute>
  <CustomAttribute DataType="Double" Name="SpanLength" DisplayName="Spennlengde" DefaultValue="30" Description="The span length (sl) [m] denotes the distance traveled along the associated alignment's reference alignment (projected onto the XY plane) from this mast to the closest next mast, related using 'Neste kl-mast'/'Forrige kl-mast'."/>
  <LuaExpression Name="SpanLength">
   <Formula>_JBTEH_MAS_SpanLength()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" Name="SpanLengthDisplay" DisplayName="Spennlengde visning" DefaultValue="" Description="The span length value [m] being displayed close to the OCS mast."/>
  <LuaExpression Name="SpanLengthDisplay">
   <Formula>_JBTEH_MAS_SpanLengthDisplay()</Formula>
  </LuaExpression>
  <TextAttribute Annotative="true" BindingProperty="SpanLengthDisplay" CadAttributeTag="SPENNLENGDE" X="15" Y="5" Layer="JBTEH@SPENNLENGDE" Justify="MiddleCenter" Height="0.9" Width="0" Rotation="0" ObliqueAngle="0" Constant="false" Invisible="false" Lock="false" MText="false"/>
  <CustomAttribute DataType="Double" Name="SpanLengthTextOffsetLateral" DisplayName="Sideveis spennlengdetekst offset" DefaultValue="0" Description="The span length(s) text lateral offset along [m] denotes the distance, transversal to the mast's tangent direction, to offset the text element(s)."/>
  <CustomAttribute DataType="Double" Name="SpanLengthTextOffsetAlong" DisplayName="Langsmed spennlengdetekst offset" DefaultValue="0" Description="The span length(s) text along-offset [m] denotes the distance, along the mast's tangent direction, to offset the text element(s)."/>
  <TextPositionLuaExpression Name="SPENNLENGDE">
   <Formula>_JBTEH_MAS_SpanLengthTextOffset(SpanLengthTextOffsetLateral,SpanLengthTextOffsetAlong)</Formula>
  </TextPositionLuaExpression>
  <TextRotationLuaExpression Name="SPENNLENGDE">
   <Formula>_JBTEH_MAS_SpanLengthTextRotation()</Formula>
  </TextRotationLuaExpression>
  <CustomAttribute DataType="Double" Name="SpanLength2" DisplayName="Spennlengde 2" DefaultValue="30.0" Description="The span length 2 (sl) [m] denotes the distance traveled along the associated alignment's reference alignment (projected onto the XY plane) from this mast to the second closest next mast, related using 'Neste kl-mast'/'Forrige kl-mast'."/>
  <LuaExpression Name="SpanLength2">
   <Formula>_JBTEH_MAS_SpanLength2()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" Name="SpanLengthDisplay2" DisplayName="Spennlengde visning 2" DefaultValue="" Description="The span length 2 value [m] being displayed close to the OCS mast, rounded to the closest integer value."/>
  <LuaExpression Name="SpanLengthDisplay2">
   <Formula>_JBTEH_MAS_SpanLengthDisplay2()</Formula>
  </LuaExpression>
  <TextAttribute Annotative="true" BindingProperty="SpanLengthDisplay2" CadAttributeTag="SPENNLENGDE2" X="15" Y="7" Layer="JBTEH@SPENNLENGDE" Justify="MiddleCenter" Height="0.9" Width="0" Rotation="0" ObliqueAngle="0" Constant="false" Invisible="false" Lock="false" MText="false"/>
  <CustomAttribute DataType="Double" Name="SpanLengthTextOffsetLateral2" DisplayName="Sideveis spennlengdetekst offset 2" DefaultValue="0" Description="The span length(s) text lateral offset along [m] denotes the distance, transversal to the mast's tangent direction, to offset the text element(s)."/>
  <CustomAttribute DataType="Double" Name="SpanLengthTextOffsetAlong2" DisplayName="Langsmed spennlengdetekst offset 2" DefaultValue="0" Description="The span length(s) text along-offset [m] denotes the distance, along the mast's tangent direction, to offset the text element(s)."/>
  <TextPositionLuaExpression Name="SPENNLENGDE2">
   <Formula>_JBTEH_MAS_SpanLengthTextOffset2(SpanLengthTextOffsetLateral2,SpanLengthTextOffsetAlong2)</Formula>
  </TextPositionLuaExpression>
  <TextRotationLuaExpression Name="SPENNLENGDE2">
   <Formula>_JBTEH_MAS_SpanLengthTextRotation2()</Formula>
  </TextRotationLuaExpression>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>_JBTEH_MAS_non_yoke_mast_code()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>code</Formula>
  </LuaExpression>
  <LuaExpression Name="AngularOffset">
   <Formula>_JBTEH_MAS_mast_AngularOffset()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_MAS_mast_AngularOffset()" ReturnType="Double" HideFromUser="false" Description="Returns an angular offset, to orient the (ordinary) mast colinear with its yoke (if any).">
   <Constructor>Double _JBTEH_MAS_mast_AngularOffset()</Constructor>
   <Formula>
				function _JBTEH_MAS_mast_AngularOffset()
					local yRelationName = "Er åk-mast for åk"
					yr,yn = RC__getCollectionOfRelatedObjects(yRelationName)
					if yn == 0 then
						return getPropertyValue("AngularOffset"),_info("No control input - adjust angular offset manually or relate with '"..yRelationName.."' to a yoke (which has second support mast).")
				
					else
						local yoke = yr[0]
						local s = "Er åk holdt oppe av kl-mast"
						local r,n = RC__getCollectionOfRelatedObjects(s,yoke)
				
						if n == 0 then
							return getPropertyValue("AngularOffset"),_error,
								_info("*** ERROR Mast has bad connection to galley '"..RC__identify(yoke).."'.")
				
						elseif n == 1 then
							--Galley:
							return getPropertyValue("AngularOffset"),
								_info("Mast is connected to a galley '"..RC__identify(yoke)..
								"' - adjust mast's angular offset manually or change galley into yoke (which has one more yoke support mast).")
						
						elseif n == 2 then
							--Assume that the first two related masts are located at the yoke's extremities:
							local m1 = r[0]
							local m2 = r[1]
							if RC__getDistance2D(this,m1) &gt; RC__getDistance2D(this,m2) then m1,m2 = m2,m1 end 
							local x1 = m1.geoCoord.X		
							local y1 = m1.geoCoord.Y
							local x2 = m2.geoCoord.X
							local y2 = m2.geoCoord.Y
							local yokeAngle = math.atan(y2-y1,x2-x1) * (180/math.pi) 
							local tg = getAlignmentInfo().Tangent
							local baseAngle = math.atan(tg.Y,tg.X) * (180/math.pi)
							local info = "Angular Offset deduced using yoke support masts '"..RC__identify(m1).."' and '"..RC__identify(m2).."'."
							return (2*360.0 + RC__round(yokeAngle - (baseAngle-90.0),3)) % 360.0,_info(info)
				
						else
							--TODO: Locate the two support masts at each end of yoke, uses this to find angular offset, then turn yourself if you 
							--are a support mast at one or the other end, or just adapt if you are in between ends.
							return getPropertyValue("AngularOffset"),
								_info("Mast is connected to a yoke '"..RC__identify(yoke).." with total 3 or more supporting masts"..
								"' - adjust mast's angular offset manually.")
						end
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTEH_MAS_KlMast_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_MAS_KlMast_Model3DName()" ReturnType="String" Description="Obtains the 'Model3DName' for this KL mast.">
   <Formula>
				function _JBTEH_MAS_KlMast_Model3DName()
					if Variant == "Bjelkemast" then
						return "NO-BN-3D-EH-MAS-BJELKEMAST-" ..OcsMastProfile .."-191x374xM36-"..OcsMastHeight
					elseif Variant == "GMB-mast" then
						--TODO: Få ekte data for GMB-mastene, Lage 3D GMB-master
						return "NO-BN-3D-EH-MAS-GMBMAST-" ..OcsMastProfile .."-" ..OcsMastHeight
					elseif Variant == "H-mast" then
						--Assume the 191x374 modern type:
						return "NO-BN-3D-EH-MAS-GITTERMAST-" ..OcsMastProfile .."-191x374xM36-"..OcsMastHeight
					elseif Variant == "B-mast" then
						--Assume the 191x374 modern type:
						return "NO-BN-3D-EH-MAS-GITTERMAST-" ..OcsMastProfile .."-191x374xM36-"..OcsMastHeight
					elseif Variant == "Betongmast" then
						return "NO-BN-3D-EH-MAS-BETONGMAST-" ..OcsMastProfile .."-"..OcsMastDepth.."-"..OcsMastHeight
					elseif Variant == "Tremast" then
						return "NO-BN-3D-EH-MAS-TREMAST-" ..OcsMastProfile .."-"..OcsMastDepth.."-"..OcsMastHeight
					else
						return "Ukjent Variant ["..Variant.."]",_warning
					end
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Bjelkemast" DisplayBlockName="NO-BN-2D-JBTEH_MAS-BJELKEMAST-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4" SubGroup="Ordinære master">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="GMB-mast" DisplayBlockName="NO-BN-2D-JBTEH_MAS-GMBMAST-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4" SubGroup="Ordinære master">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="H-mast" DisplayBlockName="NO-BN-2D-JBTEH_MAS-GITTERMAST-H-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4" SubGroup="Ordinære master">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="B-mast" DisplayBlockName="NO-BN-2D-JBTEH_MAS-GITTERMAST-B-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4" SubGroup="Ordinære master">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Betongmast" DisplayBlockName="NO-BN-2D-JBTEH_MAS-BETONGMAST-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4" SubGroup="Ordinære master">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Tremast" DisplayBlockName="NO-BN-2D-JBTEH_MAS-TREMAST-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4" SubGroup="Ordinære master">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_MAS-BJELKEMAST-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_MAS
				{%    if Variant == 'Bjelkemast' %}BJELKEMAST
				{% elsif Variant == 'GMB-mast' %}GMBMAST
				{% elsif Variant == 'B-mast' %}GITTERMAST-B
				{% elsif Variant == 'H-mast' %}GITTERMAST-H
				{% elsif Variant == 'Betongmast' %}BETONGMAST
				{% elsif Variant == 'Tremast' %}TREMAST
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="åk"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="skilt"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="utligger"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="avspenning"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="kl-fundament"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="autotransformator"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="beskyttelse"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="seksjonsutliggerkonsoll"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_MAS Hengemast for bru og tunnel" Layer="JBTEH_MAS_HGM_TUNNEL" Color="ByLayer" Group="Kontaktledning/Master" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>kl-mast</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="8" Y="0" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="8" Y="-1.5" Layer="JBTEH@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="8" Y="1.5" Layer="JBTEH@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Hengemast for bru og tunnel">
   <Variant Name="Hengemast for bru og tunnel">
    <SetValue Key="OcsMastProfile" Value="Sirkulær, Ø120"/>
    <SetValue Key="OcsMastHeight" Value="3100"/>
   </Variant>
   <Variant Name="Hengemast Cariboni">
    <SetValue Key="OcsMastProfile" Value="Rektangulær, 100x150"/>
    <SetValue Key="OcsMastHeight" Value="3100"/>
   </Variant>
  </Variants>
  <CustomAttribute DataType="Enumeration" Name="OcsMastProfile" DisplayName="Masteprofil" DefaultValue="Sirkulær, Ø120" Description="The overhead catenary system (OCS) suspension mast profile (smp) [Sirkulær, Ø120 | Rektangulær, 100x150 | Rektangulær, 100x200].">
   <Values Variant="Hengemast for bru og tunnel">
    <Value>Sirkulær, Ø120</Value>
    <Value>Rektangulær, 100x150</Value>
    <Value>Rektangulær, 100x200</Value>
   </Values>
   <Values Variant="Hengemast Cariboni">
    <Value>Rektangulær, 100x150</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="OcsMastHeight" DisplayName="Høyde" DefaultValue="3600" Description="The overhead catenary system (OCS) suspension mast height (smh) [mm], given in predefined lengths 0.5m - 5.0m in 50 millimeter steps.">
   <Values Variant="Hengemast for bru og tunnel">
    <Value>5000</Value>
    <Value>4950</Value>
    <Value>4900</Value>
    <Value>4850</Value>
    <Value>4800</Value>
    <Value>4750</Value>
    <Value>4700</Value>
    <Value>4650</Value>
    <Value>4600</Value>
    <Value>4550</Value>
    <Value>4500</Value>
    <Value>4450</Value>
    <Value>4400</Value>
    <Value>4350</Value>
    <Value>4300</Value>
    <Value>4250</Value>
    <Value>4200</Value>
    <Value>4150</Value>
    <Value>4100</Value>
    <Value>4050</Value>
    <Value>4000</Value>
    <Value>3950</Value>
    <Value>3900</Value>
    <Value>3850</Value>
    <Value>3800</Value>
    <Value>3750</Value>
    <Value>3700</Value>
    <Value>3650</Value>
    <Value>3600</Value>
    <Value>3550</Value>
    <Value>3500</Value>
    <Value>3450</Value>
    <Value>3400</Value>
    <Value>3350</Value>
    <Value>3300</Value>
    <Value>3250</Value>
    <Value>3200</Value>
    <Value>3150</Value>
    <Value>3100</Value>
    <Value>3050</Value>
    <Value>3000</Value>
    <Value>2950</Value>
    <Value>2900</Value>
    <Value>2850</Value>
    <Value>2800</Value>
    <Value>2750</Value>
    <Value>2700</Value>
    <Value>2650</Value>
    <Value>2600</Value>
    <Value>2550</Value>
    <Value>2500</Value>
    <Value>2450</Value>
    <Value>2400</Value>
    <Value>2350</Value>
    <Value>2300</Value>
    <Value>2250</Value>
    <Value>2200</Value>
    <Value>2150</Value>
    <Value>2100</Value>
    <Value>2050</Value>
    <Value>2000</Value>
    <Value>1950</Value>
    <Value>1900</Value>
    <Value>1850</Value>
    <Value>1800</Value>
    <Value>1750</Value>
    <Value>1700</Value>
    <Value>1650</Value>
    <Value>1600</Value>
    <Value>1550</Value>
    <Value>1500</Value>
    <Value>1450</Value>
    <Value>1400</Value>
    <Value>1350</Value>
    <Value>1300</Value>
    <Value>1250</Value>
    <Value>1200</Value>
    <Value>1150</Value>
    <Value>1100</Value>
    <Value>1050</Value>
    <Value>1000</Value>
    <Value>950</Value>
    <Value>900</Value>
    <Value>850</Value>
    <Value>800</Value>
    <Value>750</Value>
    <Value>700</Value>
    <Value>650</Value>
    <Value>600</Value>
    <Value>550</Value>
    <Value>500</Value>
   </Values>
   <Values Variant="Hengemast Cariboni">
    <Value>5000</Value>
    <Value>4950</Value>
    <Value>4900</Value>
    <Value>4850</Value>
    <Value>4800</Value>
    <Value>4750</Value>
    <Value>4700</Value>
    <Value>4650</Value>
    <Value>4600</Value>
    <Value>4550</Value>
    <Value>4500</Value>
    <Value>4450</Value>
    <Value>4400</Value>
    <Value>4350</Value>
    <Value>4300</Value>
    <Value>4250</Value>
    <Value>4200</Value>
    <Value>4150</Value>
    <Value>4100</Value>
    <Value>4050</Value>
    <Value>4000</Value>
    <Value>3950</Value>
    <Value>3900</Value>
    <Value>3850</Value>
    <Value>3800</Value>
    <Value>3750</Value>
    <Value>3700</Value>
    <Value>3650</Value>
    <Value>3600</Value>
    <Value>3550</Value>
    <Value>3500</Value>
    <Value>3450</Value>
    <Value>3400</Value>
    <Value>3350</Value>
    <Value>3300</Value>
    <Value>3250</Value>
    <Value>3200</Value>
    <Value>3150</Value>
    <Value>3100</Value>
    <Value>3050</Value>
    <Value>3000</Value>
    <Value>2950</Value>
    <Value>2900</Value>
    <Value>2850</Value>
    <Value>2800</Value>
    <Value>2750</Value>
    <Value>2700</Value>
    <Value>2650</Value>
    <Value>2600</Value>
    <Value>2550</Value>
    <Value>2500</Value>
    <Value>2450</Value>
    <Value>2400</Value>
    <Value>2350</Value>
    <Value>2300</Value>
    <Value>2250</Value>
    <Value>2200</Value>
    <Value>2150</Value>
    <Value>2100</Value>
    <Value>2050</Value>
    <Value>2000</Value>
    <Value>1950</Value>
    <Value>1900</Value>
    <Value>1850</Value>
    <Value>1800</Value>
    <Value>1750</Value>
    <Value>1700</Value>
    <Value>1650</Value>
    <Value>1600</Value>
    <Value>1550</Value>
    <Value>1500</Value>
    <Value>1450</Value>
    <Value>1400</Value>
    <Value>1350</Value>
    <Value>1300</Value>
    <Value>1250</Value>
    <Value>1200</Value>
    <Value>1150</Value>
    <Value>1100</Value>
    <Value>1050</Value>
    <Value>1000</Value>
    <Value>950</Value>
    <Value>900</Value>
    <Value>850</Value>
    <Value>800</Value>
    <Value>750</Value>
    <Value>700</Value>
    <Value>650</Value>
    <Value>600</Value>
    <Value>550</Value>
    <Value>500</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="NewOrExisting" DisplayName="Ny eller eksisterende" DefaultValue="Ny" Description="The overhead catenary system (OCS) mast's age [Ny | Eksisterende].">
   <Value>Ny</Value>
   <Value>Eksisterende</Value>
  </CustomAttribute>
  <CustomAttribute DataType="Double" Name="SpanLength" DisplayName="Spennlengde" DefaultValue="30" Description="The span length (sl) [m] denotes the distance traveled along the associated alignment's reference alignment (projected onto the XY plane) from this mast to the closest next mast, related using 'Neste kl-mast'/'Forrige kl-mast'."/>
  <LuaExpression Name="SpanLength">
   <Formula>_JBTEH_MAS_SpanLength()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" Name="SpanLengthDisplay" DisplayName="Spennlengde visning" DefaultValue="" Description="The span length value [m] being displayed close to the OCS mast."/>
  <LuaExpression Name="SpanLengthDisplay">
   <Formula>_JBTEH_MAS_SpanLengthDisplay()</Formula>
  </LuaExpression>
  <TextAttribute Annotative="true" BindingProperty="SpanLengthDisplay" CadAttributeTag="SPENNLENGDE" X="15" Y="5" Layer="JBTEH@SPENNLENGDE" Justify="MiddleCenter" Height="0.9" Width="0" Rotation="0" ObliqueAngle="0" Constant="false" Invisible="false" Lock="false" MText="false"/>
  <CustomAttribute DataType="Double" Name="SpanLengthTextOffsetLateral" DisplayName="Sideveis spennlengdetekst offset" DefaultValue="0" Description="The span length(s) text lateral offset along [m] denotes the distance, transversal to the mast's tangent direction, to offset the text element(s)."/>
  <CustomAttribute DataType="Double" Name="SpanLengthTextOffsetAlong" DisplayName="Langsmed spennlengdetekst offset" DefaultValue="0" Description="The span length(s) text along-offset [m] denotes the distance, along the mast's tangent direction, to offset the text element(s)."/>
  <TextPositionLuaExpression Name="SPENNLENGDE">
   <Formula>_JBTEH_MAS_SpanLengthTextOffset(SpanLengthTextOffsetLateral,SpanLengthTextOffsetAlong)</Formula>
  </TextPositionLuaExpression>
  <TextRotationLuaExpression Name="SPENNLENGDE">
   <Formula>_JBTEH_MAS_SpanLengthTextRotation()</Formula>
  </TextRotationLuaExpression>
  <CustomAttribute DataType="Double" Name="SpanLength2" DisplayName="Spennlengde 2" DefaultValue="30.0" Description="The span length 2 (sl) [m] denotes the distance traveled along the associated alignment's reference alignment (projected onto the XY plane) from this mast to the second closest next mast, related using 'Neste kl-mast'/'Forrige kl-mast'."/>
  <LuaExpression Name="SpanLength2">
   <Formula>_JBTEH_MAS_SpanLength2()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" Name="SpanLengthDisplay2" DisplayName="Spennlengde visning 2" DefaultValue="" Description="The span length 2 value [m] being displayed close to the OCS mast, rounded to the closest integer value."/>
  <LuaExpression Name="SpanLengthDisplay2">
   <Formula>_JBTEH_MAS_SpanLengthDisplay2()</Formula>
  </LuaExpression>
  <TextAttribute Annotative="true" BindingProperty="SpanLengthDisplay2" CadAttributeTag="SPENNLENGDE2" X="15" Y="7" Layer="JBTEH@SPENNLENGDE" Justify="MiddleCenter" Height="0.9" Width="0" Rotation="0" ObliqueAngle="0" Constant="false" Invisible="false" Lock="false" MText="false"/>
  <CustomAttribute DataType="Double" Name="SpanLengthTextOffsetLateral2" DisplayName="Sideveis spennlengdetekst offset 2" DefaultValue="0" Description="The span length(s) text lateral offset along [m] denotes the distance, transversal to the mast's tangent direction, to offset the text element(s)."/>
  <CustomAttribute DataType="Double" Name="SpanLengthTextOffsetAlong2" DisplayName="Langsmed spennlengdetekst offset 2" DefaultValue="0" Description="The span length(s) text along-offset [m] denotes the distance, along the mast's tangent direction, to offset the text element(s)."/>
  <TextPositionLuaExpression Name="SPENNLENGDE2">
   <Formula>_JBTEH_MAS_SpanLengthTextOffset2(SpanLengthTextOffsetLateral2,SpanLengthTextOffsetAlong2)</Formula>
  </TextPositionLuaExpression>
  <TextRotationLuaExpression Name="SPENNLENGDE2">
   <Formula>_JBTEH_MAS_SpanLengthTextRotation2()</Formula>
  </TextRotationLuaExpression>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>_JBTEH_MAS_non_yoke_mast_code()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>code</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>_JBTEH_MAS_tunnel_suspension_mast_RelativeElevation()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_MAS_tunnel_suspension_mast_RelativeElevation()" ReturnType="Double" HideFromUser="false" Description="Returns the relative elevation for a ocs mast suspended from a yoke, based on the yoke's type and relative elevation.">
   <Constructor>Double _JBTEH_MAS_tunnel_suspension_mast_RelativeElevation()</Constructor>
   <Formula>
				function _JBTEH_MAS_tunnel_suspension_mast_RelativeElevation()
					s = "Har kl-fundament"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						-- Belongs to a bridge underside (with no bolt group/foundation object), or has not (yet) received its bolt group relation:
						return 7.0,_info(
						"UNFINISHED - Relate mast with 'Har kl-fundament' to OCS ceiling bolt group, or delete formula and replace by actual relative height if bolt group is irrelevant.")
					else
						-- Has bolt group:
						return r[0].RelativeElevation,_info("Value obtained from foundation '"..RC__identify(r[0]).."'.")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTEH_MAS_tunnel_mast_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_MAS_tunnel_mast_Model3DName()" ReturnType="String" Description="Obtains the 'Model3DName' for this OCS suspension mast.">
   <Constructor>String _JBTEH_MAS_tunnel_mast_Model3DName()</Constructor>
   <Formula>
				function _JBTEH_MAS_tunnel_mast_Model3DName()
					local h = (math.floor((125 + OcsMastHeight) / 250)) * 250 -- Assume 3D models in steps of 250 mm
					if Variant:match("Hengemast for bru og tunnel") then
						if (OcsMastProfile == "Sirkulær, Ø120") then
							return "NO-BN-3D-EH-MAS-HENGEMAST-FOR-BRU-OG-TUNNEL-350x350xM24-Ø120-"..h
						elseif (OcsMastProfile == "Rektangulær, 100x150") then 
							return "NO-BN-3D-EH-MAS-HENGEMAST-FOR-BRU-OG-TUNNEL-350x350xM24-HUP-100x150-"..h
						elseif (OcsMastProfile == "Rektangulær, 100x200") then
							return "NO-BN-3D-EH-MAS-HENGEMAST-FOR-BRU-OG-TUNNEL-350x350xM24-HUP-100x200-"..h
						end
					elseif Variant:match("Hengemast Cariboni") then
						if (OcsMastProfile == "Rektangulær, 100x150") then 
							return "NO-BN-3D-EH-MAS-HENGEMAST-FOR-BRU-OG-TUNNEL-350x350xM24-HUP-100x150-"..h
						end
					else 
						return "Bad OCS suspension mast Variant ["..Variant.."].",_warning
					end
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Hengemast for bru og tunnel" DisplayBlockName="NO-BN-2D-JBTEH_HGM-HENGEMAST-FOR-TUNNEL-OG-BRU-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="2.65" SubGroup="Hengemast for bru og tunnel">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Hengemast Cariboni" DisplayBlockName="NO-BN-2D-JBTEH_HGM-HENGEMAST-CARIBONI-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="1.2" SubGroup="Hengemast for bru og tunnel">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" RotateIfRightSideOfAlignment="true"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_HGM-HENGEMAST-FOR-BRU-OG-TUNNEL-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_MAS
				HENGEMAST
				{% if Variant == 'Hengemast for bru og tunnel' %}FOR-TUNNEL-OG-BRU
				{% elsif Variant == 'Hengemast Cariboni' %}CARIBONI
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="skilt"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="utligger"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="beskyttelse"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_MAS Hengemast i åk" Layer="JBTEH_MAS_HGM_ÅK" Color="ByLayer" Group="Kontaktledning/Master" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>kl-mast</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="8" Y="0" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="8" Y="-1.5" Layer="JBTEH@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="8" Y="1.5" Layer="JBTEH@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Hengemast i åk type 12">
   <Variant Name="Hengemast i åk type 12">
    <SetValue Key="OcsMastProfile" Value="Rektangulær, 100x150"/>
    <SetValue Key="OcsMastHeight" Value="3100"/>
   </Variant>
   <Variant Name="Hengemast i åk type 14">
    <SetValue Key="OcsMastProfile" Value="Rektangulær, 100x150"/>
    <SetValue Key="OcsMastHeight" Value="3500"/>
   </Variant>
   <Variant Name="Hengemast i åk type 40">
    <SetValue Key="OcsMastProfile" Value="Kvadratisk, 100x100"/>
    <SetValue Key="OcsMastHeight" Value="3500"/>
   </Variant>
  </Variants>
  <LuaFunction Name="_JBTEH_MAS_otherObjectsToModelcheck()" ReturnType="String" Description="Returns the number of other items to modelcheck, and a table with references to them.">
   <Constructor>_JBTEH_MAS_otherObjectsToModelcheck()</Constructor>
   <Formula>
				function _JBTEH_MAS_otherObjectsToModelcheck()
					s = "Er hengemast festet i åk"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n > 0 then
						s1 = "Er åk holdt oppe av kl-mast"
						r1,n1 = RC__getCollectionOfRelatedObjects(s1)
						t = {}
						txt = nil
						for i = 0, n1-1 do 
							table.insert(t,r1[i])
							txt = txt and txt..","..RC__identify(r1[i]) or "{"..RC__identify(r1[i])
						end
						s2 = "Er hengemast festet i åk"
						r2,n2 = RC__getCollectionOfRelatedObjects(s2)
						for i = 0, n2-1 do
							table.insert(t,r2[i])
							txt = txt and txt..","..RC__identify(r1[i]) or "{"..RC__identify(r1[i])
						end
						if n1+n2 == 0 then
							return 0,_info("No other objects to modelcheck.")
						else
							m = 1 + n1 + n2 --One for the yoke
							return m,t,_info(m..": "..txt.."}")
						end
					end
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_OtherObjectsToBeModelchecked" DisplayName="Other objects to be refreshed" Description="If this mast supports a yoke, then the yoke with more masts are modelchecked as well."/>
  <LuaExpression Name="mc_OtherObjectsToBeModelchecked" IsModelCheck="true">
   <Formula>_JBTEH_MAS_otherObjectsToModelcheck()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="NewOrExisting" DisplayName="Ny eller eksisterende" DefaultValue="Ny" Description="The overhead catenary system (OCS) mast's age [Ny | Eksisterende].">
   <Value>Ny</Value>
   <Value>Eksisterende</Value>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="OcsMastProfile" DisplayName="Masteprofil" DefaultValue="Sirkulær, Ø120" Description="The overhead catenary system (OCS) suspension mast profile (smp) [Kvadratisk, 100x100 | Rektangulær, 100x150].">
   <Values Variant="Hengemast i åk type 12">
    <Value>Rektangulær, 100x150</Value>
   </Values>
   <Values Variant="Hengemast i åk type 14">
    <Value>Rektangulær, 100x150</Value>
   </Values>
   <Values Variant="Hengemast i åk type 40">
    <Value>Kvadratisk, 100x100</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="OcsMastHeight" DisplayName="Høyde" DefaultValue="3100" Description="The overhead catenary system (OCS) suspension mast height (smh) [mm], given in predefined lengths 0.5m - 5.0m in 50 millimeter steps.">
   <Values>
    <Value>5000</Value>
    <Value>4950</Value>
    <Value>4900</Value>
    <Value>4850</Value>
    <Value>4800</Value>
    <Value>4750</Value>
    <Value>4700</Value>
    <Value>4650</Value>
    <Value>4600</Value>
    <Value>4550</Value>
    <Value>4500</Value>
    <Value>4450</Value>
    <Value>4400</Value>
    <Value>4350</Value>
    <Value>4300</Value>
    <Value>4250</Value>
    <Value>4200</Value>
    <Value>4150</Value>
    <Value>4100</Value>
    <Value>4050</Value>
    <Value>4000</Value>
    <Value>3950</Value>
    <Value>3900</Value>
    <Value>3850</Value>
    <Value>3800</Value>
    <Value>3750</Value>
    <Value>3700</Value>
    <Value>3650</Value>
    <Value>3600</Value>
    <Value>3550</Value>
    <Value>3500</Value>
    <Value>3450</Value>
    <Value>3400</Value>
    <Value>3350</Value>
    <Value>3300</Value>
    <Value>3250</Value>
    <Value>3200</Value>
    <Value>3150</Value>
    <Value>3100</Value>
    <Value>3050</Value>
    <Value>3000</Value>
    <Value>2950</Value>
    <Value>2900</Value>
    <Value>2850</Value>
    <Value>2800</Value>
    <Value>2750</Value>
    <Value>2700</Value>
    <Value>2650</Value>
    <Value>2600</Value>
    <Value>2550</Value>
    <Value>2500</Value>
    <Value>2450</Value>
    <Value>2400</Value>
    <Value>2350</Value>
    <Value>2300</Value>
    <Value>2250</Value>
    <Value>2200</Value>
    <Value>2150</Value>
    <Value>2100</Value>
    <Value>2050</Value>
    <Value>2000</Value>
    <Value>1950</Value>
    <Value>1900</Value>
    <Value>1850</Value>
    <Value>1800</Value>
    <Value>1750</Value>
    <Value>1700</Value>
    <Value>1650</Value>
    <Value>1600</Value>
    <Value>1550</Value>
    <Value>1500</Value>
    <Value>1450</Value>
    <Value>1400</Value>
    <Value>1350</Value>
    <Value>1300</Value>
    <Value>1250</Value>
    <Value>1200</Value>
    <Value>1150</Value>
    <Value>1100</Value>
    <Value>1050</Value>
    <Value>1000</Value>
    <Value>950</Value>
    <Value>900</Value>
    <Value>850</Value>
    <Value>800</Value>
    <Value>750</Value>
    <Value>700</Value>
    <Value>650</Value>
    <Value>600</Value>
    <Value>550</Value>
    <Value>500</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Double" Name="SupspensionMastAlongOffset" DisplayName="Hengemast offset langs egen akse" DefaultValue="0" Description="The suspension mast's offset from center of yoke, colinear to the suspension mast's own alignments' tangent direction."/>
  <CustomAttribute DataType="Double" Name="SpanLength" DisplayName="Spennlengde" DefaultValue="30" Description="The span length (sl) [m] denotes the distance traveled along the associated alignment's reference alignment (projected onto the XY plane) from this mast to the closest next mast, related using 'Neste kl-mast'/'Forrige kl-mast'."/>
  <LuaExpression Name="SpanLength">
   <Formula>_JBTEH_MAS_SpanLength()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" Name="SpanLengthDisplay" DisplayName="Spennlengde visning" DefaultValue="" Description="The span length value [m] being displayed close to the OCS mast."/>
  <LuaExpression Name="SpanLengthDisplay">
   <Formula>_JBTEH_MAS_SpanLengthDisplay()</Formula>
  </LuaExpression>
  <TextAttribute Annotative="true" BindingProperty="SpanLengthDisplay" CadAttributeTag="SPENNLENGDE" X="15" Y="5" Layer="JBTEH@SPENNLENGDE" Justify="MiddleCenter" Height="0.9" Width="0" Rotation="0" ObliqueAngle="0" Constant="false" Invisible="false" Lock="false" MText="false"/>
  <CustomAttribute DataType="Double" Name="SpanLengthTextOffsetLateral" DisplayName="Sideveis spennlengdetekst offset" DefaultValue="0" Description="The span length(s) text lateral offset along [m] denotes the distance, transversal to the mast's tangent direction, to offset the text element(s)."/>
  <CustomAttribute DataType="Double" Name="SpanLengthTextOffsetAlong" DisplayName="Langsmed spennlengdetekst offset" DefaultValue="0" Description="The span length(s) text along-offset [m] denotes the distance, along the mast's tangent direction, to offset the text element(s)."/>
  <TextPositionLuaExpression Name="SPENNLENGDE">
   <Formula>_JBTEH_MAS_SpanLengthTextOffset(SpanLengthTextOffsetLateral,SpanLengthTextOffsetAlong)</Formula>
  </TextPositionLuaExpression>
  <TextRotationLuaExpression Name="SPENNLENGDE">
   <Formula>_JBTEH_MAS_SpanLengthTextRotation()</Formula>
  </TextRotationLuaExpression>
  <CustomAttribute DataType="Double" Name="SpanLength2" DisplayName="Spennlengde 2" DefaultValue="30.0" Description="The span length 2 (sl) [m] denotes the distance traveled along the associated alignment's reference alignment (projected onto the XY plane) from this mast to the second closest next mast, related using 'Neste kl-mast'/'Forrige kl-mast'."/>
  <LuaExpression Name="SpanLength2">
   <Formula>_JBTEH_MAS_SpanLength2()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" Name="SpanLengthDisplay2" DisplayName="Spennlengde visning 2" DefaultValue="" Description="The span length 2 value [m] being displayed close to the OCS mast, rounded to the closest integer value."/>
  <LuaExpression Name="SpanLengthDisplay2">
   <Formula>_JBTEH_MAS_SpanLengthDisplay2()</Formula>
  </LuaExpression>
  <TextAttribute Annotative="true" BindingProperty="SpanLengthDisplay2" CadAttributeTag="SPENNLENGDE2" X="15" Y="7" Layer="JBTEH@SPENNLENGDE" Justify="MiddleCenter" Height="0.9" Width="0" Rotation="0" ObliqueAngle="0" Constant="false" Invisible="false" Lock="false" MText="false"/>
  <CustomAttribute DataType="Double" Name="SpanLengthTextOffsetLateral2" DisplayName="Sideveis spennlengdetekst offset 2" DefaultValue="0" Description="The span length(s) text lateral offset along [m] denotes the distance, transversal to the mast's tangent direction, to offset the text element(s)."/>
  <CustomAttribute DataType="Double" Name="SpanLengthTextOffsetAlong2" DisplayName="Langsmed spennlengdetekst offset 2" DefaultValue="0" Description="The span length(s) text along-offset [m] denotes the distance, along the mast's tangent direction, to offset the text element(s)."/>
  <TextPositionLuaExpression Name="SPENNLENGDE2">
   <Formula>_JBTEH_MAS_SpanLengthTextOffset2(SpanLengthTextOffsetLateral2,SpanLengthTextOffsetAlong2)</Formula>
  </TextPositionLuaExpression>
  <TextRotationLuaExpression Name="SPENNLENGDE2">
   <Formula>_JBTEH_MAS_SpanLengthTextRotation2()</Formula>
  </TextRotationLuaExpression>
  <LuaExpression Name="Variant">
   <Formula>_JBTEH_MAS_yoke_suspension_mast_Variant()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_MAS_yoke_suspension_mast_Variant()" ReturnType="String" Description="Obtains the Variant for this OCS suspension mast.">
   <Constructor>String _JBTEH_MAS_yoke_suspension_mast_Variant()</Constructor>
   <Formula>
				function _JBTEH_MAS_yoke_suspension_mast_Variant()
					s = "Er hengemast festet i åk"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return getPropertyValue("Variant"),_info("UNFINISHED - Relate OCS suspension mast to yoke with '"..s.."'.")
					else
						return "Hengemast i åk type "..r[0].Variant:lower():match("type (%d+)")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>_JBTEH_MAS_yoke_suspension_mast_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_MAS_yoke_suspension_mast_code()" ReturnType="String" Description="Obtains the code for this OCS suspension mast.">
   <Constructor>String _JBTEH_MAS_yoke_suspension_mast_code()</Constructor>
   <Formula>
			function _JBTEH_MAS_yoke_suspension_mast_code()
					local yokeRelation = "Er hengemast festet i åk"
					local yokes, nYokes = RC__getCollectionOfRelatedObjects(yokeRelation)
					if nYokes == 0 then
						return "UNFINISHED - Relate with '"..yokeRelation.."'."
					elseif nYokes &gt; 1 then
							return _warning,"UNFINISHED - Suspended OCS mast belongs to more than one yoke "
									.." - remove unintended relations '"..yokeRelation.."' or adjust the active stage using layer names."
					else
						--One yoke:
						local supportMastRelation = "Er åk holdt oppe av kl-mast"
						local supportMasts, nSupportMasts = RC__getCollectionOfRelatedObjects(supportMastRelation,yokes[0]) 
						if nSupportMasts == 0 then 
							return "UNFINISHED - Cannot deduce suspended OCS mast name since yoke '"..RC__identify(yokes[0]).."' has no support mast yet."
						else
							--Find the reference support mast - being closest to the yoke's own insertion point (there may be many yoke support masts):
							local i
							local shortestDist = math.huge
							local referenceSupportMast = nil 
							for i = 0, nSupportMasts-1 do
								local newDist = RC__getDistance2D(yokes[0].geoCoord,supportMasts[i].geoCoord)
								if newDist &lt; shortestDist then
									shortestDist = newDist
									referenceSupportMast = i
								end
							end
					
							--Start suspended mast's code with support mast's code:
							local suspendedMastCode = supportMasts[referenceSupportMast].code
							
							--Assign sequence number to this suspended OCS mast (counted from the support mast closest to yoke's insertion point):
							local suspendedMastRelation = "Er åk for hengemast - kl-mast"
							local suspendedMasts, nSuspendedMasts = RC__getCollectionOfRelatedObjects(suspendedMastRelation,yokes[0])
					
							local sequenceNumber = 0
							for i = 0, nSuspendedMasts-1 do
								if suspendedMasts[i].id == this.id then
									sequenceNumber = i + 1
								end
							end
							return supportMasts[referenceSupportMast].code..string.format("-%02d",sequenceNumber),
								_info("Code deduced from yoke '"..yokes[0].code.."' and its related components.")
						end
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>code</Formula>
  </LuaExpression>
  <LuaExpression Name="Mileage">
   <Formula>_JBTEH_MAS_yoke_suspension_mast_Mileage(SupspensionMastAlongOffset)</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_MAS_yoke_suspension_mast_Mileage()" ReturnType="Double" Description="Deduces the yoke suspension mast's mileage, based on its relation to a yoke/galley and this one's support mast(s). If provided, the offset is added to the computed mileage.">
   <Constructor>Double _JBTEH_MAS_yoke_suspension_mast_Mileage([Double offset])</Constructor>
   <Formula>
				function _JBTEH_MAS_yoke_suspension_mast_Mileage(offset)
					offset = offset or 0.0 --Note: The offset is "brutally" added to mileage, also when the yoke does not cross tracks at a straight angle.
					local ys = "Er hengemast festet i åk"
					local yr,yn = RC__getCollectionOfRelatedObjects(ys)
					if yn == 0 then
						return getPropertyValue("Mileage"),_info("UNFINISHED - Relate to yoke/galley with '"..ys.."' to set mileage automatically.")
				
					elseif yn &gt; 1 then
						return getPropertyValue("Mileage"),
							_info("ERROR - Suspension mast is related to more than one yoke ("..RC__identify(yr[0])..", "..RC__identify(yr[1])..").")
						
					else
						--yn == 1
						
						local s = "Er åk holdt oppe av kl-mast"
						local r,n = RC__getCollectionOfRelatedObjects(s,yr[0])
						if n == 0 then
							return offset + yr[0].mileage,
								_info("Mileage deduced from yoke/galley lacking support mast(s) '"..RC__identify(yr[0]).."'.")
					
						elseif n == 1 then 
							--Galley:
							return offset + RC__getMileageFromRelatedObject(s),_info("Mileage deduced from support mast '"..RC__identify(r[0]).."'.")
							
						elseif n &gt;= 2 then
							--Our mast is suspended from a yoke yr[0] being supported by OCS masts r[0] and r[1]:
							local m1 = r[0]
							local m2 = r[1]
							-- Not needed: if RC__getDistance2D(this,m1) &gt; RC__getDistance2D(this,m2) then m1,m2 = m2,m1 end 
							local x1 = m1.geoCoord.X		
							local y1 = m1.geoCoord.Y
							local dx = m2.geoCoord.X - x1
							local dy = m2.geoCoord.Y - y1
							
							--Find point Q on the straight line betweeen m1 and m2 with the yoke suspension mast's specified DistanceToAlignment:
							function err(t) 
								local Qx = x1+t*dx  
								local Qy = y1+t*dy  
								return getAlignmentInfo(Alignment.id,Qx,Qy).DistanceToAlignment - this.DistanceToAlignment
							end
							local tq = getZeros(err,{tolerance = 1e-4, interval = {0,1}, timeLimit = 3})[0]
							local Qx = x1 + tq*dx  
							local Qy = y1 + tq*dy  
							return offset + getAlignmentInfo(Alignment.id,Qx,Qy).Mileage
						end
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="RelativeElevation">
   <Formula>_JBTEH_MAS_yoke_suspension_mast_RelativeElevation()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_MAS_yoke_suspension_mast_RelativeElevation()" ReturnType="Double" HideFromUser="false" Description="Returns the relative elevation for a ocs mast suspended from a yoke, based on the yoke's type and relative elevation.">
   <Constructor>Double _JBTEH_MAS_yoke_suspension_mast_RelativeElevation()</Constructor>
   <Formula>
				function _JBTEH_MAS_yoke_suspension_mast_RelativeElevation()
					local s,r,n,e,v
					local extensionAboveTopOfYoke = 0.10
					s = "Er hengemast festet i åk"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return 0.0,_info("UNFINISHED - Relate with '"..s.."' to its OCS yoke.") 
					else 
						e = (r[0].geoCoord.Z - getAlignmentInfo().Elevation) --Yoke's elevation above this susp. mast's own alignment
						v = r[0].Variant
						if v:match("12") then return e + 0.8 + extensionAboveTopOfYoke
						elseif v:match("14") then return e + 1.2 + extensionAboveTopOfYoke
						elseif v:match("40") then return e + 0.4 + extensionAboveTopOfYoke
						else
							return 0.0,_error,_info("Bad related OCS yoke '"..RC__identify(r[0]).."' Variant: ["..v.."].")
						end
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="AngularOffset">
   <Formula>_JBTEH_MAS_yoke_suspension_mast_AngularOffset()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_MAS_yoke_suspension_mast_AngularOffset()" ReturnType="Double" HideFromUser="false" Description="Returns an angular offset, to orient the mast colinear with its yoke (if any).">
   <Constructor>Double _JBTEH_MAS_yoke_suspension_mast_AngularOffset()</Constructor>
   <Formula>
				function _JBTEH_MAS_yoke_suspension_mast_AngularOffset()
					local ys = "Er hengemast festet i åk"
					yr,yn = RC__getCollectionOfRelatedObjects(ys)
					if yn == 0 then
						return getPropertyValue("AngularOffset"),_info("UNFINISHED - relate to yoke with '"..ys.."'.")
				
					else
						local yoke = yr[0]
						local s = "Er åk holdt oppe av kl-mast"
						local r,n = RC__getCollectionOfRelatedObjects(s,yoke)
				
						if n == 0 then
							return getPropertyValue("AngularOffset"),_error,
								_info("*** ERROR Mast has bad connection to galley '"..RC__identify(yoke).."'.")
				
						elseif n == 1 then
							--Galley:
							return getPropertyValue("AngularOffset"),
								_info("Mast is connected to a galley '"..RC__identify(yoke)..
								"' - adjust mast's angular offset manually or change galley into yoke (which has one more yoke support mast).")
						
						elseif n == 2 then
							--Assume that the first two related masts are located at the yoke's extremities:
							local m1 = r[0]
							local m2 = r[1]
							if RC__getDistance2D(this,m1) &gt; RC__getDistance2D(this,m2) then m1,m2 = m2,m1 end 
							local x1 = m1.geoCoord.X		
							local y1 = m1.geoCoord.Y
							local x2 = m2.geoCoord.X
							local y2 = m2.geoCoord.Y
							local yokeAngle = math.atan(y2-y1,x2-x1) * (180/math.pi) 
							local tg = getAlignmentInfo().Tangent
							local baseAngle = math.atan(tg.Y,tg.X) * (180/math.pi)
							local info = "Angular Offset deduced using yoke support masts '"..RC__identify(m1).."' and '"..RC__identify(m2).."'."
							return (2*360.0 + RC__round(yokeAngle - (baseAngle-90),3)) % 360.0,_info(info)
				
						else
							--TODO: Locate the two support masts at each end of yoke, uses this to find angular offset, then turn yourself if you 
							--are a support mast at one or the other end, or just adapt if you are in between ends.
							return getPropertyValue("AngularOffset"),
								_info("Mast is connected to a yoke '"..RC__identify(yoke).." with total 3 or more supporting masts"..
								"' - adjust mast's angular offset manually.")
						end
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTEH_MAS_yoke_suspension_mast_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_MAS_yoke_suspension_mast_Model3DName()" ReturnType="String" Description="Obtains the 'Model3DName' for this OCS suspension mast.">
   <Constructor>String _JBTEH_MAS_yoke_suspension_mast_Model3DName()</Constructor>
   <Formula>
				function _JBTEH_MAS_yoke_suspension_mast_Model3DName()
					if Variant:match("12") then
						return "NO-BN-3D-EH-MAS-HENGEMAST-I-ÅK-TYPE-12-3100"
					elseif Variant:match("14") then
						if (OcsMastHeight == "3500") then
							return "NO-BN-3D-EH-MAS-HENGEMAST-I-ÅK-TYPE-14-3500"
						else 
							return "NO-BN-3D-EH-MAS-HENGEMAST-I-ÅK-TYPE-14-4000"
						end
					elseif Variant:match("40") then
						return "NO-BN-3D-EH-MAS-HENGEMAST-I-ÅK-TYPE-40-3500"
					else 
						return "Bad OCS suspension mast Variant ["..Variant.."].",_warning
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="SymbolFrame">
   <Formula>NOBN__setSymbolFrame()</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Hengemast i åk type 12" DisplayBlockName="NO-BN-2D-JBTEH_HGM-HENGEMAST-I-ÅK-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="2.65" SubGroup="Hengemast i åk">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Hengemast i åk type 14" DisplayBlockName="NO-BN-2D-JBTEH_HGM-HENGEMAST-I-ÅK-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="2.65" SubGroup="Hengemast i åk">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Hengemast i åk type 40" DisplayBlockName="NO-BN-2D-JBTEH_HGM-HENGEMAST-I-ÅK-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="2.65" SubGroup="Hengemast i åk">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_HGM-HENGEMAST-I-ÅK-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_HGM
				{% if Variant == 'Hengemast i åk type 12' %}HENGEMAST-I-ÅK
				{% elsif Variant == 'Hengemast i åk type 14' %}HENGEMAST-I-ÅK
				{% elsif Variant == 'Hengemast i åk type 40' %}HENGEMAST-I-ÅK
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="skilt"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="utligger"/>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="beskyttelse"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_AAK Åk" Layer="JBTEH_AAK" Color="ByLayer" Group="Kontaktledning/Åk" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>åk</RelationSpace>
  <AttachmentCategory Name="åk"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="20" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="22" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="24" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Type 12">
   <Variant Name="Type 12">
    <SetValue Key="code" Value="Type 12"/>
   </Variant>
   <Variant Name="Type 14">
    <SetValue Key="code" Value="Type 14"/>
   </Variant>
   <Variant Name="Type 40">
    <SetValue Key="code" Value="Type 40"/>
   </Variant>
   <Variant Name="Utliggeråk">
    <SetValue Key="code" Value="Utliggeråk"/>
   </Variant>
  </Variants>
  <CustomAttribute DataType="Enumeration" Name="Length" DisplayName="Lengde" DefaultValue="11m" Description="The overhead catenary system (OCS) yoke length (oyl), given in predefined lengths in 1 meter steps. Each may be composed of subparts, where the joints may hinder suspension mast mounting.">
   <Values Variant="Type 12">
    <Value Description="Type XXIII">33m</Value>
    <Value>32m</Value>
    <Value>31m</Value>
    <Value>30m</Value>
    <Value>29m</Value>
    <Value>28m</Value>
    <Value>27m</Value>
    <Value>26m</Value>
    <Value>25m</Value>
    <Value>24m</Value>
    <Value>23m</Value>
    <Value>22m</Value>
    <Value>21m</Value>
    <Value>20m</Value>
    <Value>19m</Value>
    <Value>18m</Value>
    <Value>17m</Value>
    <Value>16m</Value>
    <Value>15m</Value>
    <Value>14m</Value>
    <Value>13m</Value>
    <Value>12m</Value>
    <Value>11m</Value>
   </Values>
   <Values Variant="Type 14">
    <Value>43m</Value>
    <Value>42m</Value>
    <Value>41m</Value>
    <Value>40m</Value>
    <Value>39m</Value>
    <Value>38m</Value>
    <Value>37m</Value>
    <Value>36m</Value>
    <Value>35m</Value>
    <Value>34m</Value>
    <Value>33m</Value>
    <Value>32m</Value>
    <Value>31m</Value>
    <Value>30m</Value>
    <Value>29m</Value>
    <Value>28m</Value>
   </Values>
   <Values Variant="Type 40">
    <Value>16m</Value>
    <Value>15m</Value>
    <Value>14m</Value>
    <Value>13m</Value>
    <Value>12m</Value>
    <Value>11m</Value>
    <Value>10m</Value>
   </Values>
   <Values Variant="Utliggeråk">
    <Value>6m</Value>
   </Values>
  </CustomAttribute>
  <LuaFunction Name="_JBTEH_AAK_otherObjectsToModelcheck()" ReturnType="String" Description="Returns the number of other items to modelcheck, and a table with references to them.">
   <Constructor>_JBTEH_AAK_otherObjectsToModelcheck()</Constructor>
   <Formula>
				function _JBTEH_AAK_otherObjectsToModelcheck()
					s1 = "Er åk holdt oppe av kl-mast"
					r1,n1 = RC__getCollectionOfRelatedObjects(s1)
					t = {}
					txt = nil
					for i = 0, n1-1 do 
						table.insert(t,r1[i])
						txt = txt and txt..","..RC__identify(r1[i]) or "{"..RC__identify(r1[i])
					end
					s2 = "Er hengemast festet i åk"
					r2,n2 = RC__getCollectionOfRelatedObjects(s2)
					for i = 0, n2-1 do
						table.insert(t,r2[i])
						txt = txt and txt..","..RC__identify(r1[i]) or "{"..RC__identify(r1[i])
					end
					if n1+n2 == 0 then
						return 0,_info("No other objects to modelcheck.")
					else
						m = n1+n2
						return m,t,_info(m..": "..txt.."}")
					end
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_OtherObjectsToBeModelchecked" DisplayName="Other objects to be refreshed" Description="When this yoke is refreshed, then all of its support masts and suspension masts are modelchecked as well."/>
  <LuaExpression Name="mc_OtherObjectsToBeModelchecked" IsModelCheck="true">
   <Formula>_JBTEH_AAK_otherObjectsToModelcheck()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>"KL-åk "..code.." ("..Variant..", "..Length..")"</Formula>
  </LuaExpression>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>_JBTEH_AAK_DistanceToAlignment()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_AAK_DistanceToAlignment()" ReturnType="Enum" Description="Returns the distance to alignment for the yoke.">
   <Constructor>Double _JBTEH_AAK_DistanceToAlignment()</Constructor>
   <Formula>
				function _JBTEH_AAK_DistanceToAlignment()
					-- Ref Bane NOR, lærebok "Bygging av kontaktledningsanlegg" Del 2:2, Kap. 14
				
					function _JBTEH_AAK_get_mastDistanceToAlignment(mast)
						if mast.Alignment == nil then 
							return RightSided and 4e-4 or -4e-4,_warning,_info("Closest OCS support mast is not connected to a track (own alignment).")
						else
							local mv = mast.Variant
							local mp = mast.OcsMastProfile
							local d
							if mv:match("Bjelkemast") then
								d = string.sub(mp,4,6)/2000 --Assume mast profile names "HEB200", "HEB220" etc
							elseif mv:match("GMB%-mast") then
								d = string.sub(mp,4,6)/2000 --Assume mast profile names "HEB200", "HEB220" etc TODO: Finn ekte profiler for GMB-mast
							elseif mv:match("B%-mast") then
								d = (mast.OcsMastHeight - RelativeElevation) * math.tan(23/1000000)
							elseif mv:match("H%-mast") then
								d = (mast.OcsMastHeight - RelativeElevation) * math.tan(1/50000)
							elseif mv:lower():match("hengemast") then
								if (mp == 'Sirkulær, Ø120') then 
									d = 0.06
								elseif (mp == 'Kvadratisk, 100x100') then 
									d = 0.05
								elseif (mp == 'Rektangulær, 100x150') then
									d = 0.075
								elseif (mp == 'Rektangulær, 100x200') then 
									d = 0.1
								else
									return 0,_warning,_info("Bad OCS mast profile ["..mp.."].")
								end
							else 
								return 0,_warning,_info("Bad OCS mast variant ["..mv.."].")
							end
							-- OCS mast and yoke may belong to different tracks (when OCS mast is located between tracks):
							mdist = getAlignmentInfo(alignment.id,mast.geoCoord.X,mast.geoCoord.Y).DistanceToAlignment --Distance from center closest OCS mast to yoke's alignment
							if (mast.RightSided) then
								if (mast.Alignment.id == Alignment.id) then return mdist-d else return mdist+d end
							else
								if (mast.Alignment.id == Alignment.id) then return mdist+d else return mdist-d end
							end
						end
					end --function
				
					local s = "Er åk holdt oppe av kl-mast"
					local r,n = RC__getCollectionOfRelatedObjects(s)

					if n == 0 then
						if Variant == "Utliggeråk" then
							return getPropertyValue("DistanceToAlignment"),_warning,_info("UNFINISHED: Relate galley to an OCS mast with relation '"..s.."'.")
						else
							return getPropertyValue("DistanceToAlignment"),_warning,_info(
								"UNFINISHED: Relate yoke to OCS mast(s) with relation '"..s.."', or change Variant to galley (Utliggeråk).")
						end
				
					elseif n == 1 then
						if Variant == "Utliggeråk" then 
							return _JBTEH_AAK_get_mastDistanceToAlignment(r[0]),_info("Galley yoke (Utliggeråk) extending from mast '"..RC__identify(r[0]).."'.")
						else
							return getPropertyValue("DistanceToAlignment"),_warning,_info(
								"UNFINISHED: Relate yoke to one more OCS mast with relation 'Er åk holdt oppe av kl-mast', or change Variant to galley (Utliggeråk).")
						end
				
					elseif n &gt;= 2 then 
						local m1 = r[0]
						local m2 = r[1]
						if RC__getDistance2D(this,m1) &gt; RC__getDistance2D(this,m2) then m1,m2 = m2,m1 end 
						local d1 = RC__getDistance2D(m1,m2)
						local L = math.floor(1.500 + d1) --Assume min 0.5 and max 1.5 meter total yoke length overshoot
						local d2 = 0.5 * (L - d1) --Share overshoot between masts
						local x1 = m1.geoCoord.X		
						local y1 = m1.geoCoord.Y
						local x2 = m2.geoCoord.X
						local y2 = m2.geoCoord.Y
						local x = x1 - (d2/d1)*(x2-x1)
						local y = y1 - (d2/d1)*(y2-y1)
						local info = "Distance to alignment deduced through support mast '"..RC__identify(m1).."' related by '"..s.."'."
						return getAlignmentInfo(Alignment.id,x,y).DistanceToAlignment,_info(info)
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="Length">
   <Formula>_JBTEH_AAK_Length()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_AAK_Length()" ReturnType="Enum" Description="Returns the length of the yoke, being the mast-mast center distance plus 1.50 meter, rounded down.">
   <Constructor>Enum _JBTEH_AAK_Length()</Constructor>
   <Formula>
				function _JBTEH_AAK_Length()
					-- Ref Bane NOR, lærebok "Bygging av kontaktledningsanlegg" Del 2:2, Kap. 14
					local RelationName = "Er åk holdt oppe av kl-mast"
					local r,n = RC__getCollectionOfRelatedObjects(RelationName)
					local L
					if n == 0 then
						if Variant == "Utliggeråk" then 
							L = "6m"
							return L,_warning,_info("UNFINISHED: Relate galley to an OCS mast with relation '"..RelationName.."'.")
						else
							if Variant == "Type 12" then L = "11m"
							elseif Variant == "Type 14" then L = "28m"
							elseif Variant == "Type 40" then L = "10m"
							end
							return L,_warning,_info(
								"UNFINISHED: Relate yoke to OCS mast(s) with relation '"..RelationName.."', or change Variant to galley (Utliggeråk).")
						end
				
					elseif n == 1 then
						local m1 = r[0]
						if Variant == "Utliggeråk" then 
							return "6m",_info("Galley yoke (Utliggeråk) extending from mast "..m1.code..".")
						else
							if Variant == "Type 12" then L = "11m"
							elseif Variant == "Type 14" then L = "28m"
							elseif Variant == "Type 40" then L = "10m"
							end
							return L,_warning,_info(
								"UNFINISHED: Relate yoke to one more OCS mast with relation 'Har åk-mast / kl-mast', or change Variant to galley (Utliggeråk).")
						end
				
					elseif n &gt;= 2 then 
						local m1 = r[0]
						local m2 = r[1]
						local P1 = m1.geoCoord
						local P2 = m2.geoCoord
						local len = RC__getDistance2D(P1,P2)
						L = math.floor(len + 1.5)
						if Variant == "Type 12" then
							if L &lt; 11 then return "11m",_warning,_info("L="..L.." required, but Type 12 yokes can't be shorter than 11 meter. Change to type 40 or galley (Utliggeråk).")
							elseif L &gt; 33 then return "33m",_warning,_info("L="..L.." required, but Type 12 yokes can't be longer than 33 meter, change to Type 14.")
							end
						elseif Variant == "Type 14" then
							if L &lt; 28 then return "28m",_warning,_info("L="..L.." required, but Type 14 yokes can't be made shorter than 28 meter. Change to Type 12 or 40.")
							elseif L &gt; 43 then return "43m",_warning,_info("L="..L.." required, but Type 14 yokes can't be made longer than 43 meter.")
							end
						elseif Variant == "Type 40" then
							if L &lt; 10 then return "10m",_warning,_info("L="..L.." required, but Type 40 yokes can't be made shorter than 10 meter. Change to galley (Utliggeråk).")
							elseif L &gt; 16 then return "16m",_warning,_info("L="..L.." required, but Type 40 yokes can't be made longer than 16 meter, change to Type 12 or 14.")
							end
						else
							return getPropertyValue("Length"),_error,_info("Remove excess yoke support mast(s), or change yoke Variant into Type 12/14/40.")
						end
						return L.."m",_info("Length deduced from mast "..m1.code.." and "..m2.code.." ("..RC__round(len,3).." m).")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="AngularOffset">
   <Formula>_JBTEH_AAK_AngularOffset()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_AAK_AngularOffset()" ReturnType="Double" HideFromUser="false" Description="Returns the angular offset needed to orient the yoke between its two masts, or a galley according to its mast.">
   <Constructor>Double _JBTEH_AAK_AngularOffset()</Constructor>
   <Formula>
				function _JBTEH_AAK_AngularOffset()
					local RelationName = "Er åk holdt oppe av kl-mast"
					local r,n = RC__getCollectionOfRelatedObjects(RelationName)

					if n == 0 then
						return getPropertyValue("AngularOffset"),_info("No control input - adjust angular offset manually. Relate to one (galley) or two (yoke) masts using '"..RelationName.."' to set angular offset automatically.")

					elseif n == 1 then 
						-- Galley "åk-unge", "utliggeråk"
						-- Assume galley belongs to same alignment as the supporting OCS mast
						return r[0].AngularOffset,_info("AngularOffset for galley deduced from object '"..RC__identify(r[0]).."' related by '"..RelationName.."'.")

					elseif n == 2 then 
						--Assume that the first two related masts are located at the yoke's extremities:
						local m1 = r[0]
						local m2 = r[1]
						local x1 = m1.geoCoord.X
						local y1 = m1.geoCoord.Y
						local x2 = m2.geoCoord.X
						local y2 = m2.geoCoord.Y
						local yokeAngle = math.atan(y2-y1,x2-x1) * (180/math.pi) 
						local tg = getAlignmentInfo().Tangent
						local baseAngle = math.atan(tg.Y,tg.X) * (180/math.pi) - RC__getAngleFromDir()
						local info = "AngularOffset for yoke deduced from support masts '"..
							RC__identify(m1).."' and '"..RC__identify(m2).."' related by '"..RelationName.."'."
						return RC__round((2*360 + yokeAngle - baseAngle) % 360, 3),_info(info)

					else
						--TODO: Locate the two support masts at each end of yoke, uses thes to find angular offset, then turn yourself if you 
						--are a support mast at one or the other end, or just adapt if you are in between ends.
						return getPropertyValue("AngularOffset"),
							_info("Mast is connected to a yoke '"..RC__identify(yoke).." with total 3 or more supporting masts"..
							"' - adjust mast's angular offset manually.")
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Mileage">
   <Formula>_JBTEH_AAK_Mileage()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_AAK_Mileage()" ReturnType="Double" Description="Deduces the galley's / yoke's mileage, based on relation to one or two yoke support masts.">
   <Constructor>Double _JBTEH_AAK_Mileage()</Constructor>
   <Formula>
				function _JBTEH_AAK_Mileage()
					local s = "Er åk holdt oppe av kl-mast"
					local r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return getPropertyValue("Mileage"),
							_info("No control input - adjust mileage manually. Relate yoke to one or two masts using '"..s.."' to set mileage automatically.")
				
					elseif n == 1 then 
						-- Move to related mast (assuming galley (Utliggeråk))
						return RC__getMileageFromRelatedObject(s),_info("Mileage deduced from support mast '"..RC__identify(r[0]).."'.")
						
					elseif n &gt;= 2 then
						local m1 = r[0]
						local m2 = r[1]
						if RC__getDistance2D(this,m1) &gt; RC__getDistance2D(this,m2) then m1,m2 = m2,m1 end 
						local d1 = RC__getDistance2D(m1,m2)
						local L = math.floor(1.500 + d1) --Assume min 0.5 and max 1.5 meter total yoke length overshoot
						local d2 = 0.5 * (L - d1) --Share overshoot between masts
						local x1 = m1.geoCoord.X		
						local y1 = m1.geoCoord.Y
						local x2 = m2.geoCoord.X
						local y2 = m2.geoCoord.Y
						local x = x1 - (d2/d1)*(x2-x1)
						local y = y1 - (d2/d1)*(y2-y1)
						local info = "Mileage deduced through support mast '"..RC__identify(m1).."' related by '"..s.."'."
						return getAlignmentInfo(Alignment.id,x,y).Mileage,_info(info)
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTEH_AAK_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_AAK_Model3DName()" ReturnType="String" Description="Returns the yoke's 3D object model name.">
   <Constructor>String _JBTEH_AAK_Model3DName()</Constructor>
   <Formula>
				function _JBTEH_AAK_Model3DName()
					local t = "NO-BN-3D-EH-AAK-"
					if Variant == "Type 12" then 
						return string.upper(string.format("NO-BN-3D-EH-AAK-KONTAKTLEDNINGSÅK-TYPE-12-%02d-%s",Length:sub(1,-2)-10,Length))
					elseif Variant == "Type 14" then 
						return string.upper(string.format("NO-BN-3D-EH-AAK-KONTAKTLEDNINGSÅK-TYPE-14-%02d-%s",Length:sub(1,-2)-27,Length))
					elseif Variant == "Type 40" then 
						return string.upper(string.format("NO-BN-3D-EH-AAK-KONTAKTLEDNINGSÅK-TYPE-40-%02d-%s",Length:sub(1,-2)-9,Length))
					elseif Variant == "Utliggeråk" then return t.."UTLIGGERÅK"
					else
						return "Bad OCS yoke Variant ["..Variant.."]",_warning
					end
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Type 12" DisplayBlockName="NO-BN-2D-JBTEH_AAK-KONTAKTLEDNINGSÅK-11000-{% if SymbolMode == 'Schematic' %}Schematic{% else %}Metric{% endif %}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="RelativeElevation" Value="7.90"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Type 14" DisplayBlockName="NO-BN-2D-JBTEH_AAK-KONTAKTLEDNINGSÅK-28000-{% if SymbolMode == 'Schematic' %}Schematic{% else %}Metric{% endif %}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="RelativeElevation" Value="7.90"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Type 40" DisplayBlockName="NO-BN-2D-JBTEH_AAK-KONTAKTLEDNINGSÅK-10000-{% if SymbolMode == 'Schematic' %}Schematic{% else %}Metric{% endif %}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="RelativeElevation" Value="7.90"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Utliggeråk" DisplayBlockName="NO-BN-2D-JBTEH_AAK-KONTAKTLEDNINGSÅK-UTLIGGERÅK-6000-{% if SymbolMode == 'Schematic' %}Schematic{% else %}Metric{% endif %}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="RelativeElevation" Value="7.90"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_AAK-KONTAKTLEDNINGSÅK-11000-Schematic">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_AAK
				KONTAKTLEDNINGSÅK
				{% if Variant == 'Utliggeråk' %}UTLIGGERÅK-6000
				{% elsif Length == '10m' %}10000
				{% elsif Length == '11m' %}11000
				{% elsif Length == '12m' %}12000
				{% elsif Length == '13m' %}13000
				{% elsif Length == '14m' %}14000
				{% elsif Length == '15m' %}15000
				{% elsif Length == '16m' %}16000
				{% elsif Length == '17m' %}17000
				{% elsif Length == '18m' %}18000
				{% elsif Length == '19m' %}19000
				{% elsif Length == '20m' %}20000
				{% elsif Length == '21m' %}21000
				{% elsif Length == '22m' %}22000
				{% elsif Length == '23m' %}23000
				{% elsif Length == '24m' %}24000
				{% elsif Length == '25m' %}25000
				{% elsif Length == '26m' %}26000
				{% elsif Length == '27m' %}27000
				{% elsif Length == '28m' %}28000
				{% elsif Length == '29m' %}29000
				{% elsif Length == '30m' %}30000
				{% elsif Length == '31m' %}31000
				{% elsif Length == '32m' %}32000
				{% elsif Length == '33m' %}33000
				{% elsif Length == '34m' %}34000
				{% elsif Length == '35m' %}35000
				{% elsif Length == '36m' %}36000
				{% elsif Length == '37m' %}37000
				{% elsif Length == '38m' %}38000
				{% elsif Length == '39m' %}39000
				{% elsif Length == '40m' %}40000
				{% elsif Length == '41m' %}41000
				{% elsif Length == '42m' %}42000
				{% elsif Length == '43m' %}43000
				{% else %}BAD_Variant
				{% endif %}
				{% if SymbolMode == 'Schematic' %}Schematic{% else %}Metric{% endif %}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="kl-mast"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_UTK Seksjonsutliggerkonsoll" Layer="JBTEH_UTK" Color="ByLayer" Group="Kontaktledning/Utliggere" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>seksjonsutliggerkonsoll</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="18" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="16" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="22" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="H-300">
   <Variant Name="B-120"/>
   <Variant Name="B-140"/>
   <Variant Name="B-160"/>
   <Variant Name="B-180"/>
   <Variant Name="B-200"/>
   <Variant Name="H-270"/>
   <Variant Name="H-300"/>
   <Variant Name="H-330"/>
   <Variant Name="H-360"/>
   <Variant Name="H-390"/>
  </Variants>
  <LuaExpression Name="name">
   <Formula>"Utliggerkonsoll"..Variant</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>"NO-BN-3D-EH-UTK-SEKSJONSUTLIGGERKONSOLL-1440-"..Variant</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="H-300" DisplayBlockName="NO-BN-2D-JBTEH_UTK-KONSOLL-FOR-SEKSJONSUTLIGGER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="false" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_UTK-KONSOLL-FOR-SEKSJONSUTLIGGER-{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="utligger"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <LuaFunction Name="_JBTEH_UTL_StandardValues()" ReturnType="Table[6*Double]" Description="Returns standard cantilever values table: [cwh]=contact wire height, [sh]=system height, [shmin]=min. sh, [shmax]=max. sh, [lco]=lower console offset from upper console, [wco]=contact wire clamp offset from upper console.">
  <Constructor>Table[6*Double] _JBTEH_UTL_StandardValues(String Variant)</Constructor>
  <Formula>
			function _JBTEH_UTL_StandardValues(v)
				if v == nil then v = Variant end
				variants = {"System 20A","System 20B","System 20C","System 25","System 35","Cariboni"}
				if not RC__isMemberOf(variants,v) then 
					return 0,_warning,_info("Bad cantilever Variant ["..v.."]. ")
				end
				t = {
					--Note: Siemens' catenary wire clamp is about 12 high (117mm), above the upper tube
					["System 20A"] = {cwh=5.60, sh=1.60, shmin=1.20, shmax=1.60, lco=-1.80, wco=-1.50},
					["System 20B"] = {cwh=5.60, sh=1.60, shmin=1.20, shmax=1.60, lco=-1.80, wco=-1.50},
					["System 20C"] = {cwh=5.30, sh=0.75, shmin=0.75, shmax=1.60, lco=-0.95, wco=-0.65},
					["System 25"] = {cwh=5.10, sh=1.80, shmin=0.70, shmax=1.80, lco=-2.05, wco=-1.70},
					["System 35"] = {cwh=5.60, sh=1.60, shmin=1.20, shmax=1.60, lco=-1.80, wco=-1.50},
					["Cariboni"] = {cwh=5.05, sh=0.60, shmin=0.25, shmax=0.60, lco=0, wco=-0.70}
				}
				return t[v]
			end 
		</Formula>
 </LuaFunction>
 <LuaFunction Name="_JBTEH_UTL_ReferenceMileage()" ReturnType="Double" Description="Returns cantilever's reference mileage, based on its OCS mast's reference mileage. If more cantilevers are located on noe side of the mast, they will arbitrate positions." HideFromUser="false">
  <Constructor>Double _JBTEH_UTL_ReferenceMileage()</Constructor>
  <Formula>
			function _JBTEH_UTL_ReferenceMileage()
				local StandardCantileverSpacing = 0.60 --60 cm separation to allow cantilevers to swing towards each other with temperature movements
				local s = "Tilhører kl-mast"
				local r,n = RC__getCollectionOfRelatedObjects(s)
				if n == 0 then
					if (Alignment == nil) then
						return 0,_info("UNFINISHED - Relate with '"..s.."' to OCS mast and assign cantilever to an aligment.")
					else
						return getPropertyValue("ReferenceMileage") == nil and 0 or getPropertyValue("ReferenceMileage"),
							_info("UNFINISHED - Relate with '"..s.."' to OCS mast.")
					end
				else
					local mast = r[0]
					local sc = "Er kl-mast for utligger"
					local cantilevers,nc = RC__getCollectionOfRelatedObjects(sc,mast)
					local me = nil --who am I?
					local i
					for i = 0, nc-1 do
						if id == cantilevers[i].id then
							me = i 
						end
					end
					if me == nil then 
						return mast.ReferenceMileage,_warning,_info("Corrupt relation '"..sc.."' to OCS mast - cannot compute cantilever position.")
					end
					--Anyone else on my side of OCS mast?
					--Note: Cantilevers on same side may serve the same track (change of OCS wire) or different tracks (in a switch)
					local d1 = getAlignmentInfo(Alignment.id,mast.geoCoord.X,
												mast.geoCoord.Y).DistanceToAlignment --distance from OCS to my cantilever's alignment
					local myLastPal = nil
					local nPals = 0
					for i = 0, nc-1 do
						if i ~= me then
							--find signed distance from mast to both cantilever's alignments - if same sign, then they are on the same side: 
							local d2 = getAlignmentInfo(getObjectFromId(cantilevers[i].id).Alignment.id,
																		mast.geoCoord.X,mast.geoCoord.Y).DistanceToAlignment
							if d1 * d2 &gt; 0 then
								--same side
								myLastPal = i
								nPals = nPals + 1
							end
						end
					end
					if nPals == 0 then
						return mast.ReferenceMileage 
					elseif nPals == 1 then
						if me &lt; myLastPal then 
							return mast.ReferenceMileage - StandardCantileverSpacing
						else
							return mast.ReferenceMileage + StandardCantileverSpacing
						end
					else 
						return mast.ReferenceMileage,_warning,_info("Too many ["..(nPals+1).."] cantilevers on same side of OCS mast.")
					end
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="_JBTEH_UTL_DistanceToAlignment()" ReturnType="Double" Description="Returns cantilever's distance to own alignment, based on its OCS mast's type and position. (2020-02-16: Formula does not take into account the angularOffset of the mast.)">
  <Constructor>Double _JBTEH_UTL_DistanceToAlignment()</Constructor>
  <Formula>
			function _JBTEH_UTL_DistanceToAlignment()
				if (Alignment == nil) then 
					--If cantilever has no alignment, set to 4e-4 (maintain sideOfAlignment)
					return RightSided and 4e-4 or -4e-4,_warning,_info("Cantilever is not connected to a track (own alignment).")
				end
				local s = "Tilhører kl-mast"
				local r,n = RC__getCollectionOfRelatedObjects(s)
				if n == 0 then
					return RightSided and 4e-4 or -4e-4,_warning,_info("Cantilever is missing relation '"..s.."' to OCS mast.")
				else
					if (r[0].Alignment == nil) then 
						return RightSided and 4e-4 or -4e-4,_warning,
							_info("Cantilever's OCS mast is not connected to a track - cannot deduce cantilever's distance to own alignment.")
					else
						local mast = r[0]
						local mv = mast.Variant
						local mp = mast.OcsMastProfile
						local d
						if mv:lower():match("bjelkemast") then
							d = string.sub(mp,4,6)/2000 --Assume mast profile names "HEB200", "HEB220" etc
						elseif mv:lower():match("gmb%-mast") then
							d = string.sub(mp,4,6)/2000 --Assume mast profile names "HEB200", "HEB220" etc TODO: Finn ekte profiler for GMB-mast
						elseif mv:lower():match("b%-mast") then
							d = (r[0].OcsMastHeight - RelativeElevation) * math.tan(23/1000000) --mast is not straight!
						elseif mv:lower():match("h%-mast") then
							d = (r[0].OcsMastHeight - RelativeElevation) * math.tan(1/50000)
						elseif mv:lower():match("hengemast") then
							if (mp == 'Sirkulær, Ø120') then 
								d = 0.06
							elseif (mp == 'Kvadratisk, 100x100') then 
								d = 0.05
							elseif (mp == 'Rektangulær, 100x150') then
								d = 0.075
							elseif (mp == 'Rektangulær, 100x200') then 
								d = 0.1
							else
								return 0,_warning,_info("Bad OCS mast profile ["..mp.."].")
							end
						else 
							return 0,_warning,_info("Bad OCS mast variant ["..mv.."].")
						end
						-- OCS mast and cantilever may belong to different tracks (when OCS mast is located between tracks):
						mdist = getAlignmentInfo(alignment.id,
								mast.geoCoord.X,mast.geoCoord.Y).DistanceToAlignment --Distance from center OCS mast to *cantilever's* alignment
						if mast.DistanceToAlignment &gt; 0 then 
							return mdist - d
						else
							return mdist + d
						end
					end
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="_JBTEH_UTL_Model3DName()" ReturnType="String" Description="Returns cantilever's 3D model name, based on its OCS mast's type, push/pull setting and cantilever's length [mm].">
  <Constructor>String _JBTEH_UTL_Model3DName(int CantileverLengthDisplay)</Constructor>
  <Formula>
			function _JBTEH_UTL_Model3DName(CantileverLengthDisplay)
				if CantileverLength == nil then 
					--Default length is 4.0m:
					CantileverLengthDisplay = "4000" 
				end
				--TODO: Lage flere 3D-modeller for alle utligger-varianter.
				-- TODO: ...men siden 20, 25 og 35 er veldig like, så bruker vi S20 som 3D-modell for alle sammen inntil videre.
				if (Variant == "System 20A") then 
					if (PushDirection == "Pull") then return "NO-BN-3D-EH-UTL-UTLIGGER-SYSTEM-20-STREKK-"..CantileverLengthDisplay
					elseif (PushDirection == "Push") then return "NO-BN-3D-EH-UTL-UTLIGGER-SYSTEM-20-TRYKK-"..CantileverLengthDisplay
					else return "Ukjent Kraftretning ["..PushDirection.."]",_warning
					end
				elseif (Variant == "System 20B") then 
					if (PushDirection == "Pull") then return "NO-BN-3D-EH-UTL-UTLIGGER-SYSTEM-20-STREKK-"..CantileverLengthDisplay
					elseif (PushDirection == "Push") then return "NO-BN-3D-EH-UTL-UTLIGGER-SYSTEM-20-TRYKK-"..CantileverLengthDisplay
					else return "Ukjent Kraftretning ["..PushDirection.."]",_warning
					end
				elseif (Variant == "System 20C") then 
					if (PushDirection == "Pull") then return "NO-BN-3D-EH-UTL-UTLIGGER-SYSTEM-20-STREKK-"..CantileverLengthDisplay
					elseif (PushDirection == "Push") then return "NO-BN-3D-EH-UTL-UTLIGGER-SYSTEM-20-TRYKK-"..CantileverLengthDisplay
					else return "Ukjent Kraftretning ["..PushDirection.."]",_warning
					end
				elseif (Variant == "System 25") then 
					if (PushDirection == "Pull") then return "NO-BN-3D-EH-UTL-UTLIGGER-SYSTEM-20-STREKK-"..CantileverLengthDisplay
					elseif (PushDirection == "Push") then return "NO-BN-3D-EH-UTL-UTLIGGER-SYSTEM-20-TRYKK-"..CantileverLengthDisplay
					else return "Ukjent Kraftretning ["..PushDirection.."]",_warning
					end
				elseif (Variant == 'System 35') then
					if (PushDirection == "Pull") then return "NO-BN-3D-EH-UTL-UTLIGGER-SYSTEM-20-STREKK-"..CantileverLengthDisplay
					elseif (PushDirection == "Push") then return "NO-BN-3D-EH-UTL-UTLIGGER-SYSTEM-20-TRYKK-"..CantileverLengthDisplay
					else return "Ukjent Kraftretning ["..PushDirection.."]",_warning
					end
				elseif (Variant == "Cariboni") then
					return "NO-BN-3D-EH-UTL-CARIBONI-UTLIGGER"
				else
					return "Ukjent Variant ["..Variant.."].",_warning
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="_JBTEH_UTL_AddVisual2dAngularOffset()" ReturnType="Double" Description="Adds 17 Decimal Degrees rotation to the cantilever's angle in 2D whenever it is located in a yoke or in a galley, to make it visible in 2D drawings. AngularOffset and 3D rendering are not affected">
  <Constructor>Double _JBTEH_UTL_AddVisual2dAngularOffset()</Constructor>
  <Formula>
			function _JBTEH_UTL_AddVisual2dAngularOffset()
				s = "Tilhører kl-mast"
				r,n = RC__getCollectionOfRelatedObjects(s)
				if n == 0 then
					return 0,_info("UNFINISHED - Relate cantilever to an OCS mast, yoke suspension mast or tunnel / bridge suspension mast.")
				else 
					--Cantilever mounted under yoke?
					--Make cantilever "rod" visible if located under a yoke, by visually adding 17 degrees:
					m = r[0]
					s1 = "Er åk-mast for åk"
					r1,n1 = RC__getCollectionOfRelatedObjects(s1)
					if n1 == 0 then 
						return 0,_info("No visual angular offset added since cantilever is not hidden under a yoke.")
					else
						-- TODO: Detect if cantilever is located on the other side of one of the yoke's support masts - and not under the next yoke, if another yoke continues...
						return 17,_info("Visual angular offset added since cantilever might otherwise be visually hidden under a nearby yoke.")
					end
				end
			end
		</Formula>
 </LuaFunction>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_UTL Utligger" Layer="JBTEH_UTL" Color="ByLayer" Group="Kontaktledning/Utliggere" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>utligger</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="System 20A">
   <Variant Name="System 20A">
    <SetValue Key="SubVariant" Value="Standard"/>
   </Variant>
   <Variant Name="System 20B">
    <SetValue Key="SubVariant" Value="Standard"/>
   </Variant>
   <Variant Name="System 20C">
    <SetValue Key="SubVariant" Value="C1"/>
   </Variant>
   <Variant Name="System 25">
    <SetValue Key="SubVariant" Value="N/A"/>
   </Variant>
   <Variant Name="System 35">
    <SetValue Key="SubVariant" Value="N/A"/>
   </Variant>
   <Variant Name="Cariboni">
    <SetValue Key="SubVariant" Value="N/A"/>
    <SetValue Key="PushDirection" Value="N/A"/>
   </Variant>
  </Variants>
  <SetValue Key="PushDirection" Value="Pull"/>
  <CustomAttribute DataType="Enumeration" Name="SubVariant" DisplayName="SubVariant" Description="The cantilever subvariant [Standard | Reduced] is 'Standard' when built for its line design speed, and 'Reduced' when built for less tense wires and lesser speeds.">
   <Values Variant="System 20A">
    <Value DisplayName="Standard" Description="Standard tension wire">Standard</Value>
    <Value DisplayName="Redusert" Description="Reduced tension wire">Reduced</Value>
   </Values>
   <Values Variant="System 20B">
    <Value DisplayName="Standard" Description="Standard tension wire">Standard</Value>
    <Value DisplayName="Redusert" Description="Reduced tension wire">Reduced</Value>
   </Values>
   <Values Variant="System 20C">
    <Value>C1</Value>
    <Value>C2</Value>
   </Values>
   <Values Variant="System 25">
    <Value>N/A</Value>
   </Values>
   <Values Variant="System 35">
    <Value>N/A</Value>
   </Values>
   <Values Variant="Cariboni">
    <Value>N/A</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="PushDirection" DisplayName="Kraftretning" DefaultValue="Pull" Description="The cantilever push direction (cpd) [Push | Pull] is denoted 'Pull' if the cantilever pulls the contact wire towards the cantilever console(s), and 'Push' if it pushes it away.">
   <Values Variant="System 20A">
    <Value DisplayName="Strekk" Description="Utliggeren strekkes (trekker ledningen til seg)">Pull</Value>
    <Value DisplayName="Trykk" Description="Utliggeren sammentrykkes (skyver ledningen fra seg)">Push</Value>
   </Values>
   <Values Variant="System 20B">
    <Value DisplayName="Strekk" Description="Utliggeren strekkes (trekker ledningen til seg)">Pull</Value>
    <Value DisplayName="Trykk" Description="Utliggeren sammentrykkes (skyver ledningen fra seg)">Push</Value>
   </Values>
   <Values Variant="System 20C">
    <Value DisplayName="Strekk" Description="Utliggeren strekkes (trekker ledningen til seg)">Pull</Value>
    <Value DisplayName="Trykk" Description="Utliggeren sammentrykkes (skyver ledningen fra seg)">Push</Value>
   </Values>
   <Values Variant="System 25">
    <Value DisplayName="Strekk" Description="Utliggeren strekkes (trekker ledningen til seg)">Pull</Value>
    <Value DisplayName="Trykk" Description="Utliggeren sammentrykkes (skyver ledningen fra seg)">Push</Value>
   </Values>
   <Values Variant="System 35">
    <Value DisplayName="Strekk" Description="Utliggeren strekkes (trekker ledningen til seg)">Pull</Value>
    <Value DisplayName="Trykk" Description="Utliggeren sammentrykkes (skyver ledningen fra seg)">Push</Value>
   </Values>
   <Values Variant="Cariboni">
    <Value>N/A</Value>
   </Values>
  </CustomAttribute>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>_JBTEH_UTL_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_UTL_code()" ReturnType="String" Description="Obtains the 'code' for this OCS cantilever. Uses relation 'Tilhører kl-mast' to access the related object's data.">
   <Constructor>String _JBTEH_UTL_code()</Constructor>
   <Formula>
				function _JBTEH_UTL_code()
					s = "Tilhører kl-mast"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "UNFINISHED - Relate with '"..s.."' to an OCS mast."
					else
						--Empty string as code, just show the info tooltip.
						return "",_info("Cantilever belongs to mast "..RC__identify(r[0]))
					end
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="Double" Name="CantileverLength" DisplayName="Strekkstag kuttlengde" DefaultValue="4.0" Description="The cantilever's length [m] is measured from console (mast side) to contact wire, perpendicularly to the track. Cariboni is more restricted."/>
  <CustomAttribute DataType="Int32" Name="CantileverLengthDisplay" DisplayName="Utliggerlengde visning" DefaultValue="4000" Description="The cantilever's display length [mm] [1000..6000], rounded to closest multiple of 100 mm. Cariboni is always 1200 mm long."/>
  <LuaExpression Name="CantileverLengthDisplay">
   <Formula>_JBTEH_UTL_CantileverLengthDisplay(CantileverLength)</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_UTL_CantileverLengthDisplay()" ReturnType="String" Description="Returns the cantilever's display length, min 1000mm, max 6000mm, rounded to nearest multiple of 100mm. Cariboni is always 1200 mm long.">
   <Constructor>Int _JBTEH_UTL_CantileverLengthDisplay(Double CantileverLength)</Constructor>
   <Formula>
				function _JBTEH_UTL_CantileverLengthDisplay(CantileverLength)
					if Variant == "Cariboni" then
						return "1200"
					else
						step = 100 --mm - To be verified with the 2D library file
						minL = 1000 --mm
						maxL = 6000 --mm
						local L = step * ((1000*CantileverLength + step/2)//step)
						if L &lt; minL then 
							return minL
						elseif L &gt; maxL then 
							return maxL
						else 
							return RC_toint(L)
						end
					end
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="Double" Name="ContactWireHeight" DisplayName="Kontakttrådhøyde" DefaultValue="5.00" Description="The contact wire height (cwh) [m] denotes the orthogonal distance from the rolling plane formed by the top-of-rails to the contact wire clamp."/>
  <LuaExpression Name="ContactWireHeight">
   <Formula>_JBTEH_UTL_StandardValues(Variant)["cwh"]</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Double" Name="SystemHeight" DisplayName="Systemhøyde" DefaultValue="1.00" Description="The cantilever system height (sh) [m] denotes the vertical Z coordinate difference from the contact wire clamp to the catenary clamp."/>
  <LuaExpression Name="SystemHeight">
   <Formula>_JBTEH_UTL_StandardValues(Variant)["sh"]</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Double" Name="StitchWireLength" DisplayName="Y-line lengde" DefaultValue="0.00" Description="The stitch wire length (swl) [m] denotes the length, measured as a difference in mileage, from start to end (where it attaches to the catenary wire). Zero length means 'no stitch wire'."/>
  <CustomAttribute DataType="Double" Name="Stagger" DisplayName="Sikk-sakk" DefaultValue="0.000" Description="Stagger [m] (zigzag) denotes the distance from contact wire clamp to centre track, measured co-linearly with the top-of-rail plane. A positive stagger means pushing away from mast, negative means pulling towards mast."/>
  <CustomAttribute DataType="String" Name="StaggerDisplay" DisplayName="Sikk-sakk visning" DefaultValue="" Description="The stagger value, as shown next to the cantilever [cm]."/>
  <TextAttribute Annotative="true" BindingProperty="StaggerDisplay" CadAttributeTag="SIKKSAKK" X="-2.75" Y="5.5" Layer="JBTEH@SIKKSAKK" Justify="MiddleCenter" Height="1.25" Width="0" Rotation="0" ObliqueAngle="0" Constant="false" Invisible="false" Lock="false" MText="false"/>
  <LuaExpression Name="StaggerDisplay">
   <Formula>string.format("%.f",Stagger*100) --Centimeters</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" Name="OcsWireNameDisplay" DisplayName="Ledningsnavn visning" DefaultValue="" Description="The cantilever's associated OCS wire."/>
  <TextAttribute Annotative="true" BindingProperty="OcsWireNameDisplay" CadAttributeTag="UTLIGGER_LEDNING" X="0" Y="6" Layer="JBTEH@UTL_LEDNING" Justify="MiddleCenter" Height="0.9" Width="0" Rotation="-90" ObliqueAngle="0" Constant="false" Invisible="false" Lock="false" MText="false"/>
  <LuaExpression Name="OcsWireNameDisplay">
   <Formula>_JBTEH_UTL_OcsWireNameDisplay()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_UTL_OcsWireNameDisplay()" ReturnType="String" Description="Identifies this cantilever's associated OCS wire. Uses relation 'Tilhører kl-mast' to access the related object's data.">
   <Constructor>String _JBTEH_UTL_OcsWireNameDisplay(cantilever)</Constructor>
   <Formula>
				function _JBTEH_UTL_OcsWireNameDisplay(cantilever)
					if cantilever == nil then cantilever = this end
					if cantilever.RcType ~= "JBTEH_UTL Utligger" then return nil,_info("Bad calling object type ["..cantilever.RcType.."].") end
					local s = "Utligger for kontaktledning"
					local r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 1 then return 
						"("..RC__identify(r[0])..")"
					else
						return "UNFINISHED - Relate cantilever to OCS wire with relation '"..s.."'"
					end		
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="Double" Name="WireClampLateralOffset" DisplayName="Kontakttråd sideavsett" DefaultValue="0.00" Description="The contact wire clamp's lateral offset (wclo) [m] denotes the horizontal distance from the track's gradient curve (XYZ before cant effects) to the contact wire clamp (center of contact wire). It depends on contact wire height, stagger (zigzag), cant and the cantilever being LeftSided or RightSided."/>
  <LuaExpression Name="WireClampLateralOffset">
   <Formula>_JBTEH_UTL_WireClampLateralOffset()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_UTL_WireClampLateralOffset()" ReturnType="String" Description="Returns the horizontal offset from the track's gradient curve (before cant) to the cantilever's associated OCS wire, taking contact wire height, stagger, track cant and cantilever side-of-track into consideration.">
   <Constructor>String _JBTEH_UTL_WireClampLateralOffset()</Constructor>
   <Formula>
				function _JBTEH_UTL_WireClampLateralOffset()
					ai = getAlignmentInfo()
					h = ai.Cant/1000.0
					cr = ai.CantRotation
					ss = (h / Alignment.AlignmentSystem.CantGauge) * (cr == "CW" and 1 or -1) --sine
					cc = math.sqrt(1 - ss^2)  --cosine
					return (ContactWireHeight*ss) + (LeftSided and Stagger*cc or -Stagger*cc)
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="Double" Name="WireClampVerticalOffset" DisplayName="Kontakttråd vertikalavsett" DefaultValue="0.00" Description="The contact wire clamp's vertical offset (wcvo) [m] denotes the vertical distance from the track's gradient curve (XYZ before cant effects) to the contact wire clamp (center of contact wire). It depends on contact wire height, stagger (zigzag), cant and the cantilever being LeftSided or RightSided."/>
  <LuaExpression Name="WireClampVerticalOffset">
   <Formula>_JBTEH_UTL_WireClampVerticalOffset()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_UTL_WireClampVerticalOffset()" ReturnType="String" Description="Returns the vertical offset from the track's gradient curve (before cant) to the cantilever's associated OCS wire, taking contact wire height, stagger, track cant and cantilever side-of-track into consideration.">
   <Constructor>String _JBTEH_UTL_WireClampVerticalOffset()</Constructor>
   <Formula>
				function _JBTEH_UTL_WireClampVerticalOffset()
					ai = getAlignmentInfo()
					h = ai.Cant/1000.0
					cr = ai.CantRotation
					ss = (h / Alignment.AlignmentSystem.CantGauge) * (cr == "CW" and 1 or -1) --sine
					cc = math.sqrt(1 - ss^2)  --cosine
					return (h/2) + (ContactWireHeight*cc) + (LeftSided and -Stagger*ss or Stagger*ss)
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="Double" Name="CatenaryClampLateralOffset" DisplayName="Bæretråd sideavsett" DefaultValue="0.00" Description="The catenary clamp's lateral offset (cclo) [m] denotes the horizontal distance from the track's gradient curve (XYZ before cant effects) to the catenary clamp (center of catenary wire). We assume that it is situated at the system height, straight above the contact wire clamp."/>
  <LuaExpression Name="CatenaryClampLateralOffset">
   <Formula>_JBTEH_UTL_CatenaryClampLateralOffset()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_UTL_CatenaryClampLateralOffset()" ReturnType="String" Description="Returns the horizontal offset from the track's gradient curve (before cant) to the cantilever's associated OCS catenary wire, assuming that it is situated at the system height, straight above the contact wire clamp.">
   <Constructor>String _JBTEH_UTL_CatenaryClampLateralOffset()</Constructor>
   <Formula>
				function _JBTEH_UTL_CatenaryClampLateralOffset()
					--Assume that the catenary/contact wire is a vertical wire suspension system, also for curves with large cant
					return WireClampLateralOffset
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="Double" Name="CatenaryClampVerticalOffset" DisplayName="Bæretråd høydeavsett" DefaultValue="0.00" Description="The catenary clamp's vertical offset (ccvo) [m] denotes denotes the vertical distance from the track's gradient curve (XYZ before cant effects) to the catenary wire clamp (center of catenary wire). We assume that it is situated at the system height, straight above the contact wire clamp."/>
  <LuaExpression Name="CatenaryClampVerticalOffset">
   <Formula>_JBTEH_UTL_CatenaryClampVerticalOffset()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_UTL_CatenaryClampVerticalOffset()" ReturnType="String" Description="Returns the vertical offset from the track's gradient curve (before cant) to the cantilever's associated OCS catenary wire, assuming that it is situated at the system height, straight above the contact wire clamp.">
   <Constructor>String _JBTEH_UTL_CatenaryClampVerticalOffset()</Constructor>
   <Formula>
				function _JBTEH_UTL_CatenaryClampVerticalOffset()
					--Assume that the catenary/contact wire is a vertical wire suspension system, also for curves with large cant
					return WireClampVerticalOffset + SystemHeight
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>code</Formula>
  </LuaExpression>
  <LuaExpression Name="ReferenceMileage">
   <Formula>_JBTEH_UTL_ReferenceMileage()</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>_JBTEH_UTL_DistanceToAlignment()</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>ContactWireHeight - _JBTEH_UTL_StandardValues(Variant)["wco"]</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Double" Name="AddVisual2dAngularOffset" DisplayName="2D vinkeltillegg" DefaultValue="0" Description="The 'AddVisual2dAngularOffset' [Double] adds 16.7 decimal degrees to the 2D symbol's angle. Cantilevers mounted in a yoke or galley will not be visible unless the 2D symbol is given an extra angle."/>
  <LuaExpression Name="AddVisual2dAngularOffset">
   <Formula>_JBTEH_UTL_AddVisual2dAngularOffset()</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTEH_UTL_Model3DName(CantileverLengthDisplay)</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir(0.0)</Formula>
  </LuaExpression>
  <LuaExpression Name="SymbolFrame">
   <Formula>NOBN__setSymbolFrame()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" Name="mc_OcsSystemHeight" DisplayName="System Height" ReadOnly="true" Category="Model check" Description="Check that cantilever system height (sh) [m] conforms to Technical Regulations for the chosen Variant / SubVariant."/>
  <LuaExpression Name="mc_OcsSystemHeight" IsModelCheck="true">
   <Formula>_JBTEH_UTL_chkSystemHeight()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_UTL_chkSystemHeight()" ReturnType="String" Description="Checks the cantilever's height as a function of selected OCS system variant's min and max heights.">
   <Constructor>String _JBTEH_UTL_chkSystemHeight()</Constructor>
   <Formula>
				function _JBTEH_UTL_chkSystemHeight()
					min = _JBTEH_UTL_StandardValues(Variant)["shmin"]
					max = _JBTEH_UTL_StandardValues(Variant)["shmax"]
					sh = SystemHeight
					v = Variant
					if sh &lt; min then
						return string.format("%.02f: WARNING - system height is below %s limit (%.02f).",sh,v,min),_warning
					elseif sh &gt; max then
						return string.format("%.02f: WARNING - system height is above %s limit (%.02f).",sh,v,max),_warning
					else
						return string.format("%.02f: OK - system height is within %s limits [%.02f-%0.2f].",sh,v,min,max),_ok
					end
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="String" Name="mc_OcsUpperTubeAngle" DisplayName="Strekkstagvinkel" ReadOnly="true" Category="Model check" Description="The cantilever upper tube's angle [DD] above the horizontal position. We assume that the catenary wire clamp is situated 11 cm above the center of the upper tube."/>
  <LuaExpression Name="mc_OcsUpperTubeAngle" IsModelCheck="true">
   <Formula>_JBTEH_UTL_chkUpperTubeAngle()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTEH_UTL_chkUpperTubeAngle()" ReturnType="String" Description="Checks that the cantilever upper tube's angle [DD] is near zero (except for the lifted wire at wire changeovers). We assume that the catenary wire clamp is situated 11 cm above the center of the upper tube.">
   <Constructor>String _JBTEH_UTL_chkUpperTubeAngle()</Constructor>
   <Formula>
				function _JBTEH_UTL_chkUpperTubeAngle()
					-- Assume that the catenary wire clamp holds the catenary 11.7 cm above the upper tube's center:
					vDiff = CatenaryClampVerticalOffset - 0.117 - RelativeElevation
					hDiff = math.abs(CatenaryClampLateralOffset - DistanceToAlignment)
					angle = math.deg(math.atan(vDiff,hDiff))
					min = -5.0 --Decimal Degrees
					max = 5.0 --Decimal Degrees
					if angle &lt; min then
						return string.format("%.01f: WARNING - upper tube angle is below low limit (%.01f DD).",angle,min),_warning
					elseif angle &gt; max then
						return string.format("%.01f: WARNING - upper tube angle is above high limit (%.01f DD).",angle,max),_warning
					else
						return string.format("%.01f: OK - system height is within limits [%.01f  to %0.1f DD].",angle,min,max),_ok
					end
				end
			</Formula>
  </LuaFunction>
  <LuaFunction Name="_JBTEH_UTL_getContactWireHeightFromRelatedContactWireClamp()" ReturnType="String" Description="Returns the Contact Wire Height (measured perpendicularly above the rolling plane), computed from a surveyed contact wire clamp related with 'Har kontakttrådklemme'.">
   <Constructor>String _JBTEH_UTL_getContactWireHeightFromRelatedContactWireClamp()</Constructor>
   <Formula>
				function _JBTEH_UTL_getContactWireHeightFromRelatedContactWireClamp()
					s = "Har kontakttrådklemme"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "UNFINISHED - Relate with '"..s.."' to its cantilever."
					else
						p = r[0].geoCoord --CW clamp coordinates in WCS
						ai = getAlignmentInfo(p.X,p.Y) --Project CW clamp onto the cantilever's alignment
						h = (ai.Cant or 0) / 1000.0 --[m] Could be nil
						H = p.Z - (ai.Point.Z + h/2) --survey point Z relative to this track's center track after cant
						d = ai.DistanceToAlignment
						ss = h / Alignment.AlignmentSystem.CantGauge -- equals the sine of the cant angle
						ss = ss * (ai.CantRotation == "CW" and 1 or -1)
						cc = math.sqrt(1 - ss^2) --the cosine
						cwh = ss*d + cc*H
						return cwh --Intended for the ContactWireHeight property
					end
				end
			</Formula>
  </LuaFunction>
  <LuaFunction Name="_JBTEH_UTL_getStaggerFromRelatedContactWireClamp()" ReturnType="String" Description="Returns the Stagger (measured colinearly to the rolling plane), computed from a surveyed contact wire clamp related with 'Har kontakttrådklemme'.">
   <Constructor>String _JBTEH_UTL_getStaggerFromRelatedContactWireClamp()</Constructor>
   <Formula>
				function _JBTEH_UTL_getStaggerFromRelatedContactWireClamp()
					s = "Har kontakttrådklemme"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "INCOMPLET - Relier par '"..s.."' à son armement."
						--return "UNFINISHED - Relate with '"..s.."' to its cantilever."
					else
						p = r[0].geoCoord --CW clamp coordinates in WCS
						ai = getAlignmentInfo(p.X,p.Y) --Project CW clamp onto the cantilever's alignment
						h = (ai.Cant or 0) / 1000.0 --[m] Could be nil
						H = p.Z - (ai.Point.Z + h/2) --survey point Z relative to this track's center track after cant
						d = ai.DistanceToAlignment
						ss = h / Alignment.AlignmentSystem.CantGauge -- equals the sine of the cant angle
						cc = math.sqrt(1 - ss^2) --the cosine
						zigzag = (ss*H - cc*d) * (RightSided and 1 or -1)
						return zigzag --Intended for the Stagger property
					end
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="System 20A" DisplayName="System 20A" DisplayBlockName="NO-BN-2D-JBTEH_UTL-UTLIGGER-20A-S-4000-{% if SymbolMode == 'Schematic' %}Schematic{% else %}Metric{% endif %}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="CantileverLength" Value="4.0"/>
  </InsertPointObject>
  <InsertPointObject VariantName="System 20B" DisplayName="System 20B" DisplayBlockName="NO-BN-2D-JBTEH_UTL-UTLIGGER-20B-S-4000-{% if SymbolMode == 'Schematic' %}Schematic{% else %}Metric{% endif %}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="CantileverLength" Value="4.0"/>
  </InsertPointObject>
  <InsertPointObject VariantName="System 20C" DisplayName="System 20C" DisplayBlockName="NO-BN-2D-JBTEH_UTL-UTLIGGER-20C-S-4000-{% if SymbolMode == 'Schematic' %}Schematic{% else %}Metric{% endif %}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="CantileverLength" Value="4.0"/>
  </InsertPointObject>
  <InsertPointObject VariantName="System 25" DisplayName="System 25" DisplayBlockName="NO-BN-2D-JBTEH_UTL-UTLIGGER-25-S-4000-{% if SymbolMode == 'Schematic' %}Schematic{% else %}Metric{% endif %}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="CantileverLength" Value="4.0"/>
  </InsertPointObject>
  <InsertPointObject VariantName="System 35" DisplayName="System 35" DisplayBlockName="NO-BN-2D-JBTEH_UTL-UTLIGGER-35-S-4000-{% if SymbolMode == 'Schematic' %}Schematic{% else %}Metric{% endif %}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="CantileverLength" Value="4.0"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Cariboni" DisplayBlockName="NO-BN-2D-JBTEH_UTL-UTLIGGER-CARIBONI-S-4000-{% if SymbolMode == 'Schematic' %}Schematic{% else %}Metric{% endif %}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="PushDirection" Value="N/A"/>
   <SetValue Key="CantileverLength" Value="1.2"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_UTL-UTLIGGER-20B-{% if SymbolMode == 'Schematic' %}Schematic{% else %}Metric{% endif %}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset|plus:AddVisual2dAngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset|plus:AddVisual2dAngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset|plus:AddVisual2dAngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset|plus:AddVisual2dAngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset|plus:AddVisual2dAngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset|plus:AddVisual2dAngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_UTL-UTLIGGER
				{% if Variant == 'System 20A' %}20A{% if PushDirection == 'Pull' %}-S{% else %}-T{% endif %}-{{CantileverLengthDisplay}}
				{% elsif Variant == 'System 20B' %}20B{% if PushDirection == 'Pull' %}-S{% else %}-T{% endif %}-{{CantileverLengthDisplay}}
				{% elsif Variant == 'System 20C' %}20C{% if PushDirection == 'Pull' %}-S{% else %}-T{% endif %}-{{CantileverLengthDisplay}}
				{% elsif Variant == 'System 25' %}25{% if PushDirection == 'Pull' %}-S{% else %}-T{% endif %}-{{CantileverLengthDisplay}}
				{% elsif Variant == 'System 35' %}35{% if PushDirection == 'Pull' %}-S{% else %}-T{% endif %}-{{CantileverLengthDisplay}}
				{% elsif Variant == 'Cariboni' %}CARIBONI
				{% else %}BAD_Variant
				{% endif %}
				{% if SymbolMode == 'Schematic' %}Schematic{% else %}Metric{% endif %}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="EH-KLK Kontakttrådklemme" Layer="JBTEH_KLK" Color="ByLayer" Group="Kontaktledning/Klemmer" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>kontakttrådklemme</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_com_getRollFromCantInterpretedAsDecimalDegrees()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Kontakttrådklemme">
   <Variant Name="Kontakttrådklemme">
    <SetValue Key="name" Value="Tr.kl."/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-EH-KLK-KONTAKTTRÅDKLEMME"/>
   </Variant>
  </Variants>
  <LuaExpression Name="code">
   <Formula>_EH_KLK_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_EH_KLK_code()" ReturnType="String" Description="Copies the cantilever's code.">
   <Constructor>String _EH_KLK_code()</Constructor>
   <Formula>
				function _EH_KLK_code()
					s = "Tilhører utligger"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "UNFINISHED - Relate with '"..s.."' to its cantilever."
					else
						return r[0].code
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Alignment">
   <Formula>_EH_KLK_Alignment()</Formula>
  </LuaExpression>
  <LuaFunction Name="_EH_KLK_Alignment()" ReturnType="String" Description="Obtains the 'code' for this OCS contact wire clamp. Uses relation 'Appartient à armement' to access the related object's data.">
   <Constructor>String _EH_KLK_Alignment()</Constructor>
   <Formula>
				function _EH_KLK_Alignment()
					s = "Tilhører utligger"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "UNFINISHED - Relate with '"..s.."' to its cantilever."
					else
						return r[0].Alignment
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Mileage">
   <Formula>_EH_KLK_Mileage()</Formula>
  </LuaExpression>
  <LuaFunction Name="_EH_KLK_Mileage()" ReturnType="Double" Description="Returns contact wire clamp's reference mileage, equal to its cantilever's reference mileage.">
   <Constructor>Double _EH_KLK_Mileage()</Constructor>
   <Formula>
				function _EH_KLK_Mileage()
					s = "Tilhører utligger"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return _info("INCOMPLET - Relier par '"..s.."' à son armement.")
						--return "UNFINISHED - Relate with '"..s.."' to its cantilever."
					else
						return r[0].Mileage
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>_EH_KLK_DistanceToAlignment()</Formula>
  </LuaExpression>
  <LuaFunction Name="_EH_KLK_DistanceToAlignment()" ReturnType="Double" Description="Copies the cantilever's lateral offset (distance to alignment).">
   <Constructor>Double _EH_KLK_DistanceToAlignment()</Constructor>
   <Formula>
				function _EH_KLK_DistanceToAlignment()
					s = "Tilhører utligger"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "UNFINISHED - Relate with '"..s.."' to its cantilever."
					else
						return r[0].DistanceToAlignment
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="RelativeElevation">
   <Formula>_EH_KLK_RelativeElevation()</Formula>
  </LuaExpression>
  <LuaFunction Name="_EH_KLK_RelativeElevation()" ReturnType="Double" Description="Copies the cantilever's vertical offset (relative elevation).">
   <Constructor>Double _EH_KLK_RelativeElevation()</Constructor>
   <Formula>
				function _EH_KLK_RelativeElevation()
					s = "Appartient à armement"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "UNFINISHED - Relate with '"..s.."' to its cantilever."
					else
						return r[0].RelativeElevation
					end
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Kontakttrådklemme" DisplayBlockName="NO-BN-2D-##RC_THUMBNAIL-UNSPECIFIED-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kontaktledning</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-##RC_THUMBNAIL-UNSPECIFIED-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="utligger"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_BRY KL-bryter" Layer="JBTEH_BRY" Color="ByLayer" Group="Kontaktledning/Brytere" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>kl-bryter</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Object"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Skillebryter">
   <Variant Name="Skillebryter">
    <SetValue Key="name" Value="Skillebryter"/>
   </Variant>
   <Variant Name="Lastskillebryter">
    <SetValue Key="name" Value="Lastskillebryter"/>
   </Variant>
   <Variant Name="Jordingsbryter">
    <SetValue Key="name" Value="Jordingsbryter"/>
   </Variant>
  </Variants>
  <CustomAttribute DataType="Enumeration" Name="NormalPosition" DisplayName="Grunnstilling" DefaultValue="Open" Description="Switch circuit normal position [Open | Closed].">
   <Values>
    <Value DisplayName="Åpen">Open</Value>
    <Value DisplayName="Lukket">Closed</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="Motorized" DisplayName="Motorisert" DefaultValue="No" Description="Switch motorization [Yes | No].">
   <Values>
    <Value DisplayName="Ja">Yes</Value>
    <Value DisplayName="Nei">No</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="Poles" DisplayName="Poler" DefaultValue="One" Description="The number of conductors which are opened or closed when using the switch [One | Two | Three].">
   <Values>
    <Value DisplayName="En">One</Value>
    <Value DisplayName="To">Two</Value>
    <Value DisplayName="Tre">Three</Value>
   </Values>
  </CustomAttribute>
  <LuaExpression Name="dir">
   <Formula>"none"</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Skillebryter" DisplayName="Skillebryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-SKILLEBRYTER-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="One"/>
   <SetValue Key="Motorized" Value="No"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Skillebryter" DisplayName="Topols Skillebryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-SKILLEBRYTER-TOPOLET-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="Two"/>
   <SetValue Key="Motorized" Value="No"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Skillebryter" DisplayName="Trepols Skillebryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-SKILLEBRYTER-TREPOLET-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="Three"/>
   <SetValue Key="Motorized" Value="No"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Skillebryter" DisplayName="Motorisert Skillebryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-SKILLEBRYTER-MOTORISERT-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="One"/>
   <SetValue Key="Motorized" Value="Yes"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Skillebryter" DisplayName="Motorisert Topols Skillebryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-SKILLEBRYTER-MOTORISERT-TOPOLET-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="Two"/>
   <SetValue Key="Motorized" Value="Yes"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Skillebryter" DisplayName="Motorisert Trepols Skillebryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-SKILLEBRYTER-MOTORISERT-TREPOLET-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="Three"/>
   <SetValue Key="Motorized" Value="Yes"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lastskillebryter" DisplayName="Lastskillebryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-LASTSKILLEBRYTER-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="One"/>
   <SetValue Key="Motorized" Value="No"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lastskillebryter" DisplayName="Topols Lastskillebryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-LASTSKILLEBRYTER-TOPOLET-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="Two"/>
   <SetValue Key="Motorized" Value="No"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lastskillebryter" DisplayName="Trepols Lastskillebryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-LASTSKILLEBRYTER-TREPOLET-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="Three"/>
   <SetValue Key="Motorized" Value="No"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lastskillebryter" DisplayName="Motorisert Lastskillebryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-LASTSKILLEBRYTER-MOTORISERT-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="One"/>
   <SetValue Key="Motorized" Value="Yes"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lastskillebryter" DisplayName="Motorisert Topols Lastskillebryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-LASTSKILLEBRYTER-MOTORISERT-TOPOLET-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="Two"/>
   <SetValue Key="Motorized" Value="Yes"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lastskillebryter" DisplayName="Motorisert Trepols Lastskillebryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-LASTSKILLEBRYTER-MOTORISERT-TREPOLET-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="Three"/>
   <SetValue Key="Motorized" Value="Yes"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Jordingsbryter" DisplayName="Jordingsbryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-JORDINGSBRYTER-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="One"/>
   <SetValue Key="Motorized" Value="No"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Jordingsbryter" DisplayName="Topols Jordingsbryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-JORDINGSBRYTER-TOPOLET-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="Two"/>
   <SetValue Key="Motorized" Value="No"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Jordingsbryter" DisplayName="Trepols Jordingsbryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-JORDINGSBRYTER-TREPOLET-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="Three"/>
   <SetValue Key="Motorized" Value="No"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Jordingsbryter" DisplayName="Motorisert Jordingsbryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-JORDINGSBRYTER-MOTORISERT-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="One"/>
   <SetValue Key="Motorized" Value="Yes"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Jordingsbryter" DisplayName="Motorisert Topols Jordingsbryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-JORDINGSBRYTER-MOTORISERT-TOPOLET-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="Two"/>
   <SetValue Key="Motorized" Value="Yes"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Jordingsbryter" DisplayName="Motorisert Trepols Jordingsbryter" DisplayBlockName="NO-BN-2D-JBTEH_BRY-JORDINGSBRYTER-MOTORISERT-TREPOLET-AAPEN-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="0.6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="Poles" Value="Three"/>
   <SetValue Key="Motorized" Value="Yes"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_BRY-SKILLEBRYTER-AAPEN-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_BRY
				{% if Variant == 'Skillebryter' %}SKILLEBRYTER
				{% elsif Variant == 'Lastskillebryter' %}LASTSKILLEBRYTER
				{% elsif Variant == 'Jordingsbryter' %}JORDINGSBRYTER
				{% else %}BAD_Variant
				{% endif %}
				{% if Motorized == 'Yes' %}MOTORISERT{% endif %}
				{% if Poles == 'Two' %}TOPOLET
				{% elsif Poles == 'Three' %}TREPOLET
				{% endif %}
				{% if NormalPosition == 'Open' %}AAPEN
				{% else %}LUKKET
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="bryter"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_SUG Sugetransformator" Layer="JBTEH_SUG" Color="ByLayer" Group="Kontaktledning/Sugetransformatorer" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>sugetransformator</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="18" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="16" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="22" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Object"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Sugetransformator">
   <Variant Name="Sugetransformator"/>
   <Variant Name="Sugetransformator i kiosk"/>
  </Variants>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Sugetransformator" DisplayBlockName="NO-BN-2D-JBTEH_SUG-SUGETRANSFORMATOR-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
   <SetValue Key="name" Value="SUGETRANSFORMATOR"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Sugetransformator i kiosk" DisplayBlockName="NO-BN-2D-JBTEH_SUG-SUGETRANSFORMATOR-I-KIOSK-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
   <SetValue Key="name" Value="SUGETRANSFORMATOR i kiosk"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_SUG
				{% if Variant == 'Sugetransformator' %}SUGETRANSFORMATOR-I-MAST
				{% elsif Variant == 'Sugetransformator i kiosk' %}SUGETRANSFORMATOR-I-KIOSK
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_AUT Autotransformator" Layer="JBTEH_AUT" Color="ByLayer" Group="Kontaktledning/Autotransformatorer" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>autotransformator</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="18" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="16" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="22" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Object"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <Variants DefaultValue="Autotransformator">
   <Variant Name="Autotransformator"/>
  </Variants>
  <InsertPointObject VariantName="Autotransformator" DisplayBlockName="NO-BN-2D-JBTEH_AUT-AUTOTRANSFORMATOR-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
   <SetValue Key="name" Value="Autotrafo"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_AUT
				{% if Variant == 'Autotransformator' %}AUTOTRANSFORMATOR
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_XBE Beskyttelsesskjerm" Layer="JBTEH_XBE" Color="ByLayer" Group="Kontaktledning/Beskyttelse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>beskyttelse</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="18" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="16" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="22" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Beskyttelsesskjerm 2x900x1400xØ32 på betongmast / bjelkemast">
   <Variant Name="Beskyttelsesskjerm 2x900x1400xØ32 på tunnelmast / tremast"/>
   <Variant Name="Beskyttelsesskjerm 2x900x1400xØ32 på betongmast / bjelkemast"/>
   <Variant Name="Beskyttelsesskjerm 2x900x1400xØ32 på B-mast bredside"/>
   <Variant Name="Beskyttelsesskjerm 2x900x1400xØ32 på B-mast smalside / H-mast"/>
   <Variant Name="Beskyttelsesskjerm 2x900x1400xØ32 på hengemast"/>
   <Variant Name="Beskyttelsesskjerm 2000x775xØ32 i åk, ett felt"/>
   <Variant Name="Beskyttelsesskjerm 2000x775xØ32 i åk, to felt"/>
  </Variants>
  <CustomAttribute DataType="Enumeration" Name="Tilt" DisplayName="Tilt" Description="900x1400 protective screen inclination [00|01|10|11]: 00=none tilted, 01=tilted right, 10=tilted left, 11=both tilted.">
   <Values>
    <Value>00</Value>
    <Value>01</Value>
    <Value>10</Value>
    <Value>11</Value>
   </Values>
  </CustomAttribute>
  <LuaExpression Name="name">
   <Formula>
				if Variant:match("Beskyttelsesskjerm") then return "Beskyttelseskjerm"
				else return "Unknown protective screen variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>
				local s = "NO-BN-3D-EH-XBE-BESKYTTELSE-SKJERM-2x900x1400xØ32-UTF"
				local t = "NO-BN-3D-EH-XBE-BESKYTTELSE-SKJERM-2000x775xØ32"
				if Variant == "Beskyttelsesskjerm 2x900x1400xØ32 på tunnelmast / tremast" then 
					return string.format("%s-%d-%02d",s,1,tonumber(Tilt))
				elseif Variant == "Beskyttelsesskjerm 2x900x1400xØ32 på betongmast / bjelkemast" then 
					return string.format("%s-%d-%02d",s,2,tonumber(Tilt))
				elseif Variant == "Beskyttelsesskjerm 2x900x1400xØ32 på B-mast bredside" then 
					return string.format("%s-%d-%02d",s,3,tonumber(Tilt))
				elseif Variant == "Beskyttelsesskjerm 2x900x1400xØ32 på B-mast smalside / H-mast" then 
					return string.format("%s-%d-%02d",s,45,tonumber(Tilt))
				elseif Variant == "Beskyttelsesskjerm 2x900x1400xØ32 på hengemast" then 
					return string.format("%s-%d-%02d",s,6,tonumber(Tilt))
				elseif Variant == "Beskyttelsesskjerm 2000x775xØ32 i åk, ett felt" then 
					return string.format("%s-%s",t,"A")
				elseif Variant == "Beskyttelsesskjerm 2000x775xØ32 i åk, to felt" then 
					return string.format("%s-%s",t,"B")
				else 
					return "Unknown protective screen Variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Beskyttelsesskjerm 2x900x1400xØ32 på tunnelmast / tremast" DisplayBlockName="NO-BN-2D-JBTEH_XBE-BESKYTTELSE-SKJERM-1-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="false" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="Tilt" Value="00"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="RelativeElevation" Value="6.8"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Beskyttelsesskjerm 2x900x1400xØ32 på betongmast / bjelkemast" DisplayBlockName="NO-BN-2D-JBTEH_XBE-BESKYTTELSE-SKJERM-2-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="false" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="Tilt" Value="00"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="RelativeElevation" Value="6.8"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Beskyttelsesskjerm 2x900x1400xØ32 på B-mast bredside" DisplayBlockName="NO-BN-2D-JBTEH_XBE-BESKYTTELSE-SKJERM-3-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="false" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="Tilt" Value="00"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="RelativeElevation" Value="6.8"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Beskyttelsesskjerm 2x900x1400xØ32 på B-mast smalside / H-mast" DisplayBlockName="NO-BN-2D-JBTEH_XBE-BESKYTTELSE-SKJERM-45-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="false" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="Tilt" Value="00"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="RelativeElevation" Value="6.8"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Beskyttelsesskjerm 2x900x1400xØ32 på hengemast" DisplayBlockName="NO-BN-2D-JBTEH_XBE-BESKYTTELSE-SKJERM-6-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="false" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="Tilt" Value="00"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="RelativeElevation" Value="6.8"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Beskyttelsesskjerm 2000x775xØ32 i åk, ett felt" DisplayBlockName="NO-BN-2D-JBTEH_XBE-BESKYTTELSE-SKJERM-704042-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="false" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="Tilt" Value="00"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="RelativeElevation" Value="6.8"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Beskyttelsesskjerm 2000x775xØ32 i åk, to felt" DisplayBlockName="NO-BN-2D-JBTEH_XBE-BESKYTTELSE-SKJERM-704042-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="false" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="Tilt" Value="00"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="RelativeElevation" Value="6.8"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_XBE-BESKYTTELSE-SKJERM-1-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_XBE
				BESKYTTELSE-SKJERM
				{% if Variant == 'Beskyttelsesskjerm 2x900x1400xØ32 på tunnelmast / tremast' %}1
				{% elsif Variant == 'Beskyttelsesskjerm 2x900x1400xØ32 på betongmast / bjelkemast' %}2
				{% elsif Variant == 'Beskyttelsesskjerm 2x900x1400xØ32 på B-mast bredside' %}3
				{% elsif Variant == 'Beskyttelsesskjerm 2x900x1400xØ32 på B-mast smalside / H-mast' %}45
				{% elsif Variant == 'Beskyttelsesskjerm 2x900x1400xØ32 på hengemast' %}6
				{% elsif Variant == 'Beskyttelsesskjerm 2000x775xØ32 i åk, ett felt' %}704042
				{% elsif Variant == 'Beskyttelsesskjerm 2000x775xØ32 i åk, to felt' %}704042
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_SIL Seksjonsisolator" Layer="JBTEH_SIL" Color="ByLayer" Group="Kontaktledning/Isolatorer" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>seksjonsisolator</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="5" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="3" Layer="JBTEH@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="7" Layer="JBTEH@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_com_getRollFromCantInterpretedAsDecimalDegrees()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Seksjonsisolator">
   <Variant Name="Seksjonsisolator"/>
  </Variants>
  <LuaExpression Name="name">
   <Formula>
				if Variant == "Seksjonsisolator" then return "SI"
				else return "Unknown section insulator variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>
				-- Ref. EK.704790, for speeds up to 80 km/h. Not drawn entirely to scale!
				if Variant == "Seksjonsisolator" then return "NO-BN-3D-EH-SIL-SEKSJONSISOLATOR-BICC"
				else return "Unknown section insulator variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Seksjonsisolator" DisplayBlockName="NO-BN-2D-JBTEH_SIL-ISOLATOR-SEKSJONSISOLATOR-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kontaktledning</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_SIL-ISOLATOR-SEKSJONSISOLATOR-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="true"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_SIL
				ISOLATOR
				{% if Variant == 'Seksjonsisolator' %}SEKSJONSISOLATOR
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_ISO Lineisolator" Layer="JBTEH_ISO" Color="ByLayer" Group="Kontaktledning/Isolatorer" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>lineisolator</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="5" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="3" Layer="JBTEH@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="7" Layer="JBTEH@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_com_getRollFromCantInterpretedAsDecimalDegrees()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Lineisolator">
   <Variant Name="Lineisolator"/>
  </Variants>
  <LuaExpression Name="name">
   <Formula>
				if Variant == "Lineisolator" then return "Isol."
				else return "Unrecognized variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>
				if Variant == "Lineisolator" then return "NO-BN-3D-EH-ISO-LINEISOLATOR-600x100"
				else return "Unrecognized variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Lineisolator" DisplayBlockName="NO-BN-2D-JBTEH_SIL-ISOLATOR-LINEISOLATOR-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kontaktledning</OwnAlignmentTargetSpace>
   <OwnAlignmentTargetSpace>kl-oppheng</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_SIL-ISOLATOR-LINEISOLATOR-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="true"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_SIL
				ISOLATOR
				{% if Variant == 'Lineisolator' %}LINEISOLATOR
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_ISS Stavisolator" Layer="JBTEH_ISS" Color="ByLayer" Group="Kontaktledning/Isolatorer" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>stavisolator</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="5" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="3" Layer="JBTEH@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="7" Layer="JBTEH@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_com_getRollFromCantInterpretedAsDecimalDegrees()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Stavisolator">
   <Variant Name="Stavisolator"/>
  </Variants>
  <LuaExpression Name="name">
   <Formula>
				if Variant == "Stavisolator" then return "Stavisol."
				else return "Unrecognized variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>
				if Variant == "Stavisolator" then return "NO-BN-3D-EH-ISO-STAVISOLATOR"
				else return "Unrecognized variant ["..Variant.."].",_warning
				end
			</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Stavisolator" DisplayBlockName="NO-BN-2D-JBTEH_SIL-ISOLATOR-STAVISOLATOR-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kontaktledning</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_SIL-ISOLATOR-STAVISOLATOR-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="true"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_SIL
				ISOLATOR
				{% if Variant == 'Lineisolator' %}STAVISOLATOR
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_SVE Svevende kryss" Layer="JBTEH_SVE" Color="ByLayer" Group="Kontaktledning/Svevende kryss" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>svevendekryss</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="18" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="16" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="22" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Svevende kryss">
   <Variant Name="Svevende kryss"/>
  </Variants>
  <LuaExpression Name="name">
   <Formula>
				if Variant == "Svevende kryss" then return "Svevende kryss"
				else return _error,"Bad OCS crossing lines conncector variant ["..Variant.."]."
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>0</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>
				if Variant == "Svevende kryss" then return "NO-BN-3D-EH-SVE-SVEVENDE-KRYSS-2500"
				else return _error,"Bad OCS crossing lines connector variant ["..Variant.."]."
				end
			</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Svevende kryss" DisplayBlockName="NO-BN-2D-JBTEH_SVE-FORBINDELSE-SVEVENDE-KRYSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="false" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>kontaktledning</OwnAlignmentTargetSpace>
   <SetValue Key="name" Value="Svevende kryss"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_SVE-FORBINDELSE-SVEVENDE-KRYSS-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_SVE
				FORBINDELSE
				{% if Variant == 'Svevende kryss' %}SVEVENDE-KRYSS
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEH_FOR Strømbro" Layer="JBTEH_FOR" Color="ByLayer" Group="Kontaktledning/Forbindelser" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>kl-forbindelse</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="18" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="16" Layer="JBTEH@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="22" Layer="JBTEH@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Kontaktledning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Strømbro">
   <Variant Name="Strømbro"/>
  </Variants>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RightSided and 4e-4 or -4e-4</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Strømbro" DisplayBlockName="NO-BN-2D-JBTEH_FOR-FORBINDELSE-STROEMBRO-H-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfLeftSideOfAlignment="true"/>
   <OwnAlignmentTargetSpace>kl-oppheng</OwnAlignmentTargetSpace>
   <OwnAlignmentTargetSpace>kontaktledning</OwnAlignmentTargetSpace>
   <SetValue Key="name" Value="Strømbro"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-JBTEH_SVE-FORBINDELSE-STROEMBRO-{% if dir == 'up' %}{% if RightSided %}H{% else %}V{% endif %}{% else %}{% if LeftSided %}H{% else %}V{% endif %}{% endif %}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if RightSided %}{{0.0|plus:AngularOffset}}{% else %}{{180.0|plus:AngularOffset}}{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEH_FOR
				FORBINDELSE
				{% if Variant == 'Strømbro' %}STROEMBRO
					{% if dir == 'up' %}{% if RightSided %}H{% else %}V{% endif %}{% else %}{% if RightSided %}V{% else %}H{% endif %}{% endif %}
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <LuaFunction Name="NOBN_sig_getCabinetName()" ReturnType="String" Description="Returns a string for each cabinet variant. Keylock cabinets receive a code based on the object's OCP area and the 'seq' property.">
  <Constructor>String NOBN_sig_getCabinetName()</Constructor>
  <Formula>
function NOBN_sig_getCabinetName()
	if string.find(Variant, "apparat") then
		return "As."..code
	elseif string.find(Variant, "Nøkkel") then 
		local v = "Arbeidsområde"
		local n,a
		n,a = RC_com_getAreasOfVariant(v)
		if n == 1 then
			return "Nøk."..RC_com_getOcpCode().." "..a[0].code.."-"..seq 
		else 
			return "*** Zero or multiple ("..n..") areas found of Variant '"..v.."' - cannot deduce a unique name for keylock cabinet." 
		end
	elseif string.find(Variant, "Sveiv") then
		return "Ss."..code
	elseif string.find(Variant, "Kabel") then
		return "Kabelboks "..code
	else
		return "Unknown variant",_warning
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_getBaliseGroupId()" ReturnType="String" Description="Returns balise group object ID (7 chars) (Ref Signal-Prosj-ATC-7.11-Baliseidentitet).">
  <Constructor>String NOBN_sig_getBaliseGroupId()</Constructor>
  <Formula>
function NOBN_sig_getBaliseGroupId()
	if Variant == "Hastighetsbalisegruppe" then
		a = "-H"
	elseif Variant == "Signalhøyningsbalisegruppe" then
		a = "-S"
	elseif Variant == "Grensebalisegruppe" then
		a = "-G"
	elseif Variant == "Lenkingsbalisegruppe" then
		a = "-L"
	elseif Variant == "Sporvekselbalisegruppe" then
		a = "-V"
	elseif Variant == "ETCS L2 balisegruppe" then 
		a = "!"
	elseif Variant == "Hovedsignalbalisegruppe" then 
		a = "_"
	elseif Variant == "Forsignalbalisegruppe" then
		a = "F"
	elseif Variant == "Repeterbalisegruppe" then
		local s = "Gjelder for signal/markerboard/skilt/stolpe/sporveksel"
		local r,n = RC__getCollectionOfRelatedObjects(s)
		if n == 0 then
			-- Balise group has no relation to a signal yet:
			return "UNFINISHED - Relate with '"..s.."'."
		else
			sig = r[0] --should be a signal here, repeater groups don't repeat switches directly
			bg = RC__getCollectionOfRelatedObjects("Har balisegruppe",sig)
			bg = bg:filter(function (x) return x.Variant == "Repeterbalisegruppe" end)
			nbg = getCollectionLength(bg)
			if nbg == 0 then
				--I am here, so n *must* be greater than zero:
				return "Should not happen - bad relation loop." 
			elseif nbg == 1 then
				-- I am the only repeater group:
				a = "R"
			elseif nbg == 2 then
				-- Assign 'U' to the one farthest away, 'R' to the one closest to signal: 
				b1 = bg[0]
				b2 = bg[1]
				if distance(b1,sig) &gt; distance(b2,sig) then
					b1,b2 = b2,b1
					--Now b1 is closest to signal
				end
				if this.id == b1.id then
					--I am the closest repeater group:
					a = "R"
				else
					--I am the farthest repeater group:
					a = "U"
				end
			elseif nbg == 3 then
				-- Assign 'V' to the one farthest away, then 'U' and then 'R' to the one closest to signal:
				b1 = bg[0]
				b2 = bg[1]
				b3 = bg[2]
				-- Three pairwise swaps and they're sorted:
				if distance(b1,sig) &gt; distance(b2,sig) then b1,b2 = b2,b1 end
				if distance(b2,sig) &gt; distance(b3,sig) then b2,b3 = b3,b2 end
				if distance(b1,sig) &gt; distance(b2,sig) then b1,b2 = b2,b1 end
				if this.id == b1.id then
					--I am the closest repeater group:
					a = "R"
				elseif this.id == b2.id then
					--I am the middle repeater group:
					a = "U"
				else 
					a = "V"
				end
			end
		end
	end
	ocpMsg = "Create an Operation / Control Point (OCP) area around your object and refresh it to replace '???' with the relevant OCP's codes."
	if Variant == "Hastighetsbalisegruppe" then
		r,n = RC__getCollectionOfRelatedObjects("Har bremsekurve målpunkt i balisegruppe")
		if n == 0 then
			--Group is braking curve target:
			ocp = RC_com_getOcpCode(getObjectFromId(id))
		else
			--Warning board, use target's ocp:
			ocp = RC_com_getOcpCode(r[0])
		end
		return ocp..a..string.format("%02d",seq)
	elseif Variant == "Signalhøyningsbalisegruppe" or Variant == "Sporvekselbalisegruppe" then
		ocp = RC_com_getOcpCode(this)
		if seq == 0 then
			return ocp..a.."UNFINISHED - Set balise group's 'seq' property to the required balise group number (01..99), use '100' for '0'."
		else
			return ocp..a..string.format("%02d",seq%100)
		end
	elseif Variant =="Lenkingsbalisegruppe" or Variant == "Grensebalisegruppe" then
		s = "Lenker til balisegruppe"
		r,n = RC__getCollectionOfRelatedObjects(s)
		if n == 0 then
			ocp = RC_com_getOcpCode(getObjectFromId(id))
		else
			ocp = RC_com_getOcpCode(r[0])
		end
		if seq == 0 then
			return ocp..a.."UNFINISHED - Set balise group's 'seq' property to the required balise group number (01..99), use '100' for '0'."
		else
			return ocp..a..string.format("%02d",seq%100)
		end
	else
		s = "Gjelder for signal/markerboard/skilt/stolpe/sporveksel"
		r,n = RC__getCollectionOfRelatedObjects(s)
		if n == 0 then
			return "UNFINISHED - Relate with '"..s.."'."
		else
			--Assume r[0] holds object dictating the group's number:
			ocp = RC_com_getOcpCode(r[0])
			if r[0].code == nil then 
				return ocp..a.."???",_info(ocpMsg)
			elseif tostring(r[0].code):match("%d+") == nil then
				return ocp..a.."???",_info(ocpMsg)
			else
				return ocp..a..tostring(r[0].code):match("%d+"):sub(-3) 
			end 
		end
		return ocp..a..code:match("%d+"):sub(-3)
	end
end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_getBaliseId()" ReturnType="String" Description="Returns balise object Id (8 chars) from the 7-char balise group ID and the P/A/B/C balise type (Ref Signal-Prosj-ATC-7.11-Baliseidentitet).">
  <Constructor>String NOBN_sig_getBaliseId()</Constructor>
  <Formula>
function NOBN_sig_getBaliseId()
	r,n = RC__getCollectionOfRelatedObjects("Tilhører balisegruppe")
	if n == 0 then  
		return "UNFINISHED - Relate with '".."Tilhører balisegruppe".."' to balise group.",
				_info("Balises derive their ID (code property) from their balise group's code, direction, and the balise's relative position within the balise group. The 'A' balise must be related to the balise group using the relation for position defining balise.")
	else
		bg = r[0]
	end
	if bg.dir ~= "up" and bg.dir ~= "down" then 
		return "Bad direction ["..bg.dir.."]",_warning 
	end
	
	q,nq = RC__getCollectionOfRelatedObjects("Har posisjonsdefinerende balise",bg)
	if nq == 0 then 
		return "UNFINISHED - No A-balise in balise group - relate to balise group with relation 'Definerer posisjon for balisegruppe'."
	else
		Abalise = q[0]
		qq,nqq = RC__getCollectionOfRelatedObjects("Definerer posisjon for balisegruppe")
		isA = (nqq == 1) --it's me...
		siblings,nsiblings = RC__getCollectionOfRelatedObjects("Inneholder balise",bg)
	end

	if isA == true then
		suffix = "A"
	else
		if nsiblings == 2 then
			suffix = "B"            
		elseif nsiblings &gt; 2 then
			Pbalise={id=0, diff=math.huge}
			Bbalise={id=0, diff=math.huge}
			Cbalise={id=0, diff=math.huge}
			for i = 0, nsiblings-1 do
				diff = (bg.dir == "up") and (siblings[i].ReferenceMileage - Abalise.ReferenceMileage) or (Abalise.ReferenceMileage - siblings[i].ReferenceMileage)
				if (diff &lt; 0) then
					if Pbalise.id == 0 then
						Pbalise.id = siblings[i].id
						Pbalise.diff = diff
					elseif Pbalise.diff &gt; diff then
						Pbalise.id = siblings[i].id
						Pbalise.diff = diff
					end                
				elseif (diff &gt; 0) then
					if Bbalise.id == 0 then
						Bbalise.id = siblings[i].id
						Bbalise.diff = diff
					elseif Bbalise.diff &gt; diff then
						Cbalise.id = Bbalise.id
						Cbalise.diff = Bbalise.diff
						Bbalise.id = siblings[i].id
						Bbalise.diff = diff                    
					elseif Cbalise.diff &gt; diff then
						Cbalise.id = siblings[i].id
						Cbalise.diff = diff                    
					end                        
				else
					--diff==0: Do nothing
				end
			end    
			if this.id == Bbalise.id then 
				suffix = "B"
			elseif this.id == Cbalise.id then
				suffix = "C"
			elseif this.id == Pbalise.id then
				suffix = "P"
			else
				suffix = "WARNING - Bad balise group configuration - cannot determine PABC type.",_warning
			end
		end
	end
	groupId = RC__identify(bg)
	return groupId:sub(1,2):lower():match("unfinished") and suffix or groupId..suffix
end 
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_getBaliseTextAboveSymbol()" ReturnType="String" Description="Returns text over the 2D balise symbol (Ref Signal-Prosj.-ATC-7.1/7.2-Enkeltrettede/Dobbeltrettede balisegrupper).">
  <Constructor>String NOBN_sig_getBaliseTextAboveSymbol()</Constructor>
  <Formula>
function NOBN_sig_getBaliseTextAboveSymbol()
	s = "Tilhører balisegruppe"
	r,n = RC__getCollectionOfRelatedObjects(s)
	if n == 0 then
		return "UNFINISHED - Relate with '"..s.."' to balise group."
	else
		bg = r[0]
		t = code:sub(-1)
		if bg.Variant == "Hastighetsbalisegruppe" then
			if t == "A" then
				return "H"
			elseif t == "B" then
				if Variant:lower():match("fylt") then
					return "H"
				else
					return ""
				end
			elseif t == "C" then
				return ""
			else
				return "?",_warning,_info("WARNING - Cannot determine text above balise symbol (balise is neither A, B or C balise).")
			end
		elseif bg.Variant == "ET-balisegruppe" then
			if t == "A" then
				return "EH"
			elseif t == "B" then
				if Variant:lower():match("fylt") then
					return "EH"
				else
					return ""
				end
			elseif t == "C" then
				return ""
			else
				return "?",_warning,_info("WARNING - Cannot determine text above balise symbol (balise is neither A, B or C balise).")
			end
		elseif code:sub(-1) == "P" then
			return "P"
		else
			return ""
		end
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_getBaliseTextBelowSymbol()" ReturnType="String" Description="Returns text below the 2D balise symbol (Ref Signal-Prosj.-ATC-7.1/7.2-Enkeltrettede/Dobbeltrettede balisegrupper).">
  <Constructor>String NOBN_sig_getBaliseTextBelowSymbol()</Constructor>
  <Formula>
function NOBN_sig_getBaliseTextBelowSymbol()
	r,n = RC__getCollectionOfRelatedObjects("Definerer posisjon for balisegruppe")
	if n > 0 then
		return RC__identify(r[0])
	else
		return ""
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_getBaliseGroupDirection()" ReturnType="String" Description="Returns the source object balise's balise group direction [up/down/unknown].">
  <Constructor>String NOBN_sig_getBaliseGroupDirection([Reference balise])</Constructor>
  <Formula>
function NOBN_sig_getBaliseGroupDirection(balise)
	--TODO: Replace with a function which finds out where the closest cable duct is, and rotates the balise with the cable towards that duct.
	balise = (balise == nil) and this or balise
	r,n = RC__getCollectionOfRelatedObjects("Tilhører balisegruppe")
	if n == 0 then
		return "unknown",_info("UNFINISHED - Relate balise with 'Tilhører balisegruppe' to a balise group to inherit direction.")
	else
		return r[0].Dir
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_chkBaliseDistanceToPreviousBalise()" ReturnType="String" Description="Checks distance to previous balise. Error if too close (2.35) or not far enough (10.5), warning if (2.35 - 2.8) or (3.2 - 3.5) or (10.5 11.8).">
  <Constructor>String NOBN_sig_chkBaliseDistanceToPreviousBalise()</Constructor>
  <Formula>
function NOBN_sig_chkBaliseDistanceToPreviousBalise()
	searchDir = "down"
	if Alignment == nil then return "UNFINISHED - Missing own alignment.",_error end
	obj = getDownObject(RcType)
	if obj == nil then return "OK - No "..RcType:sub(8).." within reach in the '"..searchDir.."' direction.",_ok end
	dist = distance(obj)
	t = string.format("%.3f", dist)

	if (dist &lt; 2.35 ) then
		return t..": ERROR - Balise magnetic fields may merge - increase distance.",{obj},_error
	elseif (dist &gt;= 2.35 and dist &lt; 2.8) then
		return t..": WARNING - Outside recommended tolerance - increase distance.",{obj},_warning
	elseif (dist &gt;= 2.8 and dist &lt; 3.2) then
		return t..": OK - The train will treat the balises as belonging to the same group.",{obj},_ok
	elseif (dist &gt;= 3.2 and dist &lt; 3.5) then
		return t..": WARNING - Outside recommended tolerance - decrease distance.",{obj},_warning
	elseif (dist &gt;= 3.5 and dist &lt; 10.5) then
		return t..": ERROR - The train cannot determine which balise group the balise belongs to.",{obj},_error
	elseif (dist &gt;= 10.5 and dist &lt; 11.8) then
		return t..": WARNING - Outside recommended tolerance - increase distance.",{obj},_warning
	elseif (dist &gt; 11.8) then
		return t..": OK - The train will treat the balises as belonging to different balise groups.",{obj},_ok
	else
		return "ERROR - Bad calculation of distance to neighbour object.",_error,
			_info("DNA error - please notify your DNA agent company - send to support@railcomplete.com.")
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_chkBaliseDistanceToNextBalise()" ReturnType="String" Description="Checks distance to next balise. Error if too close (2.35) or not far enough (10.5), warning if (2.35 - 2.8) or (3.2 - 3.5) or (10.5 11.8).">
  <Constructor>String NOBN_sig_chkBaliseDistanceToNextBalise()</Constructor>
  <Formula>
function NOBN_sig_chkBaliseDistanceToNextBalise()
	searchDir = "up"
	if Alignment == nil then return "UNFINISHED - Missing own alignment.",_error end
	obj = getUpObject(RcType)
	if obj == nil then return "OK - No "..RcType:sub(8).." within reach in the '"..searchDir.."' direction.",_ok end
	dist = distance(obj)
	t = string.format("%.3f", dist)

	if (dist &lt; 2.35 ) then
		return t..": ERROR - Balise magnetic fields may merge - increase distance.",{obj},_error
	elseif (dist &gt;= 2.35 and dist &lt; 2.8) then
		return t..": WARNING - Outside recommended tolerance - increase distance.",{obj},_warning
	elseif (dist &gt;= 2.8 and dist &lt; 3.2) then
		return t..": OK - The train will treat the balises as belonging to the same group.",{obj},_ok
	elseif (dist &gt;= 3.2 and dist &lt; 3.5) then
		return t..": WARNING - Outside recommended tolerance - decrease distance.",{obj},_warning
	elseif (dist &gt;= 3.5 and dist &lt; 10.5) then
		return t..": ERROR - The train cannot determine which balise group the balise belongs to.",{obj},_error
	elseif (dist &gt;= 10.5 and dist &lt; 11.8) then
		return t..": WARNING - Outside recommended tolerance - increase distance.",{obj},_warning
	elseif (dist &gt; 11.8) then
		return t..": OK - The train will treat the balises as belonging to different balise groups.",{obj},_ok
	else
		return "ERROR - Bad calculation of distance to neighbour object.",_error,
			_info("DNA error - please notify your DNA agent company - send to support@railcomplete.com.")
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_chkBaliseDistanceToTrackVertically()" ReturnType="String" Description="Checks vertical distance to track above or below balise.">
  <Constructor>String NOBN_sig_chkBaliseDistanceToTrackVertically()</Constructor>
  <Formula>
function NOBN_sig_chkBaliseDistanceToTrackVertically()
	if (Alignment == nil) then return "UNFINISHED - Missing own alignment.",_error end
	closestTracks = getClosestTracks("JBTKO_SPO Spor")
	nearestId = ""
	nearestDist = math.huge
	i = 0
	while (closestTracks[i]) do
		local aId = closestTracks[i].id
		local sDist = math.abs(getAlignmentInfo(aId).DistanceToAlignment)
		if (Alignment.id ~= aId and sDist &lt; nearestDist) then
			nearestId = aId
			nearestDist = sDist
		else
			i = i + 1
		end
	end
	-- Consider only other alignments being no more than 5 meter sideways apart from balise 
	if (nearestDist &gt; 5.0) then return "OK - No conflicting tracks within 5 meters sideways.",_ok end
	hDiff = math.abs(getAlignmentInfo().Elevation - getAlignmentInfo(nearestId).Elevation)
	if (hDiff &lt;= 0.8) then
		-- Assume that closest other track is part of a point or crossing, but still accept 80 cm difference for diverging track profiles
		return string.format("%.3f",hDiff)..": OK - Balise is close to a neighbouring track which we consider to be part of a switch or crossing.",_ok
	elseif (hDiff &gt; 0.8 and hDiff &lt;= 7.0) then 
		return string.format("%.3f",hDiff)..": ERROR - Balise may be read by a train running in a track above/under us - increase vertical track separation or move balise.",_error
	elseif (distance &lt;= 8.0) then 
		return string.format("%.3f",hDiff)..": WARNING - Outside recommended tolerance - increase vertical track separation or move balise.",_warning
	else 
		return string.format("%.3f",hDiff)..": OK - A Train in a track above/under us will pass without reading the balise.",_ok 
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_chkBaliseDistanceToTrackSideways()" ReturnType="String" Description="Checks distance from balise to neighbour tracks">
  <Constructor>String NOBN_sig_chkBaliseDistanceToTrackSideways()</Constructor>
  <Formula>
function NOBN_sig_chkBaliseDistanceToTrackSideways()
	if (Alignment == nil) then return "UNFINISHED - Missing own alignment.",_error end
	closestTracks = getClosestTracks("JBTKO_SPO Spor")
	nearestId = ""
	i = 0
	while (closestTracks[i]) do
		if (Alignment.id ~= closestTracks[i].id) then
			nearestId = closestTracks[i].id
			break
		else
			i = i+1
		end
	end
	if (nearestId == "") then return "OK - No neighbouring track(s).",_ok end
	sDist = math.abs(getAlignmentInfo(nearestId).DistanceToAlignment)
	if RC__isNan(sDist) then return "No sideways distance found.", _noSymbol end
	if (sDist &lt; 2.0) then 
		return string.format("%.3f",sDist)..": ERROR – Balise may be read by a train in a neighbouring track – increase distance.",_error
	elseif (sDist &gt; 2.0 and sDist &lt; 2.6) then 
		return string.format("%.3f",sDist)..": WARNING – Allowed on condition that at least one of the group's A- and B-balise is above 2.6 meter from neighbouring track (large balise) resp. 2.3 meter (minibalise) – increase distance.",_warning
	else
		return string.format("%.3f",sDist)..": OK – a Train in neighbouring track will pass without reading the balise.",_ok
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_getBaliseModel3DName()" ReturnType="String" Description="Returns the name of a standard 3D object model. The BaliseModel argument is either 'Large' (default), 'Mini' or 'Euro'.">
  <Constructor>String NOBN_sig_getBaliseModel3DName(BaliseModel)</Constructor>
  <Formula>
function NOBN_sig_getBaliseModel3DName(BaliseModel)
	if BaliseModel == nil then BaliseModel = "Large" end
	s = "NO-BN-3D-SA-ATB-BALISE"
	if BaliseModel:lower():match("large") then s = s.."-STOR"
	elseif BaliseModel:lower():match("mini") then s = s.."-MINI"
	elseif BaliseModel:lower():match("euro") then s = s.."-LITEN"
	else return "Unknown BaliseModel ["..BaliseModel.."].",_warning
	end
	if Variant:lower():match("fast") then s = s.."-FAST"
	elseif Variant:lower():match("styrt") then s = s.."-STYRT"
	else return "Unknown Variant ["..Variant.."].",_warning
	end
	return s,_info(Variant.." "..BaliseModel.." balise.")
end
		</Formula>
 </LuaFunction>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTSA_SAM S-lås" Layer="JBTSA_SAM" Color="ByLayer" Group="Signal/Diverse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>s_lås</RelationSpace>
  <AttachmentCategory Name="s_lås"/>
  <AttachTo Category="stolpe_med_fot"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>name</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="S-lås">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SAM-SAMLELÅS"/>
    <SetValue Key="Offset3D.Z" Value="1.25"/>
   </Variant>
  </Variants>
  <LuaExpression Name="name">
   <Formula>"S-lås."..code</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="S-lås" DisplayBlockName="NO-BN-2D-JBTSA_SAM-SAMLELAAS-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_SAM-SAMLELAAS-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				{% if Variant == 'S-lås' %}NO-BN-2D-JBTSA_SAM-SAMLELAAS
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{code}}</Value>
   </Attribute>
  </Model3DDefinition>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0.0" Y="0.0" TargetSpace="stolpe_med_fot"/>
   </SnapPoints>
  </DockPointDefinitions>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTSA_FUN Stolpe med fot" Layer="JBTSA_FUN" Color="ByLayer" Group="Signal/Stolpe med fot" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>stolpe_med_fot</RelationSpace>
  <AttachmentCategory Name="stolpe_med_fot" PassAttachmentToTarget="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>name</Formula>
  </LuaExpression>
  <SetValue Key="SupplierName" Value="Bane NOR"/>
  <SetValue Key="SupplierArchive" Value="SIGNAL"/>
  <LuaExpression Name="EarthingMethod">
   <Formula>"Rail"</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Stolpe for enkel S-lås">
    <SetValue Key="name" Value="Stolpe, S-lås"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-FUN-NSI63-STOLPE-UNP80-MED-LJERN-FOR-ENKEL-SAMLELÅS"/>
   </Variant>
   <Variant Name="Stolpe for dobbel S-lås">
    <SetValue Key="name" Value="Stolpe, S-lås x2"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-FUN-NSI63-STOLPE-UNP80-MED-LJERN-FOR-DOBBEL-SAMLELÅS"/>
   </Variant>
   <Variant Name="Stolpe for lokalstiller">
    <SetValue Key="name" Value="Stolpe, Lok."/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-FUN-NSI63-STOLPE-UNP80-MED-LJERN-FOR-LOKALSTILLER"/>
   </Variant>
   <Variant Name="Stolpe for overdragstrafo">
    <SetValue Key="name" Value="Stolpe, Lok."/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-FUN-NSI63-STOLPE-UNP80-MED-LJERN-FOR-OVERDRAGSTRAFO"/>
   </Variant>
   <Variant Name="Rørmast Ø76 for togsporsignal og dvergsignal, 2m">
    <SetValue Key="name" Value="Stolpe Ø76, 2m"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-FUN-NSI63-RØRMAST-Ø76-MED-LJERN-FOR-TSS-OG-DS-2000"/>
    <SetValue Key="SupplierModelName" Value="Rørmast for dverg- og togsporsignal, normal høyde med L-jern S.005382/S.030065"/>
    <SetValue Key="SupplierPartName" Value="Pos.2,3,4"/>
    <SetValue Key="SupplierDrawingNumber" Value="S.022896-014"/>
    <SetValue Key="SupplierDrawingTitle" Value="Sikringsanlegg, utvendig; Togsporsignal, sammenstilling"/>
   </Variant>
   <Variant Name="Rørmast Ø76 for togsporsignal og dvergsignal, 3m">
    <SetValue Key="name" Value="Stolpe Ø76, 3m"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-FUN-NSI63-RØRMAST-Ø76-MED-LJERN-FOT-FOR-HØYT-TSS-OG-DS-3000"/>
    <SetValue Key="SupplierModelName" Value="Rørmast for dverg- og togsporsignal, høy med L-jern S.005382/S.030065"/>
    <SetValue Key="SupplierPartName" Value="Pos.2,3,4"/>
    <SetValue Key="SupplierDrawingNumber" Value="S.022896-014"/>
    <SetValue Key="SupplierDrawingTitle" Value="Sikringsanlegg, utvendig; Togsporsignal, sammenstilling"/>
   </Variant>
   <Variant Name="Rørmast Ø76 for kryssvekselsignal, 1.6m">
    <SetValue Key="name" Value="Stolpe Ø76, 1.6m"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-FUN-NSI63-RØRMAST-Ø76-MED-LJERN-FOT-FOR-KRYSSVEKSELSIGNAL-1600"/>
    <SetValue Key="SupplierModelName" Value="Rørmast for kryssvekselsignal, med L-jern S.005382/S.030065"/>
    <SetValue Key="SupplierPartName" Value="Pos.4,5,6"/>
    <SetValue Key="SupplierDrawingNumber" Value="S.004463-000"/>
    <SetValue Key="SupplierDrawingTitle" Value="Sikringsanlegg, utvendig; Kryssvekselsignal; Sammenstilling"/>
   </Variant>
   <Variant Name="Rørmast Ø127 for jernbanesignal, 3.2m">
    <SetValue Key="name" Value="Rørmast Ø127, 3.2m"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-FUN-NSI63-RØRMAST-Ø76-MED-LJERN-FOT-FOR-SIGNAL-3200"/>
    <SetValue Key="SupplierModelName" Value="Rørmast for jernbanesignal, lav med L-jern S.005382/S.030065"/>
    <SetValue Key="SupplierPartName" Value=""/>
    <SetValue Key="SupplierDrawingNumber" Value="S.013354-000"/>
    <SetValue Key="SupplierDrawingTitle" Value="Sikringsanlegg, utvendig; Rørmast for jernbanesignal; Lavt, uten fundament; F.nr.708.215.540"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Stolpe for enkel S-lås" DisplayBlockName="NO-BN-2D-JBTSA_FUN-STOLPE-MED-LJERN-FOR-ENKEL-SAMLELAAS-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Stolpe for dobbel S-lås" DisplayBlockName="NO-BN-2D-JBTSA_FUN-STOLPE-MED-LJERN-FOR-DOBBEL-SAMLELAAS-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Stolpe for lokalstiller" DisplayBlockName="NO-BN-2D-JBTSA_FUN-STOLPE-MED-LJERN-FOR-LOKALSTILLER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="2.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Stolpe for overdragstrafo" DisplayBlockName="NO-BN-2D-JBTSA_FUN-STOLPE-MED-LJERN-FOR-OVERDRAGSTRAFO-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="2.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="false" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Rørmast Ø76 for togsporsignal og dvergsignal, 2m" DisplayBlockName="NO-BN-2D-JBTSA_FUN-RØRMAST-76-MED-LJERN-FOR-DS-OG-TSS-2000-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Rørmast Ø76 for togsporsignal og dvergsignal, 3m" DisplayBlockName="NO-BN-2D-JBTSA_FUN-RØRMAST-76-MED-LJERN-FOR-HOEY-DS-OG-TSS-3000-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Rørmast Ø76 for kryssvekselsignal, 1.6m" DisplayBlockName="NO-BN-2D-JBTSA_FUN-RØRMAST-76-MED-LJERN-FOR-KRYSSVEKSELSIGNAL-1600-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Rørmast Ø127 for jernbanesignal, 3.2m" DisplayBlockName="NO-BN-2D-JBTSA_FUN-RØRMAST-127-MED-LJERN-FOR-SIGNAL-3200-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_FUN-RØRMAST-127-MED-LJERN-FOR-SIGNAL-3200-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_FUN
				{% if Variant == 'Stolpe for enkel S-lås' %}STOLPE-MED-LJERN-FOR-ENKEL-SAMLELAAS
				{% elsif Variant == 'Stolpe for dobbel S-lås' %}STOLPE-MED-LJERN-FOR-DOBBEL-SAMLELAAS
				{% elsif Variant == 'Stolpe for lokalstiller' %}STOLPE-MED-LJERN-FOR-LOKALSTILLER
				{% elsif Variant == 'Stolpe for overdragstrafo' %}STOLPE-MED-LJERN-FOR-OVERDRAGSTRAFO
				{% elsif Variant == 'Rørmast Ø76 for togsporsignal og dvergsignal, 2m' %}ROERMAST-76-MED-LJERN-FOR-DS-OG-TSS-2000
				{% elsif Variant == 'Rørmast Ø76 for togsporsignal og dvergsignal, 3m' %}ROERMAST-76-MED-LJERN-FOR-HOEY-DS-OG-TSS-3000
				{% elsif Variant == 'Rørmast Ø76 for kryssvekselsignal, 1.6m' %}ROERMAST-76-MED-LJERN-FOR-KRYSSVEKSELSIGNAL-1600
				{% elsif Variant == 'Rørmast Ø127 for jernbanesignal, 3.2m' %}ROERMAST-127-MED-LJERN-FOR-SIGNAL-3200
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTSA_AVI Avsporingsindikator" Layer="JBTSA_AVI" Color="ByLayer" Group="Signal/Diverse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>avsporingsindikator</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>name</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>NOBN_trk_getDistanceToAlignmentFromCantAndTrackPlaneDistance(RightSided and 4e-4 or -4e-4)</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Avsporingsindikator">
    <SetValue Key="name" Value="Ai."/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-AVI-AVSPORINGSINDIKATOR"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Avsporingsindikator" DisplayBlockName="NO-BN-2D-JBTSA_AVI-AVSPORINGSINDIKATOR-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_AVI-AVSPORINGSINDIKATOR-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="true"/>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tDerailer" Class="RailwayPlacedObject" Name="JBTSA_SSP Sporsperre" Layer="JBTSA_SSP" Color="ByLayer" Group="Signal/Sporsperrer">
  <ObjectTypeAttribute Key="quadrant" Value="{% if dir == 'up' and LeftSided == 'True' %}1{% elsif dir == 'down' and LeftSided == 'True' %}2{% elsif dir == 'down' and RightSided == 'True' %}3{% elsif dir== 'up' and RightSided == 'True' %}4{% endif %}"/>
  <RelationSpace>sporsperre</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>name</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>return "Sp."..code</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>_SA_SSP_DistanceToAlignment()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_SSP_DistanceToAlignment()" ReturnType="Double" Description="Returns the XY plane distance to alignment for a derailer or catch points (cant taken into consideration).">
   <Constructor>Double _SA_SSP_DistanceToAlignment()</Constructor>
   <Formula>
				function _SA_SSP_DistanceToAlignment()
					return NOBN_trk_getDistanceToAlignmentFromCantAndTrackPlaneDistance(RightSided and 0.75 or -0.75)
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="Enumeration" Name="DerailerState" DisplayName="SporsperreStilling" DefaultValue="derailing" Description="The 'DerailingState' custom attribute [open | closed] reflects the activation state of the derailer.">
   <Values>
    <Value DisplayName="Avlagt">passive</Value>
    <Value DisplayName="Pålagt">derailing</Value>
   </Values>
  </CustomAttribute>
  <LuaExpression Name="derailSide">
   <Formula>_SA_SSP_derailSide()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_SSP_derailSide()" ReturnType="String" Description="Returns the derail side ('Avsporingsretning') for a derailer, deduced from its dir and mounting side (left/right rail).">
   <Constructor>String _SA_SSP_derailSide()</Constructor>
   <Formula>
				function _SA_SSP_derailSide()
					return ((dir == 'up' and LeftSided) or (dir == 'down' and RightSided)) and "left" or "right"
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DName">
   <Formula>_SA_SSP_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_SSP_Model3DName()" ReturnType="String" Description="Returns the 3D model name for a derailer object (we have no catch points in 3D yet).">
   <Constructor>String _SA_SSP_Model3DName()</Constructor>
   <Formula>
				function _SA_SSP_Model3DName()
					--Ignore the DerailerState property - always draw the derailer in its derailing state.
					local t = "NO-BN-3D-SA-SSP-SPORSPERRE"
					if Variant:lower():match("enkel") then t = t.."-ENKEL" 
					elseif Variant:lower():match("dobbel") then t = t.."-DOBBEL" 
					else t = t.."-BAD_Variant"
					end
					if derailSide == 'left' then t = t.."-VSIDE"
					elseif derailSide == 'right' then t = t.."-HSIDE"
					else t = t.."-BAD_derailSide"
					end
					return t
				end
			</Formula>
  </LuaFunction>
  <Variants DefaultValue="Enkel sporsperre">
   <Variant Name="Enkel sporsperre" Description="Single-sided derailer">
    <SetValue Key="kind" Value="blockDerail"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
   </Variant>
   <Variant Name="Dobbel sporsperre" Description="Double-sided derailer">
    <SetValue Key="kind" Value="blockDerail"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
   </Variant>
   <Variant Name="Enkel avsporingstunge" Description="Single catch points">
    <SetValue Key="kind" Value="singleCatchPoints"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
   </Variant>
   <Variant Name="Dobbel avsporingstunge" Description="Double catch points">
    <SetValue Key="kind" Value="doubleCatchPoints"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Enkel sporsperre" DisplayBlockName="NO-BN-2D-JBTSA_SSP-SPORSPERRE-SINGLE-ACTIVE-1-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Dobbel sporsperre" DisplayBlockName="NO-BN-2D-JBTSA_SSP-SPORSPERRE-DOUBLE-ACTIVE-1-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Enkel avsporingstunge" DisplayBlockName="NO-BN-2D-JBTSA_SSP-AVSPORINGSTUNGE-SINGLE-ACTIVE-1-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Dobbel avsporingstunge" DisplayBlockName="NO-BN-2D-JBTSA_SSP-AVSPORINGSTUNGE-DOUBLE-ACTIVE-1-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true" MirrorAboutJigYAxisIfRightSideOfAlignment="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_THUMBNAIL-UNSPECIFIED-SCHEMATIC" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="0"/>
   <BlockNameFormat JoinBy="-">
			NO-BN-2D-JBTSA_SSP
			{% if Variant == 'Enkel sporsperre' %}SPORSPERRE-SINGLE
			{% elsif Variant == 'Dobbel sporsperre' %}SPORSPERRE-DOUBLE
			{% elsif Variant == 'Enkel avsporingstunge' %}AVSPORINGSTUNGE-SINGLE
			{% elsif Variant == 'Dobbel avsporingstunge' %}AVSPORINGSTUNGE-DOUBLE
			{% else %}BAD_Variant
			{% endif %}
			{% if DerailerState == 'passive' %}INACTIVE{% else %}ACTIVE{% endif %}
			{{quadrant}}
			{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints MirrorAboutAlignmentNormal="{% if dir == 'down' %}true{% else %}false{% endif %}" MirrorAboutAlignmentTangent="{% if RightSided %}true{% else %}false{% endif %}">
    <SnapPoint X="-1.0" Y="1.0" TargetSpace="lokalstiller"/>
    <SnapPoint X="-1.0" Y="-2.5" TargetSpace="lokalstiller"/>
   </SnapPoints>
   <SnapPoints MirrorAboutAlignmentTangent="{% if RightSided %}true{% else %}false{% endif %}">
    <SnapPoint X="0.0" Y="1.0" TargetSpace="sporsperredrivmaskin"/>
    <SnapPoint X="0.0" Y="-2.5" TargetSpace="sporsperredrivmaskin"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTSA_APS Apparatskap" Layer="JBTSA_APS" Color="ByLayer" Group="Signal/Apparatskap" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>apparatskap</RelationSpace>
  <AttachmentCategory Name="signalskap"/>
  <AttachTo Category="apparatskapfundament"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>name</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Stort apparatskap, venstrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
   </Variant>
   <Variant Name="Stort apparatskap, høyrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
   </Variant>
   <Variant Name="Stort apparatskap, dobbeldør">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-APS-APPARATSKAP-STORT-1200x1200x400-MED-SOKKEL"/>
   </Variant>
  </Variants>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_sig_getCabinetName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>if Variant:find("stort") ~= 0 then return -0.1 else return 0.95 end</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Stort apparatskap, venstrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-APPARATSKAP-STORT-VHENGSLET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Stort apparatskap, høyrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-APPARATSKAP-STORT-HHENGSLET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Stort apparatskap, dobbeldør" DisplayBlockName="NO-BN-2D-JBTSA_APS-APPARATSKAP-STORT-DOBBEL-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_APS-APPARATSKAP-STORT-VHENGSLET-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_APS-APPARATSKAP
				{% if Variant == 'Stort apparatskap, venstrehengslet' %}STORT-VHENGSLET
				{% elsif Variant == 'Stort apparatskap, høyrehengslet' %}STORT-HHENGSLET
				{% elsif Variant == 'Stort apparatskap, dobbeldør' %}STORT-DOBBEL
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{Name}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="apparatskapfundament"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTSA_APS Lite skap og boks" Layer="JBTSA_APS" Color="ByLayer" Group="Signal/Skap og bokser" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>kabelboks</RelationSpace>
  <AttachmentCategory Name="kabelboks"/>
  <AttachTo Category="signalfundament"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>name</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>(Variant:find("Nøkkelskap") or Variant:find("Sveivskap")) and 1.50 or 1.20</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>"Vertical"</Formula>
  </LuaExpression>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_sig_getCabinetName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Tag">
   <Formula>
				if Variant:lower():match("nøkkel") then return "SA-NØK-nnnnnn"
				else if Variant:lower():match("sveiv") then return "SA-SVB-nnnnnn"
				else if Variant:lower():match("apparat") then return "SA-APS-nnnnnn"
				else if Variant:lower():match("boks") then return "SA-APS-nnnnnn"
				else return "UNFINISHED - Unrecognized variant ["..Variant.."] - cannot deduce Tag - ."
				end
			</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Nøkkelskap, venstrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-NØK-NØKKELSKAP-250x350x230-Ø76"/>
   </Variant>
   <Variant Name="Nøkkelskap, høyrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-NØK-NØKKELSKAP-250x350x230-Ø76"/>
   </Variant>
   <Variant Name="Sveivskap, venstrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SVB-SVEIVSKAP-500x760x320-Ø76"/>
   </Variant>
   <Variant Name="Sveivskap, høyrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SVB-SVEIVSKAP-500x760x320-Ø76"/>
   </Variant>
   <Variant Name="Lite apparatskap, venstrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
   </Variant>
   <Variant Name="Lite apparatskap, høyrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
   </Variant>
   <Variant Name="Kabelboks 280x190x100 på Ø76 rørmast, venstrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SIG-NSI63-KABELBOKS-190x280x100-Ø76"/>
   </Variant>
   <Variant Name="Kabelboks 280x190x100 på Ø76 rørmast, høyrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SIG-NSI63-KABELBOKS-190x280x100-Ø76"/>
   </Variant>
   <Variant Name="Kabelboks 280x190x100 på Ø127 rørmast, venstrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SIG-NSI63-KABELBOKS-190x280x100-Ø127"/>
   </Variant>
   <Variant Name="Kabelboks 280x190x100 på Ø127 rørmast, høyrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SIG-NSI63-KABELBOKS-190x280x100-Ø127"/>
   </Variant>
   <Variant Name="Kabelboks 280x190x165 på Ø76 rørmast, venstrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SIG-NSI63-KABELBOKS-190x280x165-Ø76"/>
   </Variant>
   <Variant Name="Kabelboks 280x190x165 på Ø76 rørmast, høyrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SIG-NSI63-KABELBOKS-190x280x165-Ø76"/>
   </Variant>
   <Variant Name="Kabelboks 280x190x165 på Ø127 rørmast, venstrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SIG-NSI63-KABELBOKS-190x280x165-Ø127"/>
   </Variant>
   <Variant Name="Kabelboks 280x190x165 på Ø127 rørmast, høyrehengslet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SIG-NSI63-KABELBOKS-190x280x165-Ø127"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Nøkkelskap, venstrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-NØKKELSKAP-VHENGSLET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Nøkkelskap, høyrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-NØKKELSKAP-HHENGSLET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Sveivskap, venstrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-SVEIVSKAP-VHENGSLET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Sveivskap, høyrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-SVEIVSKAP-HHENGSLET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lite apparatskap, venstrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-APPARATSKAP-LITE-VHENGSLET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lite apparatskap, høyrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-APPARATSKAP-LITE-HHENGSLET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Kabelboks 280x190x100 på Ø76 rørmast, venstrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-KABELBOKS-VHENGSLET-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Kabelboks 280x190x100 på Ø76 rørmast, høyrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-KABELBOKS-HHENGSLET-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Kabelboks 280x190x100 på Ø127 rørmast, venstrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-KABELBOKS-VHENGSLET-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Kabelboks 280x190x100 på Ø127 rørmast, høyrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-KABELBOKS-HHENGSLET-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Kabelboks 280x190x165 på Ø76 rørmast, venstrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-KABELBOKS-VHENGSLET-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Kabelboks 280x190x165 på Ø76 rørmast, høyrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-KABELBOKS-HHENGSLET-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Kabelboks 280x190x165 på Ø127 rørmast, venstrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-KABELBOKS-VHENGSLET-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Kabelboks 280x190x165 på Ø127 rørmast, høyrehengslet" DisplayBlockName="NO-BN-2D-JBTSA_APS-KABELBOKS-HHENGSLET-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_APS-APPARATSKAP-STORT-VHENGSLET-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_APS
				{% if Variant == 'Nøkkelskap, venstrehengslet' %}NØKKELSKAP-VHENGSLET
				{% elsif Variant == 'Nøkkelskap, høyrehengslet' %}NØKKELSKAP-HHENGSLET
				{% elsif Variant == 'Sveivskap, venstrehengslet' %}SVEIVSKAP-VHENGSLET
				{% elsif Variant == 'Sveivskap, høyrehengslet' %}SVEIVSKAP-HHENGSLET
				{% elsif Variant == 'Lite apparatskap, venstrehengslet' %}APPARATSKAP-LITE-VHENGSLET
				{% elsif Variant == 'Lite apparatskap, høyrehengslet' %}APPARATSKAP-LITE-HHENGSLET
				{% elsif Variant == 'Kabelboks 280x190x100 på Ø76 rørmast, venstrehengslet' %}KABELBOKS-VHENGSLET
				{% elsif Variant == 'Kabelboks 280x190x100 på Ø127 rørmast, venstrehengslet' %}KABELBOKS-VHENGSLET
				{% elsif Variant == 'Kabelboks 280x190x165 på Ø76 rørmast, venstrehengslet' %}KABELBOKS-VHENGSLET
				{% elsif Variant == 'Kabelboks 280x190x165 på Ø127 rørmast, venstrehengslet' %}KABELBOKS-VHENGSLET
				{% elsif Variant == 'Kabelboks 280x190x100 på Ø76 rørmast, høyrehengslet' %}KABELBOKS-HHENGSLET
				{% elsif Variant == 'Kabelboks 280x190x100 på Ø127 rørmast, høyrehengslet' %}KABELBOKS-HHENGSLET
				{% elsif Variant == 'Kabelboks 280x190x165 på Ø76 rørmast, høyrehengslet' %}KABELBOKS-HHENGSLET
				{% elsif Variant == 'Kabelboks 280x190x165 på Ø127 rørmast, høyrehengslet' %}KABELBOKS-HHENGSLET
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{Name}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="signalfundament"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTSA_TER Tekniske bygninger og rom" Layer="JBTSA_TER" Color="ByLayer" Group="Signal/Tekniske Bygninger" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>teknisk_bygg</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>name</Formula>
  </LuaExpression>
  <SetValue Key="name" Value="Relerom"/>
  <SetValue Key="Tag" Value="SA-TER-nnnnnn"/>
  <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
  <LuaExpression Name="EarthingMethod">
   <Formula>"Object"</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Relerom">
    <SetValue Key="name" Value="Relerom"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Relerom" DisplayBlockName="NO-BN-2D-JBTSA_TER-TEKNISK-BEBYGGELSE-RELEROM-{{SymbolMode}}" DefaultSnapMode="None" SnapToAlignment="true" SnapDistance="15">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_TER-TEKNISK-BEBYGGELSE-RELEROM-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="true" AddAngle="{% if RightSided %}0{% else %}180{% endif %}"/>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETESection" Class="RailwayPlacedObject" Name="JBTSA_TEA Tellepunktavsnitt" Layer="JBTSA_TEA" Color="ByLayer" Group="Signal/Togdeteksjon" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),3)</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Tellepunktavsnitt"/>
  </Variants>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_AxleCountersToBeModelchecked" DisplayName="Axle counters to be refreshed" Description="When this section object is refreshed, then the nearest limiting object on each side is refreshed as well."/>
  <LuaExpression Name="mc_AxleCountersToBeModelchecked" IsModelCheck="true">
   <Formula>_SA_TEA_chkTriggerNeighbourAxleCounters()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_TEA_chkTriggerNeighbourAxleCounters()" ReturnType="String" Description="Triggers modelchecking in neighbour axle counters.">
   <Constructor>_SA_TEA_chkTriggerNeighbourAxleCounters()</Constructor>
   <Formula>
				function _SA_TEA_chkTriggerNeighbourAxleCounters()
					if Alignment == nil then return "UNFINISHED - Missing own alignment.",_error end
					local n = 0
					local t = {}
					prevAc = getDownObject("JBTSA_TEL Akselteller sensor") --Axle counter
					if prevAc then 
						n = n + 1
						table.insert(t,prevAc)
					end
					nextAc = getUpObject("JBTSA_TEL Akselteller sensor") --Axle counter
					if nextAc then 
						n = n + 1
						table.insert(t,nextAc)
					end
					return n,t,_info(n.." axle counters have been refreshed.")
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="SymbolFrame">
   <Formula>NOBN__setSymbolFrame()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>"Ta("..code..")"</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Togdeteksjonsavsnitt for akseltellere" DisplayBlockName="NO-BN-2D-JBTFE-SECTION-JIGSYMBOL-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="6">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="DelimiterType" Value="JBTSA_TEL Akselteller sensor"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTFE-SECTION-SYMBOL-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
   <SymbolAttribute Tag="X">
    <Value>{{code}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
 </ObjectType>
 <ObjectType DataType="tTrainDetector" Class="RailwayPlacedObject" Name="JBTSA_TEL Akselteller sensor" Layer="JBTSA_TEL" Color="ByLayer" Group="Signal/Togdeteksjon" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>tellepunkt</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="20" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="22" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="24" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>name</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Tellepunkt">
    <SetValue Key="controllerRef" Value=""/>
    <SetValue Key="detectionObject" Value="axle"/>
    <SetValue Key="medium" Value="magnetic"/>
    <SetValue Key="directionDetection" Value="false"/>
    <SetValue Key="model" Value=""/>
    <SetValue Key="axleCounting" Value="true"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-TEL-L905-TELLEPUNKT-SK30K"/>
   </Variant>
  </Variants>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>_SA_TEL_DistanceToAlignment()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_TEL_DistanceToAlignment()" ReturnType="String" Description="Returns the distance to alignment for an axle counter sensor, either +/- 1.5 in schematic drawings or  otherwise +/-0.75.">
   <Constructor>Double _SA_TEL_DistanceToAlignment()</Constructor>
   <Formula>
				function _SA_TEL_DistanceToAlignment()
					if Scale == "S" then 
						return RightSided and 1.5 or -0.75
					else 
						return NOBN_trk_getDistanceToAlignmentFromCantAndTrackPlaneDistance(RightSided and .75 or -.75)
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="code">
   <Formula>_SA_TEL_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_TEL_code()" ReturnType="String" Description="Returns a text string 'DownSection/UpSection' for an axle counter sensor.">
   <Constructor>_SA_TEL_code()</Constructor>
   <Formula>
				function _SA_TEL_code()
					first = "-"
					shortestDistanceSoFar = math.huge
					for i = 0, DownSections.count-1 do
						obj = DownSections[i]
						if obj:isVisible() then
							dist = RC__getDistance2D(obj)
							if dist &lt; shortestDistanceSoFar then
								first = DownSections[i].code
								shortestDistanceSoFar = dist
							end
						end
					end
					second = "-"
					shortestDistanceSoFar = math.huge
					for i = 0, UpSections.count-1 do
						obj = UpSections[i]
						if obj:isVisible() then 
							dist = RC__getDistance2D(obj)
							if dist &lt; shortestDistanceSoFar then
								second = UpSections[i].code
								shortestDistanceSoFar = dist
							end
						end
					end
					if (MileageIncreasesTowardsLeft == 'True') then first,second = second,first end
					if first == "-" and second == "-" then
						return first.."/"..second,_info("UNFINISHED - Create axle counter Section object(s) to obtain the section numbers 'a/b' for the sensor.")
					else
						return first.."/"..second
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>"Tp("..code..")"</Formula>
  </LuaExpression>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_TEL_chkAxleCounterDistanceToPreviousAxleCounter()" ReturnType="String" Description="Checks distance to previous axle counter. Error if below 21 m, warning if below 23 m.">
   <Constructor>String _SA_TEL_chkAxleCounterDistanceToPreviousAxleCounter()</Constructor>
   <Formula>
				function _SA_TEL_chkAxleCounterDistanceToPreviousAxleCounter()
					searchDir = "down"
					if Alignment == nil then return "UNFINISHED - Missing own alignment.",_error end
					r,n = RC__getCollectionOfRelatedObjects("Har akseltellersopp")
					if n == 0 then tps = nil else tps = r[0] end --tps (tellepunktsopp) is nil if no tuning unit connected yet (used to trigger check of related object)
					ac = getDownObject(RcType)
					if ac == nil then return "OK - No "..RcType:sub(8).." within reach in the '"..searchDir.."' direction.",_ok end
					dist = distance(ac)
					t = string.format("%.3f", dist)
					Etol = 21.0 --[m] error level tolerance
					Wtol = Etol + 2.0 --[m] warning level tolerance
					if dist &lt; Etol then 
						return string.format("%.03f: ERROR - %s too close in '%s' direction, outside tolerance %0.3f m.", dist,ac.name,searchDir,Etol),{ac,tps},_error
					elseif dist &lt; Wtol then 
						return string.format("%.03f: WARNING - %s close in '%s' direction, but within tolerance %0.3f m.", dist,ac.name,searchDir,Etol),{ac,tps},_warning
					else
						return string.format("%.03f: OK - %s is nearest axle counter in '%s' direction, farther away than tolerance %0.3f m.", dist,ac.name,searchDir,Etol),{ac,tps},_ok
					end
				end
			</Formula>
  </LuaFunction>
  <LuaFunction Name="_SA_TEL_chkAxleCounterDistanceToNextAxleCounter()" ReturnType="String" Description="Checks distance to next axle counter. Error if below 21 m, warning if below 23 m.">
   <Constructor>String _SA_TEL_chkAxleCounterDistanceToNextAxleCounter()()</Constructor>
   <Formula>
				function _SA_TEL_chkAxleCounterDistanceToNextAxleCounter()
					searchDir = "up"
					if Alignment == nil then return "UNFINISHED - Missing own alignment.",_error end
					r,n = RC__getCollectionOfRelatedObjects("Har akseltellersopp")
					if n == 0 then tps = nil else tps = r[0] end --tps (tellepunktsopp) is nil if no tuning unit connected yet (used to trigger check of related object)
					ac = getUpObject(RcType)
					if ac == nil then return "OK - No "..RcType:sub(8).." within reach in the '"..searchDir.."' direction.",_ok end
					dist = distance(ac)
					t = string.format("%.3f", dist)
					Etol = 21.0 --[m] error level tolerance
					Wtol = Etol + 2.0 --[m] warning level tolerance
					if dist &lt; Etol then 
						return string.format("%.03f: ERROR - %s too close in '%s' direction, outside tolerance %0.3f m.", dist,ac.name,searchDir,Etol),{ac,tps},_error
					elseif dist &lt; Wtol then 
						return string.format("%.03f: WARNING - %s close in '%s' direction, but within tolerance %0.3f m.", dist,ac.name,searchDir,Etol),{ac,tps},_warning
					else
						return string.format("%.03f: OK - %s is nearest axle counter in '%s' direction, farther away than tolerance %0.3f m.", dist,ac.name,searchDir,Etol),{ac,tps},_ok
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="posInTrack">
   <Formula>RightSided and "leftRail" or "rightRail"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_DistanceToPreviousAxleCounter" DisplayName="Avstand til forrige tellepunkt" Description="Axle counters need at least 21 m between any two consecutive sensors, preferably 23 m, such that the longest admissible wagon will not free the track occupation under the wagon."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_DistanceToNextAxleCounter" DisplayName="Avstand til neste tellepunkt" Description="Axle counters need at least 21 m between any two consecutive sensors, preferably 23 m, such that the longest admissible wagon will not free the track occupation under the wagon."/>
  <LuaExpression Name="SymbolFrame">
   <Formula>NOBN__setSymbolFrame()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_DistanceToPreviousAxleCounter" IsModelCheck="true">
   <Formula>_SA_TEL_chkAxleCounterDistanceToPreviousAxleCounter()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_DistanceToNextAxleCounter" IsModelCheck="true">
   <Formula>_SA_TEL_chkAxleCounterDistanceToNextAxleCounter()</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Tellepunkt" DisplayBlockName="NO-BN-2D-JBTSA_TEL-AKSELTELLER-SENSOR-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <SymbolDefinition X="0.0" Y="0" DefaultBlockName="NO-BN-2D-JBTSA_TEL-AKSELTELLER-SENSOR-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat>NO-BN-2D-JBTSA_TEL-AKSELTELLER-SENSOR-{{SymbolMode}}</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0.0" Y="3.0" TargetSpace="akseltellersopp"/>
    <SnapPoint X="0.0" Y="4.5" TargetSpace="akseltellersopp"/>
    <SnapPoint X="0.0" Y="-3.0" TargetSpace="akseltellersopp"/>
    <SnapPoint X="0.0" Y="-4.5" TargetSpace="akseltellersopp"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTSA_TET Akselteller tuningenhet" Layer="JBTSA_TET" Color="ByLayer" Group="Signal/Togdeteksjon" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>akseltellersopp</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="24" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="26" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="28" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>name</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Sopp for enkelt tellepunkt">
    <SetValue Key="name" Value="Tp-sopp, enkel"/>
   </Variant>
   <Variant Name="Sopp for dobbelt tellepunkt">
    <SetValue Key="name" Value="Tp-sopp, dobbel"/>
   </Variant>
  </Variants>
  <LuaExpression Name="SymbolFrame">
   <Formula>NOBN__setSymbolFrame()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_CableDistanceFromMushroomToAxleCounter" DisplayName="Kabelavstand fra sopp til tellepunkt" Description="Axle counters send very weak signals to the nearby tuning box, using impedance-matched coaxial cables of predefined lengths, typically from 3 to 7 meters."/>
  <LuaExpression Name="mc_CableDistanceFromMushroomToAxleCounter" IsModelCheck="true">
   <Formula>_SA_TET_chkCableDistanceFromTunerToAxleCounter()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_TET_chkCableDistanceFromTunerToAxleCounter()" ReturnType="String" Description="Checks 'grid distance' (perp to track + along track), from axle counter tuner (mushroom) to its axle counter. Error if outside (1.0 - 7.5), warning if outside (3.0 - 3.4) meter.">
   <Constructor>String _SA_TET_chkCableDistanceFromTunerToAxleCounter()</Constructor>
   <Formula>
				function _SA_TET_chkCableDistanceFromTunerToAxleCounter()
					--Assume mushroom has same own alignment and approximate position as the axle counter it belongs to:
					s = "Er akseltellersopp for tellepunkt"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "UNFINISHED - Relate with '"..s.."' to  its axle counter sensor."
					else
						tol = 1.0 -- meter
						ac = r[0]
						gridDistancePerpendicular = math.abs(distanceToAlignment - ac.distanceToAlignment)
						gridDistanceColinear = math.abs(mileage - ac.mileage)
						-- Their sum is a cool metric:
						gridDistance = gridDistancePerpendicular + gridDistanceColinear
						msg = "Grid distance is the sum of "..RC__round(gridDistancePerpendicular,1).." (perpendicular to alignment) and "..RC__round(gridDistanceColinear,1).." (colinear to alignment)"
						gt = string.format("%.1f=%.03f+%.03f",gridDistance,gridDistancePerpendicular,gridDistanceColinear)
						if (gridDistance &lt; tol) then return gridDistance..": ERROR - Tuner is located too close to axle counter wrt minimum tolerance 1m.",{ac},_error,_info(msg)
						elseif (gridDistance &gt;= 1.0 and gridDistance &lt; 3.0) then return gt..": WARNING - Tuner is located close to axle counter but above min 1m - try increase to 3.0.",{ac},_warning,_info(msg)
						elseif (gridDistance &gt;= 3.0 and gridDistance &lt; 3.4) then return gt..": OK - Distance from tuner to axle counter is suitable for standard cabling 3m to 3.4m.",{ac},_ok,_info(msg)
						elseif (gridDistance &gt;= 3.4 and gridDistance &lt;= 7.5) then return gt..": WARNING - Tuner is located far from axle counter, but below max 7.5m - try reduce to 3.4.",{ac},_warning,_info(msg)
						else return gt..": ERROR - Tuner is located too far from axle counter, reduce distance.",{ac},_error,_info(msg) end
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>_SA_TET_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_TET_code()" ReturnType="String" Description="Obtains the 'code' for axle counter tuning unit (mushroom). Uses relation 'Er akseltellersopp for tellepunkt'.">
   <Constructor>String _SA_TET_code()</Constructor>
   <Formula>
				function _SA_TET_code()
					s = "Er akseltellersopp for tellepunkt"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "UNFINISHED - Relate with '"..s.."' to  its axle counter sensor."
					elseif n == 1 then
						return "Tps("..r[0].code..")"
					elseif n == 2 then
						return "Tps("..r[0].code.."+"..r[1].code..")"
					elseif n &gt;= 3 then
						return "*** ERROR - Too many axle counters sensors related to mushroom with '"..s.."."
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>"Tps("..code..")"</Formula>
  </LuaExpression>
  <LuaExpression Name="Mileage">
   <Formula>RC__getMileageFromRelatedObject("Er akseltellersopp for tellepunkt")</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Sopp for enkelt tellepunkt" DisplayBlockName="NO-BN-2D-JBTSA_TET-AKSELTELLER-TUNINGHENHET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.75" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Sopp for dobbelt tellepunkt" DisplayBlockName="NO-BN-2D-JBTSA_TET-AKSELTELLER-TUNINGHENHET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.75" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true"/>
  </InsertPointObject>
  <SymbolDefinition X="0.0" Y="0" DefaultBlockName="NO-BN-2D-JBTSA_TET-AKSELTELLER-TUNINGHENHET-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tTrackCircuitBorder" Class="RailwayPlacedObject" Name="JBTKO_SKJ Skinneskjøt" Layer="JBTKO_SKJ" Color="ByLayer" Group="Signal/Togdeteksjon" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skinneskjøt</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Overbygning"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>name</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Skinneskjøt"/>
  </Variants>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>0</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Boolean" Name="UpSectionLeftRailDetection" DisplayName="Deteksjon venstreskinne i stigende kilometerretning" DefaultValue="False"/>
  <CustomAttribute DataType="Boolean" Name="DownSectionLeftRailDetection" DisplayName="Deteksjon venstreskinne i synkende kilometerretning" DefaultValue="False"/>
  <CustomAttribute DataType="Boolean" Name="DownSectionRightRailDetection" DisplayName="Deteksjon høyreskinne i synkende kilometerretning" DefaultValue="False"/>
  <CustomAttribute DataType="Boolean" Name="UpSectionRightRailDetection" DisplayName="Deteksjon høyreskinne i stigende kilometerretning" DefaultValue="False"/>
  <LuaExpression Name="name">
   <Formula>"Iso."..code</Formula>
  </LuaExpression>
  <SetValue Key="Model3DName" Value=""/>
  <LuaExpression Name="UpSectionLeftRailDetection">
   <Formula>insulatedRail == "left" or insulatedRail == "both"</Formula>
  </LuaExpression>
  <LuaExpression Name="UpSectionRightRailDetection">
   <Formula>insulatedRail == "right" or insulatedRail == "both"</Formula>
  </LuaExpression>
  <LuaExpression Name="DownSectionLeftRailDetection">
   <Formula>
				prev = getDownObject(RcType)
				if prev == nil then return false 
				else
					return prev.insulatedRail == "left" or prev.insulatedRail == "both"
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="DownSectionRightRailDetection">
   <Formula>
				prev = getDownObject(RcType)
				if prev == nil then return false 
				else
					return prev.insulatedRail == "right" or prev.insulatedRail == "both"
				end
			</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="skinneskjøt" DisplayBlockName="NO-BN-2D-JBTKO_SKJ-SKINNESKJOET-0-0-0-0-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" RotateIfRightSideOfAlignment="false"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <SymbolDefinition X="0.0" Y="0" DefaultBlockName="NO-BN-2D-JBTKO_SKJ-SKINNESKJOET-0-0-0-0-{{SymbolMode}}" AllowSymbolMove="true"/>
  <SymbolDefinition X="0" Y="0" DefaultBlockName="" AllowSymbolMove="true" Layer="JBTKO_SKJ">
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTKO_SKJ-SKINNESKJOET
				{% if UpSectionRightRailDetection %}1{% elsif UpSectionLeftRailDetection or DownSectionLeftRailDetection or DownSectionRightRailDetection or UpSectionRightRailDetection %}0{% else %}{% endif %}
				{% if DownSectionRightRailDetection %}1{% elsif UpSectionLeftRailDetection or DownSectionLeftRailDetection or DownSectionRightRailDetection or UpSectionRightRailDetection %}0{% else %}{% endif %}
				{% if DownSectionLeftRailDetection %}1{% elsif UpSectionLeftRailDetection or DownSectionLeftRailDetection or DownSectionRightRailDetection or UpSectionRightRailDetection %}0{% else %}{% endif %}
				{% if UpSectionLeftRailDetection %}1{% elsif UpSectionLeftRailDetection or DownSectionLeftRailDetection or DownSectionRightRailDetection or UpSectionRightRailDetection %}0{% else %}{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="RailCOMPLETESection" Class="RailwayPlacedObject" Name="JBTSA_SPF Sporfelt" Layer="JBTSA_SPF" Color="ByLayer" Group="Signal/Togdeteksjon" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),3)</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Sporfelt"/>
  </Variants>
  <InsertPointObject VariantName="Sporfelt" DisplayBlockName="NO-BN-2D-JBTFE-SECTION-JIGSYMBOL-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   <SetValue Key="SymbolFrame" Value="SectionFrame-2.75"/>
   <SetValue Key="DelimiterType" Value="JBTKO_SKJ Skinneskjøt"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTFE-SECTION-SYMBOL-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
   <SymbolAttribute Tag="X">
    <Value>{{code}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTSA_DRV Sporvekseldrivmaskin" Layer="JBTSA_DRV" Color="ByLayer" Group="Signal/Sikringsanlegg" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>sporvekseldrivmaskin</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>name</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>NOBN_trk_getDistanceToAlignmentFromCantAndTrackPlaneDistance(RightSided and 1.75 or -1.75)</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Boolean" Name="HasHeatingElement" DisplayName="Har varmeelement" DefaultValue="False">
   <Values>
    <Value>true</Value>
    <Value>false</Value>
   </Values>
  </CustomAttribute>
  <Variants DefaultValue="Uspesifisert">
   <Variant Name="Uspesifisert"/>
   <Variant Name="Alstom MET"/>
   <Variant Name="Siemens Bsg9"/>
   <Variant Name="Siemens ELS 710"/>
  </Variants>
  <LuaExpression Name="code">
   <Formula>_SA_DRV_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_DRV_code()" ReturnType="String" Description="Obtains the code for a point machine, derived from the switch it is related to with 'Driver sporveksel'.">
   <Constructor>String _SA_DRV_code()</Constructor>
   <Formula>
				function _SA_DRV_code()
					local s,i,r,n,d,j
					s = "Driver sporveksel"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "Relate with '"..s.."' to switch object (turnout).",
							_info("Point machines derive their code from the switch they are related to with '"..s.."'.")
					else    
						pm,npm = RC__getCollectionOfRelatedObjects("Har sporvekseldrivmaskin",r[0])
						j = 0
						for i = 0, npm-1 do 
							d = (r[0].dir == "up") and 1 or -1
							if ((ReferenceMileage - pm[i].ReferenceMileage)*d &gt;= 0) then 
								j = j + 1 
							end
						end
						return string.format("%d.%d",r[0].code,j)
					end
				end	
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>"Drv."..code</Formula>
  </LuaExpression>
  <LuaExpression Name="dir">
   <Formula>_SA_DRV_dir()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_DRV_dir()" ReturnType="String" Description="Obtains the direction (dir) for a point machine, derived from the switch it is related to with 'Driver sporveksel'.">
   <Constructor>String _SA_DRV_dir()</Constructor>
   <Formula>
				function _SA_DRV_dir()
					local s,sw,n
					s = "Driver sporveksel"
					sw,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "unknown",_info("Point machines derive their direction from the switch they are related to with '"..s.."'.")
					else
						return sw[0].dir
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Model3DName">
   <Formula>_SA_DRV_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_DRV_Model3DName()" ReturnType="String" Description="Obtains the 3D model name (Model3DName) for a point machine, derived from its Variant, direction (dir) and side of alignment (distanceToAlignment).">
   <Constructor>String _SA_DRV_Model3DName()</Constructor>
   <Formula>
				function _SA_DRV_Model3DName()
					local t = ""
					if Variant == "Uspesifisert" then
						return "NO-BN-3D-FE-DIV-UKJENT"
					elseif Variant == "Alstom MET" then 
						t = "NO-BN-3D-SA-DRV-SPORVEKSELDRIVMASKIN-ALSTOM-MET-"
					elseif Variant == "Siemens Bsg9" then
						t = "NO-BN-3D-SA-DRV-SPORVEKSELDRIVMASKIN-SIEMENS-BSG9-"
					elseif Variant == "Siemens ELS 710" then
						t = "NO-BN-3D-SA-DRV-SPORVEKSELDRIVMASKIN-SIEMENS-ELS710-"
					else
						return "NO-BN-3D-FE-DIV-UKJENT",_error,_info("Unrecognized variant ["..Variant.."].")
					end
					if ((dir == "up" and RightSided) or (dir == "down" and LeftSided)) then 
						return t.."HSIDE"
					elseif ((dir == "up" and LeftSided) or (dir == "down" and RightSided)) then 
						return t.."VSIDE"
					else
						return "Cannot determine side of track for point machine.",_error
					end
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Uspesifisert" DisplayBlockName="NO-BN-2D-JBTSA_DRV-SPORVEKSELDRIVMASKIN-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="1.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <InsertPointObject VariantName="Alstom MET" DisplayBlockName="NO-BN-2D-JBTSA_DRV-SPORVEKSELDRIVMASKIN-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="1.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <InsertPointObject VariantName="Siemens Bsg9" DisplayBlockName="NO-BN-2D-JBTSA_DRV-SPORVEKSELDRIVMASKIN-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="1.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <InsertPointObject VariantName="Siemens ELS 710" DisplayBlockName="NO-BN-2D-JBTSA_DRV-SPORVEKSELDRIVMASKIN-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="1.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_DRV-SPORVEKSELDRIVMASKIN-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="true"/>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{code}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTSA_SPD Sporsperredrivmaskin" Layer="JBTSA_SPD" Color="ByLayer" Group="Signal/Sikringsanlegg" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>sporsperredrivmaskin</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>name</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>NOBN_trk_getDistanceToAlignmentFromCantAndTrackPlaneDistance(RightSided and 1.75 or -1.75)</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>_SA_SPD_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_SPD_code()" ReturnType="String" Description="Obtains the code for a derailer machine, derived from the derailer it is related to with 'Driver sporsperre'.">
   <Constructor>String _SA_SPD_code()</Constructor>
   <Formula>
				function _SA_SPD_code()
					s = "Driver sporsperre"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "UNFINISHED - Missing relation '"..s.."' to derailer object.",_warning
					else
						return r[0].code
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>return "Spd."..code</Formula>
  </LuaExpression>
  <SetValue Key="dir" Value="both"/>
  <Variants DefaultValue="BELA">
   <Variant Name="BELA">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SPD-SPORSPERREDRIVMASKIN-BELA"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="BELA" DisplayBlockName="NO-BN-2D-JBTSA_SPD-SPORSPERREDRIVMASKIN-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="1.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_SPD-SPORSPERREDRIVMASKIN-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="true"/>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{code}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTSA_LOK Lokalstiller" Layer="JBTSA_LOK" Color="ByLayer" Group="Signal/Sikringsanlegg" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>lokalstiller</RelationSpace>
  <AttachmentCategory Name="lokalstiller"/>
  <AttachTo Category="stolpe_med_fot"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>name</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>Variant:match("vegg") and 1.25 or 0</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>Variant:match("vegg") and "None" or "Vertical"</Formula>
  </LuaExpression>
  <Variants DefaultValue="Lokalstiller, 1 knapp/enkel veksel, på stolpe">
   <Variant Name="Lokalstiller, 1 knapp/enkel veksel, på stolpe">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-LOK-LOKALSTILLER-1-KNAPP-ENKEL-VEKSEL-MED-STOLPE"/>
   </Variant>
   <Variant Name="Lokalstiller, 1 knapp/enkel veksel, på vegg">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-LOK-LOKALSTILLER-1-KNAPP-ENKEL-VEKSEL"/>
   </Variant>
   <Variant Name="Lokalstiller, 1 knapp/koblet veksel, på stolpe">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-LOK-LOKALSTILLER-1-KNAPP-KOBLET-VEKSEL-MED-STOLPE"/>
   </Variant>
   <Variant Name="Lokalstiller, 1 knapp/koblet veksel, på vegg">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-LOK-LOKALSTILLER-1-KNAPP-KOBLET-VEKSEL"/>
   </Variant>
   <Variant Name="Lokalstiller, 2 knapper/enkel veksel, på stolpe">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-LOK-LOKALSTILLER-2-KNAPPER-ENKEL-VEKSEL-MED-STOLPE"/>
   </Variant>
   <Variant Name="Lokalstiller, 2 knapper/enkel veksel, på vegg">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-LOK-LOKALSTILLER-2-KNAPPER-ENKEL-VEKSEL"/>
   </Variant>
   <Variant Name="Lokalstiller, 2 knapper/koblet veksel, på stolpe">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-LOK-LOKALSTILLER-2-KNAPPER-KOBLET-VEKSEL-MED-STOLPE"/>
   </Variant>
   <Variant Name="Lokalstiller, 2 knapper/koblet veksel, på vegg">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-LOK-LOKALSTILLER-2-KNAPPER-KOBLET-VEKSEL"/>
   </Variant>
  </Variants>
  <LuaExpression Name="code">
   <Formula>_SA_SPD_code()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_SPD_code()" ReturnType="String" Description="Obtains the code for a local control panel, derived from the switch or derailer it is related to with 'Omstiller sporveksel' or 'Omstiller sporsperre'.">
   <Constructor>String _SA_SPD_code()</Constructor>
   <Formula>
				function _SA_SPD_code()
					local s = "Omstiller sporveksel/sporsperre"
					local r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "UNFINISHED - Missing relation '"..s.."' to switch object or derailer object.",_warning,
						_info("A local control panel derives its code property from the switch or derailer which it is related to.")
					elseif n == 1 then
						if r[0].RcType == "KO-SPV Sporveksel" then 
							local coupledSwitch,ncsw = RC__getCollectionOfRelatedObjects("Er koblet med sporveksel",r[0])
							if ncsw == 0 then
								return r[0].code
							else
								return coupledSwitch[0].code.."/"..r[0].code
							end
						elseif r[0].RcType == "JBTSA_SSP Sporsperre" then
							return r[0].code
						else
							return "ERROR - Bad RcType ["..r[0].RcType.."] for object related to Local control panel.",_error
						end
					else
						return "ERROR - More than 1 ["..n.."] object related to Local control panel.",_error
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="name">
   <Formula>"Lok."..code</Formula>
  </LuaExpression>
  <LuaExpression Name="dir">
   <Formula>_SA_LOK_dir()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_LOK_dir()" ReturnType="String" Description="Obtains the dir (direction) for a local control panel, derived from the switch or derailer it is related to with 'Omstiller sporveksel/sporsperre'.">
   <Constructor>String _SA_LOK_dir()</Constructor>
   <Formula>
				function _SA_SPD_code()
					s = "Omstiller sporveksel/sporsperre"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then
						return "unknown"
					else
						if r[0].RcType == "JBTSA_LOK Lokalstiller" then 
							return "both" 
						else 
							return r[0].dir
						end
					end
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Lokalstiller, 1 knapp/enkel veksel, på stolpe" DisplayBlockName="NO-BN-2D-JBTSA_LOK-LOKALSTILLER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="2.4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lokalstiller, 1 knapp/enkel veksel, på vegg" DisplayBlockName="NO-BN-2D-JBTSA_LOK-LOKALSTILLER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lokalstiller, 1 knapp/koblet veksel, på stolpe" DisplayBlockName="NO-BN-2D-JBTSA_LOK-LOKALSTILLER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="2.4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lokalstiller, 1 knapp/koblet veksel, på vegg" DisplayBlockName="NO-BN-2D-JBTSA_LOK-LOKALSTILLER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lokalstiller, 2 knapper/enkel veksel, på stolpe" DisplayBlockName="NO-BN-2D-JBTSA_LOK-LOKALSTILLER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="2.4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lokalstiller, 2 knapper/enkel veksel, på vegg" DisplayBlockName="NO-BN-2D-JBTSA_LOK-LOKALSTILLER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lokalstiller, 2 knapper/koblet veksel, på stolpe" DisplayBlockName="NO-BN-2D-JBTSA_LOK-LOKALSTILLER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="2.4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lokalstiller, 2 knapper/koblet veksel, på vegg" DisplayBlockName="NO-BN-2D-JBTSA_LOK-LOKALSTILLER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_LOK-LOKALSTILLER-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{code}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="stolpe_med_fot"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="-1.75" Y="0.75"/>
    <SnapPoint X="-1.75" Y="-0.75"/>
    <SnapPoint X="1.75" Y="0.75"/>
    <SnapPoint X="1.75" Y="-0.75"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tMarker" Class="RailwayPlacedObject" Name="JBTSA_ETC Balisegruppe ETCS" Layer="JBTSA_ETC" Color="ByLayer" Group="Signal/ATC" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>balisegruppe_ETCS</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),3)</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="ETCS L2 balisegruppe">
   <Variant Name="ETCS L2 balisegruppe"/>
  </Variants>
  <LuaExpression Name="code">
   <Formula>"ETCS L2 balisegruppe"</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>code</Formula>
  </LuaExpression>
  <LuaExpression Name="ObjectInfo">
   <Formula>Variant</Formula>
  </LuaExpression>
  <LuaExpression Name="EarthingMethod">
   <Formula>"None"</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="ETCS L2 balisegruppe" DisplayBlockName="NO-BN-2D-JBTSA_ETC-BALISEGRUPPE-ETCS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="10">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_ETC-BALISEGRUPPE-ETCS-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tMarker" Class="RailwayPlacedObject" Name="JBTSA_ATC Balisegruppe NSS" Layer="JBTSA_ATC" Color="ByLayer" Group="Signal/ATC" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>balisegruppe</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RC__snap(getPropertyValue("DistanceToAlignment"),3)</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>0</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="ETCS L2 balisegruppe">
   <Variant Name="ETCS L2 balisegruppe"/>
   <Variant Name="Hovedsignalbalisegruppe"/>
   <Variant Name="Forsignalbalisegruppe"/>
   <Variant Name="Repeterbalisegruppe"/>
   <Variant Name="Sporvekselbalisegruppe"/>
   <Variant Name="Hastighetsbalisegruppe"/>
   <Variant Name="Lenkingsbalisegruppe"/>
   <Variant Name="Signalhøyningsbalisegruppe"/>
   <Variant Name="ET-balisegruppe"/>
   <Variant Name="Grensebalisegruppe"/>
   <Variant Name="Radioområdebalisegruppe"/>
   <Variant Name="Diversebalisegruppe"/>
  </Variants>
  <LuaExpression Name="code">
   <Formula>NOBN_sig_getBaliseGroupId()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>code</Formula>
  </LuaExpression>
  <LuaExpression Name="ObjectInfo">
   <Formula>Variant</Formula>
  </LuaExpression>
  <LuaExpression Name="EarthingMethod">
   <Formula>"None"</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="ETCS L2 balisegruppe" DisplayBlockName="NO-BN-2D-JBTSA_ATC-BALISEGRUPPE-NSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="10">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Hovedsignalbalisegruppe" DisplayBlockName="NO-BN-2D-JBTSA_ATC-BALISEGRUPPE-NSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="10">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Forsignalbalisegruppe" DisplayBlockName="NO-BN-2D-JBTSA_ATC-BALISEGRUPPE-NSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="10">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Repeterbalisegruppe" DisplayBlockName="NO-BN-2D-JBTSA_ATC-BALISEGRUPPE-NSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="10">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Sporvekselbalisegruppe" DisplayBlockName="NO-BN-2D-JBTSA_ATC-BALISEGRUPPE-NSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="10">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Hastighetsbalisegruppe" DisplayBlockName="NO-BN-2D-JBTSA_ATC-BALISEGRUPPE-NSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="10">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Lenkingsbalisegruppe" DisplayBlockName="NO-BN-2D-JBTSA_ATC-BALISEGRUPPE-NSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="10">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signalhøyningsbalisegruppe" DisplayBlockName="NO-BN-2D-JBTSA_ATC-BALISEGRUPPE-NSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="10">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ET-balisegruppe" DisplayBlockName="NO-BN-2D-JBTSA_ATC-BALISEGRUPPE-NSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="10">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Grensebalisegruppe" DisplayBlockName="NO-BN-2D-JBTSA_ATC-BALISEGRUPPE-NSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="10">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Radioområdebalisegruppe" DisplayBlockName="NO-BN-2D-JBTSA_ATC-BALISEGRUPPE-NSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="10">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Diversebalisegruppe" DisplayBlockName="NO-BN-2D-JBTSA_ATC-BALISEGRUPPE-NSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="10">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_ATC-BALISEGRUPPE-NSS-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tBalise" Class="RailwayPlacedObject" Name="JBTSA_ATB Balise" Layer="JBTSA_ATB" Color="ByLayer" Group="Signal/ATC" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>balise</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="MileageIncreasesTowardsLeft" DisplayName="Mileage increases towards left" InvertOnAlignmentReverse="true" DefaultValue="False" Category="Presentation" Description="The 'MileageIncreasesTowardsLeft' property [boolean] true if and only if the object's own alignment has mileage which increases towards the left in the drawing, with the UCS Y-axis pointing upwards. Usage: Used in DNA for orienting 2D symbols correctly of for adjusting left/right parts of texts etc."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>NOBN_trk_getLiftFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.X">
   <Formula>NOBN_trk_getPitchFromGradient()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Y">
   <Formula>NOBN_trk_getRollFromCant()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Balisetype" DefaultValue="ATC2 parallellbaliser">
   <Values>
    <Value>ATC2 parallellbaliser</Value>
    <Value>ATC2 seriebaliser, store</Value>
    <Value>ATC2 seriebaliser, små</Value>
    <Value>Eurobaliser, store</Value>
    <Value>Eurobaliser, små</Value>
    <Value>Annen balisetype</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="String" Name="TekstOver" DisplayName="Tekst over" DefaultValue="" Description="Text above balise symbol [string] according to Bane NOR TRV 550 ch. 10 ATC tables 7.1 and 7.2." ReadOnly="false" StandardValuesFromLuaFormula="false" StandardValuesExclusive="false" InvertOnAlignmentReverse="false" IncludeIn3DExport="true"/>
  <CustomAttribute DataType="String" Name="TekstUnder" DisplayName="Tekst under" DefaultValue="" Description="Text below  balise symbol [string] according to Bane NOR TRV 550 ch. 10 ATC table 7.11." ReadOnly="false" StandardValuesFromLuaFormula="false" StandardValuesExclusive="false" InvertOnAlignmentReverse="false" IncludeIn3DExport="true"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>code</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RightSided and 0.01 or -0.01</Formula>
  </LuaExpression>
  <Variants DefaultValue="Balise fylt/fast">
   <Variant Name="Fylt/fast">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-ATB-BALISE-STOR-FAST"/>
   </Variant>
   <Variant Name="Fylt/styrt">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-ATB-BALISE-STOR-STYRT"/>
   </Variant>
   <Variant Name="Tom/fast">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-ATB-BALISE-STOR-FAST"/>
   </Variant>
   <Variant Name="Tom/styrt">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-ATB-BALISE-STOR-STYRT"/>
   </Variant>
  </Variants>
  <CustomAttribute DataType="Boolean" Name="FirstInGroup" DisplayName="Første i gruppe" DotLiquidExpression="
         {% if Variant == 'Fylt/fast' %}True
         {% elsif Variant == 'Fylt/styrt' %}True
         {% elsif Variant == 'Tom/fast' %}False
         {% elsif Variant == 'Tom/styrt' %}False
         {% endif %}"/>
  <CustomAttribute DataType="Boolean" Name="Switchable" DisplayName="Styrt" DotLiquidExpression="
				{% if Variant == 'Fylt/fast' %}False
				{% elsif Variant == 'Fylt/styrt' %}True
				{% elsif Variant == 'Tom/fast' %}False
				{% elsif Variant == 'Tom/styrt' %}True
				{% endif %}"/>
  <LuaExpression Name="Model3DName">
   <Formula>NOBN_sig_getBaliseModel3DName('Large')</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_DistanceToNextBalise" DisplayName="Avstand til neste balise" Description="
			Below 2.35 m: ERROR - Balise magnetic fields may merge - increase distance\n
			2.35-2.8 m: WARNING - Outside recommended tolerance - increase distance\n
			2.8-3.2 m: OK - The train will treat the balises as in the same group\n
			3.2-3.5 m: WARNING - Outside recommended tolerance - decrease distance\n
			3.5-10.5 m: ERROR - The train cannot determine balise group assignment\n
			10.5-11.8 m: WARNING - Outside recommended tolerance - Increase distance\n
			Above 11.8 m: OK - The train will treat the balises as belonging to different groups"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_DistanceToPreviousBalise" DisplayName="Avstand til forrige balise" Description="
			Below 2.35 m: ERROR - Balise magnetic fields may merge - increase distance\n
			2.35-2.8 m: WARNING - Outside recommended tolerance - increase distance\n
			2.8-3.2 m: OK - The train will treat the balises as in the same group\n
			3.2-3.5 m: WARNING - Outside recommended tolerance - decrease distance\n
			3.5-10.5 m: ERROR - The train cannot determine balise group assignment\n
			10.5-11.8 m: WARNING - Outside recommended tolerance - Increase distance\n
			Above 11.8 m: OK - The train will treat the balises as belonging to different groups"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_DistanceToTrackVertically" DisplayName="Avstand til spor i høyden" Description="
			&lt; 0.8 m: OK - Balise is close to a neighbouring track which we consider to be part of a switch or crossing\n
			0.8-7.0 m: ERROR - Balise may be read by a train running in a track above/under us - increase vertical track separation or move balise\n
			7.0-8.0 m: WARNING - Outside recommended tolerance - increase vertical track separation or move balise\n
			&gt; 8.0m: OK - A Train in a track above/under us will pass without reading the balise"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_DistanceToTrackSideways" DisplayName="Avstand til nabospor" Description="
			Below 2 m: ERROR – Balise may be read by a train in the neighbouring track – increase distance\n
			2-2.6 m: WARNING – Allowed on condition that at least one of the group's A- and B-balise is above 2.6 m from neighbouring track (large balise) resp. 2.3 m (minibalise) – increase distance\n
			Over 2.6 m: OK – Train in neighbouring track will pass without reading the balise"/>
  <LuaExpression Name="TekstOver">
   <Formula>NOBN_sig_getBaliseTextAboveSymbol()</Formula>
  </LuaExpression>
  <LuaExpression Name="TekstUnder">
   <Formula>NOBN_sig_getBaliseTextBelowSymbol()</Formula>
  </LuaExpression>
  <LuaExpression Name="code">
   <Formula>NOBN_sig_getBaliseId()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>code:lower():match("unfinished") and code or ""</Formula>
  </LuaExpression>
  <LuaExpression Name="dir">
   <Formula>NOBN_sig_getBaliseGroupDirection()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_DistanceToNextBalise" IsModelCheck="true">
   <Formula>NOBN_sig_chkBaliseDistanceToNextBalise()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_DistanceToPreviousBalise" IsModelCheck="true">
   <Formula>NOBN_sig_chkBaliseDistanceToPreviousBalise()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_DistanceToTrackVertically" IsModelCheck="true">
   <Formula>NOBN_sig_chkBaliseDistanceToTrackVertically()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_DistanceToTrackSideways" IsModelCheck="true">
   <Formula>NOBN_sig_chkBaliseDistanceToTrackSideways()</Formula>
  </LuaExpression>
  <LuaExpression Name="SymbolFrame">
   <Formula>NOBN__setSymbolFrame()</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Fylt/fast" DisplayName="Balise fylt/fast" DisplayBlockName="NO-BN-2D-JBTSA_ATB-BALISE-FYLT-FAST-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateWithUcs="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Fylt/styrt" DisplayName="Balise fylt/styrt" DisplayBlockName="NO-BN-2D-JBTSA_ATB-BALISE-FYLT-STYRT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateWithUcs="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Tom/fast" DisplayName="Balise tom/fast" DisplayBlockName="NO-BN-2D-JBTSA_ATB-BALISE-TOM-FAST-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateWithUcs="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Tom/styrt" DisplayName="Balise tom/styrt" DisplayBlockName="NO-BN-2D-JBTSA_ATB-BALISE-TOM-STYRT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateWithUcs="true"/>
   <SetValue Key="MileageIncreasesTowardsLeft" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_ATB-BALISE-TOM-FAST-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_ATB-BALISE
				{% if Variant == 'Fylt/fast'or Variant == 'Fylt/styrt' %}FYLT
				{% else %}TOM
				{% endif %}
				{% if Variant == 'Fylt/styrt' or Variant == 'Tom/styrt' %}STYRT
				{% else %}FAST
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
   <SymbolAttribute Tag="TEKSTOVER">
    <Value>{{TekstOver}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="TEKSTUNDER">
    <Value>{{TekstUnder}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_ATB-BALISE-TOM-FAST-Metric" AllowSymbolMove="false">
   <Rotation AddAngle="{% if MileageIncreasesTowardsLeft == 'True'%}180{% else %}0{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_ATB-BALISE
				{% if Variant == 'Fylt/fast'or Variant == 'Fylt/styrt' %}FYLT
				{% else %}TOM
				{% endif %}
				{% if Variant == 'Fylt/styrt' or Variant == 'Tom/styrt' %}STYRT
				{% else %}FAST
				{% endif %}
				Metric
			</BlockNameFormat>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{code}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <DefaultInterlockingExportOptions>
  <TrainRoutesStartPointFilter>if (RcType == "JBTSA_SIG Signal" and Hovedsignal == 'Hs2' or Hovedsignal == 'Hs3') then
	return NOBN_sig_getSignalShortName()
elseif RcType == "JBTSA_SIG ERTMS" then
	return NOBN_sig_getSignalShortName()
end</TrainRoutesStartPointFilter>
  <TrainRoutesEndPointFilter>if ((RcType == "JBTSA_SIG Signal" and (Hovedsignal == 'Hs1'or Hovedsignal == 'Hs2' or Hovedsignal == 'Hs3'))
	or (RcType == "JBTSA_SIG Fiktivt punkt" and Variant == "Fiktivt sluttpunkt for togvei")
	or (RcType == "SA-SIG Togvei slutt"))
then
	return NOBN_sig_getSignalShortName()
elseif RcType == "JBTSA_SIG ERTMS" then
	return NOBN_sig_getSignalShortName()
end</TrainRoutesEndPointFilter>
  <ShuntingRoutesStartPointFilter>if (RcType == "JBTSA_SIG Signal" and Dvergsignal == "Ja") then return NOBN_sig_getSignalNumber() end</ShuntingRoutesStartPointFilter>
  <ShuntingRoutesEndPointFilter>if (RcType == "JBTSA_SIG Signal" and Dvergsignal == "Ja") then 
	return NOBN_sig_getSignalNumber()
elseif ((RcType == "JBTSA_SIG Fiktivt punkt" and Variant == "Fiktivt sluttpunkt for togvei") or (RcType == "SA-SIG Togvei slutt")) then

	return code
end</ShuntingRoutesEndPointFilter>
  <ViaPointFilter>if (RcType == "JBTSA_SIG Fiktivt punkt" and Variant == "Viapunkt for betjeningsanlegg") then
    return "(v"..code..")"
end</ViaPointFilter>
  <ExtendedTrainRoutesExcludedStartPointFilter>Function == "blocking"</ExtendedTrainRoutesExcludedStartPointFilter>
  <ExtendedRoutePartFormatScript>base = StartName .. "-" .. EndName
if ViaPoints.Count > 0 then
    via = ViaPoints[0].Value
    for i=1, ViaPoints.Count-1 do
      via = via .. "-" .. ViaPoints[i].Value
    end
    return base .. " via " .. via
else
    return base
end</ExtendedRoutePartFormatScript>
  <SwitchNameScript>dir = (position == "left") and "V" or "H"
return switchObj.code .. dir</SwitchNameScript>
 </DefaultInterlockingExportOptions>
 <LuaFunction Name="NOBN_sig_getSignalNumber()" ReturnType="String" Description="Returns the number extracted from the signal's Code, e.g. '4313UL' or 'UL4313' or '4313' => '4313'.">
  <Constructor>String NOBN_sig_getSignalNumber(tSignal s)</Constructor>
  <Formula>
function NOBN_sig_getSignalNumber(s)
	if s == nil then s = getObjectFromId(id) end -- Assume object really IS a signal...
	local c = tostring(s.Code)
	if c == nil then return "" end
	if c:match("%d+%D+") then
		-- digits + nondigits:
		return c:match("%d+%D+"):match("%d+")
	elseif c:match("%D+%d+") then
		-- nondigits + digits:
		return c:match("%D+%d+"):match("%d+")
	elseif c:match("%d+") then
		-- just digits:
		return c:match("%d+")
	else
		-- just nondigits, or empty:
		return ""
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_getSignalLitra()" ReturnType="String" Description="Returns the litra extracted from the signal's Code, e.g. '4313UL' or 'UL4313' or 'UL' => 'UL'.">
  <Constructor>String NOBN_sig_getSignalLitra(tSignal s)</Constructor>
  <Formula>
function NOBN_sig_getSignalLitra(s)
	if s == nil then s = getObjectFromId(id) end -- Assume object really IS a signal...
	local c = tostring(s.Code)
	if c == nil then return "" end
	if c:match("%d+%D+") then
		-- digits + nondigits:
		return c:match("%d+%D+"):match("%D+")
	elseif c:match("%D+%d+") then
		-- nondigits + digits:
		return c:match("%D+%d+"):match("%D+")
	elseif c:match("%D+") then
		-- just nondigits:
		return c:match("%D+")
	else
		-- just digits, or empty:
		return ""
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_getSignalShortName()" ReturnType="String" Description="Returns the formated short name extracted from a main/distant signal's Code, e.g. '4313UL' or 'UL4313' => '4313(UL)'.">
  <Constructor>NOBN_sig_getSignalShortName()</Constructor>
  <Formula>
function NOBN_sig_getSignalShortName()
	if NOBN_sig_getSignalLitra() == "" then 
		return NOBN_sig_getSignalNumber()
	else
		return NOBN_sig_getSignalNumber().."("..NOBN_sig_getSignalLitra()..")"
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_getSignalFullName()" ReturnType="String" Description="Returns the elaborate name of the signal, formated according to Bane NOR standard practice.">
  <Constructor>String NOBN_sig_getSignalFullName()</Constructor>
  <Formula>
function NOBN_sig_getSignalFullName()
	local t
	if RcType == "JBTSA_SIG ERTMS" then
		if Variant == "ERTMS dverg" then 
			return "EDs.R"..NOBN_sig_getSignalNumber() 
		elseif Variant:match("E35") then
			t = "Mb."
		end
	
	elseif RcType == "JBTSA_SIG Signal" then
		if (MainSignal == "Hs1") then
			t = "Stopplykt"
		elseif (MainSignal == "RepHs1" or MainSignal == "RepHs2") then 
			t = "Rep.Hs."
		elseif (MainSignal ~= "-") then 
			t = "Hs."
		elseif (DistantSignal ~= "-") then
			t = "Fs."
		elseif (EndOfTrainRouteSignal ~= "-") then
			t = "S66."
		elseif (DwarfSignal ~= "-") then
			return "Ds.R"..NOBN_sig_getSignalNumber()
		elseif (HighShuntingSignal ~= "-") then
			return "Z."..code
		else
			t = "Sig." --Covers all the remaining - MKs, FKs, Ls, LHs, AVs, BPs
		end
	
	elseif RcType == "JBTSA_SIG Fiktivt punkt" then
		t = "Fik."
		if Variant == "Viapunkt for betjeningsanlegg" then return t..code
		elseif Variant == "Fiktivt sluttpunkt for togvei" then return t..NOBN_sig_getSignalShortName().." (HTv)"
		elseif Variant == "Fiktivt sluttpunkt for skiftevei" then return t..NOBN_sig_getSignalShortName().." (DTv)"
		elseif Variant == "Fiktivt sluttpunkt for togvei og skiftevei" then return t..NOBN_sig_getSignalShortName().." (HTv/DTv)"
		else 
			return t..NOBN_sig_getSignalShortName().." (Unrecognized variant ["..Variant.."])",_warning  
		end

	elseif RcType == "JBTSA_SIG Togsporsignal" then
		t = "Togsporsignal "..code
		
	elseif RcType == "JBTSA_SIG Brusignal/Frostportsignal" then
		t = "Brusignal/Frostportsignal"..code
		
	elseif RcType == "JBTSA_SIG Rasvarslingssignal" then
		t = "Rasvarslingssignal "..code
		
	elseif RcType == "JBTSA_SIG Veisignal" then
		t = "Veisignal "..code
		
	elseif RcType == "JBTSA_SIG Planovergangssignal" then
		t = (Variant:match("forsignal") and "PLO-Fs" or "PLO")..code
	else
		t = "Bad signal type ["..RcType.."] (code='"..code.."').",_warning
	end
	return t..NOBN_sig_getSignalShortName()
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_getSignalPartNames()" ReturnType="String" Description="Returns the signal component names, formated according to Bane NOR standard practice.">
  <Constructor>String NOBN_sig_getSignalPartNames()</Constructor>
  <Formula>
function NOBN_sig_getSignalPartNames()
	local s = ""
	local errMsg = "*** Unrecognized signal configuration ***"
	if RcType == "JBTSA_SIG ERTMS" then
		if Variant:match("E35") then s = "E35" end
		if Variant:lower():match("dverg") then s = s.."-EDS" end
	elseif RcType == "JBTSA_SIG Signal" then
		if (MainSignal ~= "-") then s = s..MainSignal:upper() end
		if (DistantSignal ~= "-") then s = s.."-FS" end
		if (EndOfTrainRouteSignal ~= "-") then s = s.."-TVS" end
		if (DwarfSignal ~= "-") then s = s.."-DS" end
		if (HighShuntingSignal ~= "-") then s = s.."-ZS" end
		if (PositionLamp ~= "-") then s = s.."-MKS" end
		if (CautiousDrivingSignal ~= "-") then s = s.."-FKS" end
		if (LineSignal ~= "-") then s = s.."-LS" end
		if (OpticalSpeedSignal ~= "-") then s = s.."-LHS" end
		if (DepartureSignal ~= "-") then s = s.."-AVS" end
		if (BrakeTestSignal ~= "-") then s = s.."-BPS" end
		--TODO: More complete check of unrecognized combination
	elseif RcType == "JBTSA_SIG Togsporsignal" then
		s = "Togsporsignal"
	elseif RcType == "JBTSA_SIG Brusignal/Frostportsignal" then
		s = "Brusignal/Frostportsignal"
	elseif RcType == "JBTSA_SIG Rasvarslingssignal" then
		s = "Rasvarslingssignal"
	elseif RcType == "JBTSA_SIG Veisignal" then
		s = "Veisignal"   
	elseif RcType == "JBTSA_SIG Planovergangssignal" then
		s = "Planovergangssignal"
	elseif RcType == "JBTSA_SIG Fiktivt punkt" then
		s = "Fiktivt punkt"
	else
		s = "Bad signal type ["..RcType.."].",_warning
	end
	if s:match("^-.+") then s = s:sub(2) end --Strip off leading dash character '-', if any
	return s
end	 
		</Formula>
 </LuaFunction>
 <ObjectType DataType="tSignal" Class="RailwayPlacedObject" Name="JBTSA_SIG Fiktivt punkt" Layer="JBTSA_SIG" Color="ByLayer" Group="Signal/Fiktive punkter" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>signal</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>if Yokemounted == nil then return 0 else return Yokemounted and 8.0 or 0 end</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <LuaExpression Name="ObjectInfo">
   <Formula>NOBN_sig_getSignalPartNames()</Formula>
  </LuaExpression>
  <LuaExpression Name="sight">
   <Formula>NOBN_sig_getSignalSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Viapunkt for betjeningsanlegg"/>
   <Variant Name="Fiktivt sluttpunkt for togvei"/>
   <Variant Name="Fiktivt sluttpunkt for skiftevei"/>
   <Variant Name="Fiktivt sluttpunkt for togvei og skiftevei"/>
  </Variants>
  <InsertPointObject VariantName="Viapunkt for betjeningsanlegg" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-VIAPUNKT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Fiktivt sluttpunkt for togvei" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-FIKTIVT-PUNKT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Fiktivt sluttpunkt for skiftevei" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-FIKTIVT-PUNKT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Fiktivt sluttpunkt for togvei og skiftevei" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-FIKTIVT-PUNKT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-FIKTIVT-PUNKT-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="true"/>
   <BlockNameFormat JoinBy="-">
			NO-BN-2D-JBTSA_SIG-SIGNAL
			{% if Variant == 'Viapunkt for betjeningsanlegg' %}VIAPUNKT
			{% else %}FIKTIVT-PUNKT
			{% endif %}
			{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <LuaFunction Name="NOBN_sig_chkSafetyDistanceFromSignalToOcsMast()" ReturnType="String" Description="Checks whether Returns the formated short name extracted from a main/distant signal's Code, e.g. '4313UL' or 'UL4313' => '4313(UL)'.">
  <Constructor>String NOBN_sig_chkSafetyDistanceFromSignalToOcsMast()</Constructor>
  <Formula>
function NOBN_sig_chkSafetyDistanceFromSignalToOcsMast()
	local tolerance = 6 --Tolerance in meters

	--Preamble - called from a relevant object type?
	if      RcType ~= "JBTSA_SIG ERTMS"
		and RcType ~= "JBTSA_SIG Signal"
		and RcType ~= "JBTSA_SIG Brusignal/Frostportsignal"
		and RcType ~= "SA-SIG Planovergang"
		and RcType ~= "JBTSA_SIG Veisignal"
	then 
		return "Bad signal type ["..RcType.."] (code='"..code.."'.",_warning
	end

	--Check if this test can be omitted (a low signal):
	local omit = true
	if Yokemounted then 
		omit = false

	elseif RcType == "JBTSA_SIG ERTMS" then
		return "OK - Low markerboard - Safety distance to OCS mast not relevant.",_ok

	elseif RcType == "JBTSA_SIG Signal" then
		if HighShuntingSignal == "-" and MainSignal == "-" then 
			return "OK - Free-standing low signal - Safety distance to OCS mast not relevant.",_ok 
		end

	elseif RcType == "JBTSA_SIG Togsporsignal" then
		return "OK - Track signal (togsporsignal) - Safety distance to OCS mast not relevant.",_ok 
	end

	if not omit then
		local c1 = getNearbyPointObjects2D("JBTEH_MAS KL-mast", tolerance)
		local c2 = getNearbyPointObjects2D("JBTEH_MAS Hengemast for bru og tunnel", tolerance)
		local c3 = getNearbyPointObjects2D("JBTEH_MAS Hengemast i åk", tolerance)
		local closeObjects = getUnionOfCollections( getCollectionFromTable({c1,c2,c3}) )
		local count = getCollectionLength(closeObjects)
		local UpdateObjects = {}
		if count == 0 then 
			return "OK - No catenary mast within tolerance "..tolerance.." meters.",_ok
		else
			local i = 0
			local shortestDistance = math.huge
			local s = ": WARNING - Catenary mast"
			if (count &gt; 1) then s = s.."s" end
			s = s.." ["
			while i ~= count do
				d = RC__getDistance2D(closeObjects[i]) 
				if d &lt; shortestDistance then shortestDistance = d end
				s = s..closeObjects[i].code
				table.insert(UpdateObjects, closeObjects[i])
				i = i+1
				if i ~= count then s = s..", " end
			end
			s = s.."]"
			return string.format("%.03f: %s located inside horizontal tolerance %.3f meters.",shortestDistance,s,tolerance),UpdateObjects,_warning
		end
	end
end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_chkDistanceFromSignalToTrack()" ReturnType="String" Description="Checks lateral distance from signal insertion point to closest track on left side (in the direction of increasing mileages). Call with argument 'Right' or 'Left'.">
  <Constructor>String NOBN_sig_chkDistanceFromSignalToTrack("Right" | "Left")</Constructor>
  <Formula>
			function NOBN_sig_chkDistanceFromSignalToTrack(side)
				side = side and side:lower() or "(no arg)"				
				if side ~= "left" and side ~= "right" then return "*** ERROR Function should be called with argument 'right' or 'left' ["..side.."]." end
				if Alignment == nil then return "UNFINISHED - Signal must first be assigned to an alignment to deduce its own direction." end
				if (DwarfSignal == "Ja" and MainSignal == "-" and Yokemounted) then return "WARNING - Shunting signal mounted in yoke. Please do manual check.",_warning end
--2021-01-12 CLFEY: No warning just if high above but outside lateral problem distance.
--if (RelativeElevation &gt; 0.3) then return "WARNING - Signal mounted outside normal elevations. Please do manual check.",_warning end
				tracks = getClosestAlignments("JBTKO_SPO Spor"):filter(function (x) return (side:upper() == "RIGHT" and 1 or -1) * getAlignmentInfo(x.id).DistanceToAlignment &lt; 0 end)
				if getCollectionLength(tracks) == 0 then return "OK - No tracks to the "..side..".",_ok end
				ai = getAlignmentInfo(tracks[0].id)
				curveRadius = ai.CurveRadius
				Ki = 0.0
				Ky = 0.0
				tolerance = 2.12
				--Many signals are covered with these formulas, but not all - use your insight wiesely:
				if (DwarfSignal ~= "-" and MainSignal == "-") then
					--Freestanding dwarf signal
					tolerance = tolerance + 0.25
				elseif MainSignal ~= "-" or DistantSignal ~= "-" then
					tolerance = tolerance + 0.4
				end
				distToAlignment = math.abs(ai.DistanceToAlignment)
				if (curveRadius ~= math.huge) then
					--Std Bane NOR approximation formulae:
					Ki = 81000.0/(2*curveRadius)
					Ky = 63000.0/(2*curveRadius)
				end
				if (ai.CurveRotation == "CCW") then 
					tolerance = tolerance + (Ky/1000.0)
				else
					tolerance = tolerance + (Ki/1000.0)
				end
				if (distToAlignment &lt;= tolerance) then
					return string.format("%.3f: ERROR - Signal too close to track '%s' w.r.t. tolerance %.3f.",
						distToAlignment,ai.AlignmentName,tolerance),_error
				elseif (distToAlignment &gt; tolerance and distToAlignment &lt;= (tolerance + 0.4)) then
					return string.format("%.3f: WARNING - Signal close to track '%s', less than 0.4 m from tolerance %.3f.",
						distToAlignment,ai.AlignmentName,tolerance),_warning
				else
					return string.format("%.3f: OK - Signal is far from track '%s' w.r.t. tolerance %.3f.",
						distToAlignment,ai.AlignmentName,tolerance),_ok
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_chkLeftSideDistanceFromSignalToTrack()" ReturnType="String" Description="Checks lateral distance from signal insertion point to closest track on left side (in the direction of increasing mileages)." HideFromUser="false">
  <Constructor>String NOBN_sig_chkLeftSideDistanceFromSignalToTrack()</Constructor>
  <Formula>
			function NOBN_sig_chkLeftSideDistanceFromSignalToTrack()
				return NOBN_sig_chkDistanceFromSignalToTrack("Left")
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_sig_chkRightSideDistanceFromSignalToTrack()" ReturnType="String" Description="Checks lateral distance from signal insertion point to closest track on right side (in the direction of increasing mileages)." HideFromUser="false">
  <Constructor>String NOBN_sig_chkRightSideDistanceFromSignalToTrack()</Constructor>
  <Formula>
			function NOBN_sig_chkRightSideDistanceFromSignalToTrack()
				return NOBN_sig_chkDistanceFromSignalToTrack("Right")
			end
		</Formula>
 </LuaFunction>
 <ObjectType DataType="tSignal" Class="RailwayPlacedObject" Name="JBTSA_SIG Signal" Layer="JBTSA_SIG" Color="ByLayer" Group="Signal/Klasse-B signaler" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>signal</RelationSpace>
  <AttachmentCategory Name="signal"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="Yokemounted" DisplayName="Åkmontert" DefaultValue="False" Category="Custom properties" Description="The 'Yokemounted' boolean custom property defines whether the object (board, signal etc) has its own mast (default:false) or is suspended from a yoke (true)."/>
  <CustomAttribute DataType="Enumeration" Name="SpreadingLens" DisplayName="Spredelinse" DefaultValue="-" Category="Custom properties" Description="The 'SpreadingLens' custom property [Ja,-] defines whether the signal shall use spreading lenses (default: '-').">
   <Values>
    <Value>Ja</Value>
    <Value>-</Value>
   </Values>
  </CustomAttribute>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>if Yokemounted == nil then return 0 else return Yokemounted and 8.0 or 0 end</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <LuaExpression Name="ObjectInfo">
   <Formula>NOBN_sig_getSignalPartNames()</Formula>
  </LuaExpression>
  <LuaExpression Name="sight">
   <Formula>NOBN_sig_getSignalSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>NOBN_sig_getSignalPartNames.." - "..code</Formula>
  </LuaExpression>
  <Variants DefaultValue="Sammensatt signal">
   <Variant Name="Sammensatt signal"/>
  </Variants>
  <CustomAttribute DataType="Enumeration" Name="Sunscreen" DisplayName="Bakgrunnsskjerm" DefaultValue="Ja" Description="The 'Sunscreen' custom property [- | Ja] decides whether the signal has background screen ('Ja') or not ('-').">
   <Values>
    <Value>-</Value>
    <Value>Ja</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="Markerboard" DisplayName="ERTMS markerboard" DefaultValue="-" Description="Bane NOR ERTMS Markerboard, signal E35 Stop marker. Yellow arrow with white outline on blue background.">
   <Values>
    <Value>-</Value>
    <Value>Ja</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="ErtmsDwarfSignal" DisplayName="ERTMS dvergsignal" DefaultValue="-" Description="Bane NOR ERTMS dwarf signal, signal 43/44/45/46. Four blue lanterns lit in pairs (43=horizontal, 44='slash', 45=vertical, 46='backslash').">
   <Values>
    <Value>-</Value>
    <Value>Ja</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="MainSignal" DisplayName="Hovedsignal" DefaultValue="-" Description="Bane NOR 1/2/3-lantern optical main signal.\n20a=*Red:Stop(entry/block)\n20b=Red:Stop(intermediate/exit)\n21(3-light main)=UpperGreen:Proceed with caution\n21(2-light main)=LowerGreen:Proceed with caution\n21(repeater)=UpperGreen:Proceed with caution\n22=UpperGreen+LowerGreen:Proceed.">
   <Values>
    <Value>-</Value>
    <Value>Hs1</Value>
    <Value>Hs2</Value>
    <Value>Hs3</Value>
    <Value>RepHs1</Value>
    <Value>RepHs2</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="EndOfTrainRouteSignal" DisplayName="Togvei slutt" DefaultValue="-" Description="Bane NOR S66 black/yellow board:End of train route movement authority (with or without an ensuing main signal).">
   <Values>
    <Value>-</Value>
    <Value>Ja</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="DistantSignal" DisplayName="Forsignal" DefaultValue="-" Description="Bane NOR 2-lantern optical distant signal.\n23=*Yellow:Stop ahead\n24=*Yellow/*Green:Reduced speed ahead\n25=*Green:Line speed ahead.">
   <Values>
    <Value>-</Value>
    <Value>Ja</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="DwarfSignal" DisplayName="Dvergsignal" DefaultValue="-" Description="Bane NOR optical shunting signal.\n43=TwoHorizontalWhite:Shunting forbidden\n44=TwoSlantedWhite:Cautious shunting\n45=TwoVerticalWhite:Shunting allowed\n46a=OneWhite:local release\n46b=TwoBackslantedWhite:Local release.">
   <Values>
    <Value>-</Value>
    <Value>Ja</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="HighShuntingSignal" DisplayName="Høyt skiftesignal" DefaultValue="-" Description="Bane NOR High Shunting optical signal.\n41=SlantedWhiteLine:Cautious shunting with local release\n42=HorizontalWhiteLine:Shunting forbidden.">
   <Values>
    <Value>-</Value>
    <Value>Ja</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="PositionLamp" DisplayName="Middelkontrollampe" DefaultValue="-" Description="Bane NOR Position Lamp optical signal.\n.4C=*White:Last axle still occupying turnout section. Off:Trigger section not yet entered, or last axle not occupying turnout section anymore.">
   <Values>
    <Value>-</Value>
    <Value>Ja</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="CautiousDrivingSignal" DisplayName="Forsiktig kjøring" DefaultValue="-" Description="Bane NOR Cautious Driving optical signal.\n32=White luminescent cross:Proceed with extra caution in train route (main signal shows Hs21, distant signal is shut off (Fs00).">
   <Values>
    <Value>-</Value>
    <Value>Ja</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="LineSignal" DisplayName="Linjesignal" DefaultValue="-" Description="Bane NOR Line optical signal.\n35B=White luminescent letter:The signal shows a distinct letter representing one of several  destination lines.">
   <Values>
    <Value>-</Value>
    <Value>Ja</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="OpticalSpeedSignal" DisplayName="Lysende hastighetssignal" DefaultValue="-" Description="Bane NOR Deviating Speed optical signal.\n.68C=WhiteDigit(s):Allowed speed over deviating turnout or group of turnouts ahead.">
   <Values>
    <Value>-</Value>
    <Value>Ja</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="DepartureSignal" DisplayName="Avgangssignal" DefaultValue="-" Description="Bane NOR Departure signal.\nLuminous White letter 'A' on black background (permission to depart is granted)'.">
   <Values>
    <Value>-</Value>
    <Value>Ja</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="BrakeTestSignal" DisplayName="Bremseprøvesignal" DefaultValue="-" Description="Bane NOR Brake Test Signal.\n.Luminous letter 'T' (activate brake), 'L' (loosen brake) or dark (no action).">
   <Values>
    <Value>-</Value>
    <Value>Ja</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_SafetyDistanceFromSignalToOcsMast" DisplayName="Sikkerhetsavstand til KL" Description="Below 6 meter: Warning – Signal is too close to OCS mast, a potential HVAC hazard for maintenance personnel.\nAbove 6 meter: OK – No known HVAC danger to personnel."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_LeftSideDistanceFromSignalToTrack" DisplayName="Avstand til spor venstre" Description="Dwarf signal:\Below 2.37m: Error – Signal too close to track.\nFrom 2.37m to 2.77m: Warning – Within tolerance, potentially too close to track.\nAbove 2.77m: OK – Far enough from track.\n\nOther signals:\nBelow 2.52m: Error - Signal too close to track.\nFrom 2.52m to 2.92m: Warning - Within tolerance, potentially too close to track.\nAbove 2.92m: OK - Far enough from track.\n\nThe calculations take into account the nose/coach midpoint curvature extension."/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_RightSideDistanceFromSignalToTrack" DisplayName="Avstand til spor høyre" Description="Dwarf signal:\Below 2.37m: Error – Signal too close to track.\nFrom 2.37m to 2.77m: Warning – Within tolerance, potentially too close to track.\nAbove 2.77m: OK – Far enough from track.\n\nOther signals:\nBelow 2.52m: Error - Signal too close to track.\nFrom 2.52m to 2.92m: Warning - Within tolerance, potentially too close to track.\nAbove 2.92m: OK - Far enough from track.\n\nThe calculations take into account the nose/coach midpoint curvature extension."/>
  <CustomAttribute DataType="String" Name="LineSignalValue" DisplayName="Linjesignal signaltekst" DefaultValue=""/>
  <CustomAttribute DataType="String" Name="OpticalSpeedSignalValue" DisplayName="Lysende hastighetssignal verdi" DefaultValue=""/>
  <LuaExpression Name="mc_SafetyDistanceFromSignalToOcsMast" IsModelCheck="true">
   <Formula>NOBN_sig_chkSafetyDistanceFromSignalToOcsMast()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_LeftSideDistanceFromSignalToTrack" IsModelCheck="true">
   <Formula>NOBN_sig_chkLeftSideDistanceFromSignalToTrack()</Formula>
  </LuaExpression>
  <LuaExpression Name="mc_RightSideDistanceFromSignalToTrack" IsModelCheck="true">
   <Formula>NOBN_sig_chkRightSideDistanceFromSignalToTrack()</Formula>
  </LuaExpression>
  <LuaExpression Name="SymbolFrame">
   <Formula>NOBN__setSymbolFrame()</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTSA_SIG_signal_model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTSA_SIG_signal_model3DName()" ReturnType="String" Description="Returns 3D Model Name for a Bane NOR NSI-63 type signal, based on CustomProperties such as Hovedsignal, Forsignal, Dvergsignal etc.">
   <Constructor>String _JBTSA_SIG_signal_model3DName()</Constructor>
   <Formula>
				function _JBTSA_SIG_signal_model3DName()
					--Ref. https://orv.banenor.no/orv/doku.php?id=tjn:Kapittel_8 fra "Bane NOR – Trafikkregler for jernbanenettet (TJN) – gyldig fra 16.6.2019. Endret 24.4.2019."
					--Ref LISP-code for NO-BN's 2D library, file "Signal combinations.lsp" ca line number 350 where the symbol's CAD block name is constructed.
					local t
					if (Markerboard ~= "-") then
						t = "NO-BN-3D-SA-SIG-ERTMS"
						if not Yokemounted then
							if (RightSided and (dir == 'up')) or (LeftSided and (dir == 'down')) then 
								t = t.."-E35L"
							else
								t = t.."-E35R"
							end
						elseif Yokemounted then
							t = t.."-E35D"
						end
						if (ErtmsDwarfSignal ~= "-") then t = t.."-DS" end
						return t
					end
					
					t = "NO-BN-3D-SA-SIG-NSI63"
					if     (MainSignal == "RepHs1") then t = t.."-HSREP1" --RepHs 1-lys (øvre grønn i 2-lysramme, blendet nedre lanterne) - uten kne, oppover-montering, f.eks. på vegg
					elseif (MainSignal == "RepHs2") then t = t.."-HSREP2" --RepHs 1-lys (to grønne i 2-lysramme) - uten kne, oppover-montering, f.eks. på vegg
					elseif (MainSignal == "Hs1") then t = t.."-HS1" --Stopplykt, Hs20=Stopp=nedre rød
					elseif (MainSignal == "Hs2") then t = t.."-HS2" --2-lys Hs, Hs20=Stopp=nedre rød / Hs21=Kjør med redusert hast.=øvre grønn
					elseif (MainSignal == "Hs3") then t = t.."-HS3" --3-lys Hs, Hs20=Stopp=nedre rød / Hs21=Kjør med redusert hast.=øvre grønn / Hs22=Kjør=Øvre+nedre grønn
					end
					if (DistantSignal ~= "-") then t = t.."-FS" end
					if (EndOfTrainRouteSignal ~= "-") then t = t.."-TVS" end --Togvei slutt signal 66, 'S'
					if (DwarfSignal ~= "-") then t = t.."-DS" end
					if (HighShuntingSignal ~= "-") then t = t.."-ZS" end --Høyt skiftesignal
					if (PositionLamp ~= "-") then t = t.."-MKS" end --Middelkontrollampe signal, hvit blinkende
					if (CautiousDrivingSignal ~= "-") then t = t.."-FKS" end
					if (LineSignal ~= "-") then t = t.."-LS" end --Linjesignal (het 'hovedlinjesignal' tidligere)
					if (OpticalSpeedSignal ~= "-") then t = t.."-LHS" end --Lysende HastighetsSignal, lysende 10-ere for en eller flere aspekter
					if (DepartureSignal ~= "-") then t = t.."-AVS" end --Avgangssignal
					if (BrakeTestSignal ~= "-") then t = t.."-BPS" end --Bremseprøvesignal
					if Sunscreen == "-" then t = t.."-UTEN-SKJERM" end
					if Yokemounted then t = t.."-ÅK" end
					if KneeTowardsTrack then if KneeTowardsTrack ~= "-" then t = t..(RightSided and "-VKNE" or "-HKNE") end end
					if t:match("%-NSI63%-DS") and not t:match("ÅK") then t = t.."-2000" end --Add '-2000' pole total length to shunting signal if free-standing shunting signal
					return t
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Frittstående forsignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-FS-{{SymbolMode}}" SubGroup="Frittstående Signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="name" Value="Fs."/>
   <SetValue Key="type" Value="distant"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="Frittstående Dvergsignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-DS-{{SymbolMode}}" SubGroup="Frittstående Signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="type" Value="shunting"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="Frittstående Dvergsignal med togvei slutt" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-TVS-DS-{{SymbolMode}}" SubGroup="Frittstående Signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="EndOfTrainRouteSignal" Value="Ja"/>
   <SetValue Key="type" Value="shunting"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="Frittstående Dvergsignal med middelkontroll" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-DS-MKS-{{SymbolMode}}" SubGroup="Frittstående Signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="type" Value="shunting"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="Frittstående Dvergsignal med middelkontroll og togvei slutt" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-TVS-DS-MKS-{{SymbolMode}}" SubGroup="Frittstående Signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="EndOfTrainRouteSignal" Value="Ja"/>
   <SetValue Key="type" Value="shunting"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="1-lys stopplykt" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS1-{{SymbolMode}}" SubGroup="Frittstående Signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs1"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="1-lys Rep. hovedsignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS1-{{SymbolMode}}" SubGroup="Frittstående Signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="RepHs1"/>
   <SetValue Key="type" Value="repeater"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys hovedsignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys Rep. hovedsignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="RepHs2"/>
   <SetValue Key="type" Value="repeater"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
   <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SIG-NSI63-HS-2-LYS-REP"/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys hovedsignal med dverg" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-DS-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys hovedsignal med dverg og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-DS-LHS-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys hovedsignal med dverg og middelkontroll" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-DS-MKS-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys hovedsignal med dverg, middelkontroll og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-DS-MKS-LHS-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys hovedsignal med dverg og forsiktig kjøring" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-DS-FKS-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys hovedsignal med dverg, forsiktig kjøring og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-DS-FKS-LHS-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys hovedsignal med dverg, middelkontroll og forsiktig kjøring" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-DS-MKS-FKS-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys hovedsignal med dverg, middelkontroll, forsiktig kjøring og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-DS-MKS-FKS-LHS-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys hovedsignal dverg og linjesignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-DS-LS-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="LineSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys hovedsignal dverg, linjesignal og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-DS-LS-LHS-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="LineSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys hovedsignal med dverg, middelkontroll og linjesignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-DS-MKS-LS-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="LineSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="2-lys hovedsignal med dverg, middelkontroll, linjesignal og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-DS-MKS-LS-LHS-{{SymbolMode}}" SubGroup="2-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="LineSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="3-lys hovedsignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-{{SymbolMode}}" SubGroup="3-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="3-lys hovedsignal med linjesignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-LS-{{SymbolMode}}" SubGroup="3-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="LineSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="3-lys hovedsignal med linjesignal og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-LS-LHS-{{SymbolMode}}" SubGroup="3-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="LineSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="3-lys hovedsignal med lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-LHS-{{SymbolMode}}" SubGroup="3-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="3-lys hovedsignal med dverg" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-DS-{{SymbolMode}}" SubGroup="3-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="3-lys hovedsignal med dverg og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-DS-LHS-{{SymbolMode}}" SubGroup="3-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="3-lys hovedsignal med dverg og middelkontroll" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-DS-MKS-{{SymbolMode}}" SubGroup="3-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="3-lys hovedsignal med dverg, middelkontroll og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-DS-MKS-LHS-{{SymbolMode}}" SubGroup="3-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="main"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med middelkontroll" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-MKS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-LHS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med middelkontroll og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-MKS-LHS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med forsiktig kjøring og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-FKS-LHS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med dverg" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-DS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med dverg og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-DS-LHS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med dverg, linjesignal og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-DS-LS-LHS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="LineSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med dverg og middelkontroll" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-DS-MKS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med dverg, middelkontroll og forsiktig kjøring" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-DS-MKS-FKS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med dverg, middelkontroll, forsiktig kjøring og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-DS-MKS-FKS-LHS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med dverg, forsiktig kjøring og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-DS-FKS-LHS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med dverg, middelkontroll og linjesignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-DS-MKS-LS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="LineSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med dverg, middelkontroll og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-DS-MKS-LHS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="4-lys hovedsignal med dverg, middelkontroll, linjesignal og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-FS-DS-MKS-LS-LHS-{{SymbolMode}}" SubGroup="4-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs2"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="LineSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med middelkontroll og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-MKS-LHS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med middelkontroll" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-MKS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med forsiktig kjøring" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-FKS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med forsiktig kjøring og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-FKS-LHS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med linjesignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-LS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="LineSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med linjesignal og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-LS-LHS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="LineSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-LHS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg og middelkontroll" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-MKS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg og forsiktig kjøring" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-FKS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-LHS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg, forsiktig kjøring og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-FKS-LHS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg, middelkontroll og forsiktig kjøring" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-MKS-FKS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg, middelkontroll og linjesignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-MKS-LS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="Linjesignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg, middelkontroll og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-MKS-LHS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg, middelkontroll, forsiktig kjøring og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-MKS-FKS-LHS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg, middelkontroll, linjesignal og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-MKS-LS-LHS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="PositionLamp" Value="Ja"/>
   <SetValue Key="Linjesignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg, forsiktig kjøring og linjesignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-FKS-LS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="Linjesignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg, forsiktig kjøring, linjesignal og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-FKS-LS-LHS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="CautiousDrivingSignal" Value="Ja"/>
   <SetValue Key="Linjesignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg og linjesignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-LS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="Linjesignal" Value="Ja"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="5-lys hovedsignal med dverg, linjesignal og lysende hastighetssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-FS-DS-LS-LHS-{{SymbolMode}}" SubGroup="5-lys signal" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="MainSignal" Value="Hs3"/>
   <SetValue Key="DistantSignal" Value="Ja"/>
   <SetValue Key="DwarfSignal" Value="Ja"/>
   <SetValue Key="Linjesignal" Value="Ja"/>
   <SetValue Key="OpticalSpeedSignal" Value="Ja"/>
   <SetValue Key="type" Value="combined"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-UNKNOWN" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="true" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
			NO-BN-2D-JBTSA_SIG-SIGNAL
			{% if MainSignal == 'Hs1' or MainSignal == 'RepHs1'%}HS1
			{% elsif MainSignal == 'Hs2' or MainSignal == 'RepHs2'%}HS2
			{% elsif MainSignal == 'Hs3' %}HS3
			{% endif %}
			{% if DistantSignal == 'Ja' %}FS{% endif %}
			{% if EndOfTrainRouteSignal == 'Ja' %}TVS{% endif %}
			{% if DwarfSignal == 'Ja' %}DS{% endif %}
			{% if HighShuntingSignal == 'Ja' %}ZS{% endif %}
			{% if PositionLamp == 'Ja' %}MKS{% endif %}
			{% if CautiousDrivingSignal == 'Ja' %}FKS{% endif %}
			{% if LineSignal == 'Ja' %}LS{% endif %}
			{% if OpticalSpeedSignal == 'Ja' %}LHS{% endif %}
			{% if DepartureSignal == 'Ja' %}AVS{% endif %}
			{% if BrakeTestSignal == 'Ja' %}BPS{% endif %}
			{% if Yokemounted %}AAK{% endif %}
			{{SymbolMode}}
			</BlockNameFormat>
   <SymbolAttribute Tag="LS">
    <Value>{{LineSignalValue}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="LHS">
    <Value>{{OpticalSpeedSignalValue}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="signalfundament"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSignal" Class="RailwayPlacedObject" Name="JBTSA_SIG ERTMS" Layer="JBTSA_SIG" Color="ByLayer" Group="Signal/ERTMS" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>markerboard</RelationSpace>
  <AttachTo Category="signalfundament"/>
  <AttachTo Category="skiltfeste"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="Yokemounted" DisplayName="Åkmontert" DefaultValue="False" Category="Custom properties" Description="The 'Yokemounted' boolean custom property defines whether the object (board, signal etc) has its own mast (default:false) or is suspended from a yoke (true)."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>if Yokemounted == nil then return 0 else return Yokemounted and 8.0 or 0 end</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <LuaExpression Name="ObjectInfo">
   <Formula>NOBN_sig_getSignalPartNames()</Formula>
  </LuaExpression>
  <LuaExpression Name="sight">
   <Formula>NOBN_sig_getSignalSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>NOBN_sig_getSignalPartNames().." - "..code</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTSA_SIG_ertms_model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTSA_SIG_ertms_model3DName()" ReturnType="String" HideFromUser="false" Description="Returns the 3D model name [String] for the current ERTMS board. Covers position/stop markerboards. See also JBTSA_ERP ERTMS boards.">
   <Constructor>String _JBTSA_SIG_ertms_model3DName()</Constructor>
   <Formula>
				function _JBTSA_SIG_ertms_model3DName()
					local t = "NO-BN-3D-SA-SIG-ERTMS"
					if Variant:match("E35")then
						t = t.."-E35"
					else
						return "Bad ERTMS markerboard Variant ["..Variant.."], cannot determine 3D Model Name.",_error
					end
					if Variant:match("sidestilt") then
						t = ((RightSided and dir == "up") or (LeftSided and dir == "down")) and "-HSIDE" or "-VSIDE"
					elseif Variant:match("over sporet") then
						t = t.."-OVER"
					else
						return "Unrecognized variant ["..Variant.."], cannot determine 3D Model Name.",_error
					end
					if Variant:match("dverg") then t = t.."-DS" end
					if Variant:match("lav") then t = t.."-LAV" end
					return t
				end
			</Formula>
  </LuaFunction>
  <Variants>
   <Variant Name="ERTMS E35 Stoppskilt, sidestilt">
    <SetValue Key="type" Value="main"/>
    <SetValue Key="function" Value="blocking"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
    <SetValue Key="Yokemounted" Value="False"/>
   </Variant>
   <Variant Name="ERTMS E35 Stoppskilt, sidestilt med dverg">
    <SetValue Key="type" Value="main"/>
    <SetValue Key="function" Value="intermediate"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
    <SetValue Key="Yokemounted" Value="False"/>
   </Variant>
   <Variant Name="ERTMS E35 Stoppskilt, sidestilt med lav dverg">
    <SetValue Key="type" Value="main"/>
    <SetValue Key="function" Value="intermediate"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
    <SetValue Key="Yokemounted" Value="False"/>
   </Variant>
   <Variant Name="ERTMS E35 Stoppskilt, over sporet">
    <SetValue Key="type" Value="main"/>
    <SetValue Key="function" Value="intermediate"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
    <SetValue Key="Yokemounted" Value="True"/>
   </Variant>
   <Variant Name="ERTMS E35 Stoppskilt, over sporet med dverg">
    <SetValue Key="type" Value="main"/>
    <SetValue Key="function" Value="intermediate"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
    <SetValue Key="Yokemounted" Value="True"/>
   </Variant>
   <Variant Name="ERTMS dverg">
    <SetValue Key="type" Value="shunting"/>
    <SetValue Key="function" Value="intermediate"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
    <SetValue Key="Yokemounted" Value="False"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="ERTMS E35 Stoppskilt, sidestilt" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-ERTMS-E35-HSIDE-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true" MirrorAboutJigXAxisIfLeftSideOfAlignment="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ERTMS E35 Stoppskilt, sidestilt med dverg" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-ERTMS-E35-HSIDE-DS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true" MirrorAboutJigXAxisIfLeftSideOfAlignment="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ERTMS E35 Stoppskilt, sidestilt med lav dverg" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-ERTMS-E35-HSIDE-DS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true" MirrorAboutJigXAxisIfLeftSideOfAlignment="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ERTMS E35 Stoppskilt, over sporet" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-ERTMS-E35-OVER-AAK-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0.01">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ERTMS E35 Stoppskilt, over sporet med dverg" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-ERTMS-E35-OVER-DS-AAK-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0.01">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ERTMS dverg" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-ERTMS-DS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true" MirrorAboutJigXAxisIfLeftSideOfAlignment="true"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-##RC_THUMBNAIL-UNSPECIFIED-Schematic">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_SIG-SIGNAL-ERTMS
				{% if Variant contains 'sidestilt' %}
					{% if RightSided and dir == 'up' %}E35-HSIDE
					{% elsif LeftSided and dir == 'down' %}E35-HSIDE
					{% else %}E35-VSIDE
					{% endif %}
				{% elsif Variant contains 'over' %}E35-OVER
				{% endif %}
				{% if Variant contains 'dverg' %}DS{% endif %}
				{% if Yokemounted %}AAK{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSignal" Class="RailwayPlacedObject" Name="JBTSA_SIG Togsporsignal" Layer="JBTSA_SIG" Color="ByLayer" Group="Signal/Hjelpesignaler" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>signal</RelationSpace>
  <AttachmentCategory Name="signal"/>
  <AttachTo Category="stolpe_med_fot"/>
  <AttachTo Category="signal"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="Yokemounted" DisplayName="Åkmontert" DefaultValue="False" Category="Custom properties" Description="The 'Yokemounted' boolean custom property defines whether the object (board, signal etc) has its own mast (default:false) or is suspended from a yoke (true)."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>if Yokemounted == nil then return 0 else return Yokemounted and 8.0 or 0 end</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <LuaExpression Name="ObjectInfo">
   <Formula>NOBN_sig_getSignalPartNames()</Formula>
  </LuaExpression>
  <LuaExpression Name="sight">
   <Formula>NOBN_sig_getSignalSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Togsporsignal">
   <Variant Name="Togsporsignal 1-begrep"/>
   <Variant Name="Togsporsignal 1-begrep, sidestilt"/>
   <Variant Name="Togsporsignal 2-begrep"/>
   <Variant Name="Togsporsignal 2-begrep, sidestilt"/>
  </Variants>
  <LuaExpression Name="name">
   <Formula>"Tsp."..code</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTSA_SIG_Togsporsignal_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTSA_SIG_Togsporsignal_Model3DName()" ReturnType="String" HideFromUser="false" Description="">
   <Constructor>String _JBTSA_SIG_Togsporsignal_Model3DName()</Constructor>
   <Formula>
				function _JBTSA_SIG_Togsporsignal_Model3DName()
					local t = "NO-BN-3D-SA-SIG-NSI63-TSS"
					if Variant == "Togsporsignal 1-begrep" then
						return t.."-TOGSPORSIGNAL-HODE" 
					elseif Variant == "Togsporsignal 1-begrep, sidestilt" then
						if RightSided then
							return (dir == 'up') and t.."-H" or t.."-V"
						else
							return (dir == 'up') and t.."-V" or t.."-H"
						end
					elseif Variant == "Togsporsignal 2-begrep" then
						return t.."-HV" 
					elseif Variant == "Togsporsignal 2-begrep, sidestilt" then
						return t.."-HV"  --User must adjust sideways 3D offset towards track and add Pole Routing himself
					else 
						return "Unrecognized variant ["..Variant.."], cannot determine 3D Model Name.",_warning
					end
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="Offset3D.Z">
   <Formula>
				local d = (Variant:find("sidestilt") or Variant:find("2%-begrep")) and 0.15 or 0 --juster litt ned hvis signalet har arm(er)
				local a = Attachment
				if a then
					if a.Variant:find(" 1.6m") then return 0.690 - d
					elseif a.Variant:find(" 2m") then return 1.090 - d 
					elseif a.Variant:find(" 3m") then return 2.090 - d
					elseif a.Variant:find(" 3.2m") then return 2.290 - d
					else return 1.090 - d
					end
				else 
					return 1.090 - d --Standard Ø76 stolpe er 2m høy
				end
			</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Togsporsignal 1-begrep" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-36-TOGSPORSIGNAL-1-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="type" Value="other:togsporSignal"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="Togsporsignal 2-begrep" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-36-TOGSPORSIGNAL-2-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="type" Value="other:togsporSignal"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="Togsporsignal 1-begrep, sidestilt" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-36-TOGSPORSIGNAL-3-HSIDE-{{SymbolMode}}" AskForAttachment="true" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true" MirrorAboutJigXAxisIfLeftSideOfAlignment="true"/>
   <SetValue Key="type" Value="other:togsporSignal"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="Togsporsignal 2-begrep, sidestilt" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-36-TOGSPORSIGNAL-4-HSIDE-{{SymbolMode}}" AskForAttachment="true" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true" MirrorAboutJigXAxisIfLeftSideOfAlignment="true"/>
   <SetValue Key="type" Value="other:togsporSignal"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_THUMBNAIL-UNSPECIFIED-SCHEMATIC" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_SIG-SIGNAL-36-TOGSPORSIGNAL
				{%    if Variant == 'Togsporsignal 1-begrep' %}1
				{% elsif Variant == 'Togsporsignal 2-begrep' %}2
				{% elsif Variant == 'Togsporsignal 1-begrep, sidestilt' %}
					{% if RightSided  %}
						{% if dir == 'up' %}3-HSIDE
						{% else %}3-VSIDE
						{% endif %}
					{% else  %}
						{% if dir == 'up' %}3-VSIDE
						{% else %}3-HSIDE
						{% endif %}
					{% endif %}
				{% elsif Variant == 'Togsporsignal 2-begrep, sidestilt' %}
					{% if RightSided  %}
						{% if dir == 'up' %}4-HSIDE
						{% else %}4-VSIDE
						{% endif %}
					{% else  %}
						{% if dir == 'up' %}4-VSIDE
						{% else %}4-HSIDE
						{% endif %}
					{% endif %}
				{% else %}BAD_Variant
				{% endif %}
				{% if Yokemounted %}AAK{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="stolpe_med_fot"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSignal" Class="RailwayPlacedObject" Name="JBTSA_SIG Høyt skiftesignal, frittstående" Layer="JBTSA_SIG" Color="ByLayer" Group="Signal/Hjelpesignaler" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>signal</RelationSpace>
  <AttachmentCategory Name="signal"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="Yokemounted" DisplayName="Åkmontert" DefaultValue="False" Category="Custom properties" Description="The 'Yokemounted' boolean custom property defines whether the object (board, signal etc) has its own mast (default:false) or is suspended from a yoke (true)."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>if Yokemounted == nil then return 0 else return Yokemounted and 8.0 or 0 end</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <LuaExpression Name="ObjectInfo">
   <Formula>NOBN_sig_getSignalPartNames()</Formula>
  </LuaExpression>
  <LuaExpression Name="sight">
   <Formula>NOBN_sig_getSignalSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Frittstående Høyt Skiftesignal">
   <Variant Name="Frittstående Høyt Skiftesignal"/>
   <Variant Name="Frittstående Høyt Skiftesignal med Middelkontroll"/>
  </Variants>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTSA_SIG_HoeytSkiftesignal_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTSA_SIG_HoeytSkiftesignal_Model3DName()" ReturnType="String" HideFromUser="false" Description="Returns the 3D model name for a High Shunting signal.">
   <Constructor>String _JBTSA_SIG_HoeytSkiftesignal_Model3DName()</Constructor>
   <Formula>
				function _JBTSA_SIG_HoeytSkiftesignal_Model3DName()
					if Variant == "Frittstående Høyt Skiftesignal" then
						return "NO-BN-3D-SA-SIG-NSI63-ZS" --Use ZS2 to show also signals Ss41 (horizontal line)
					elseif Variant == "Frittstående Høyt Skiftesignal med Middelkontroll" then
						return "NO-BN-3D-SA-SIG-NSI63-ZS-MK" --Use ZS2 to show also signals Ss41 (horizontal line)
					else 
						return "Unrecognized variant ["..Variant.."], cannot determine 3D Model Name.",_warning
					end
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Frittstående Høyt Skiftesignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-41-HOEYT-SKIFTESIGNAL-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="type" Value="other:hoeytSkifteSignal"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="Frittstående Høyt Skiftesignal med Middelkontroll" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-41-HOEYT-SKIFTESIGNAL-MKS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="type" Value="other:hoeytSkifteSignal"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
   <SetValue Key="Yokemounted" Value="False"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_THUMBNAIL-UNSPECIFIED-SCHEMATIC" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_SIG-SIGNAL
				{% if Variant == 'Frittstående Høyt Skiftesignal' %}41-HOEYT-SKIFTESIGNAL
				{% elsif Variant == 'Frittstående Høyt Skiftesignal med Middelkontroll' %}41-HOEYT-SKIFTESIGNAL-MKS
				{% else %}BAD_Variant
				{% endif %}
				{% if Yokemounted %}AAK{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="signalfundament"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSignal" Class="RailwayPlacedObject" Name="JBTSA_SIG Rasvarslingssignal" Layer="JBTSA_SIG" Color="ByLayer" Group="Signal/Hjelpesignaler" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>signal</RelationSpace>
  <AttachmentCategory Name="signal"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="Yokemounted" DisplayName="Åkmontert" DefaultValue="False" Category="Custom properties" Description="The 'Yokemounted' boolean custom property defines whether the object (board, signal etc) has its own mast (default:false) or is suspended from a yoke (true)."/>
  <CustomAttribute DataType="Enumeration" Name="SpreadingLens" DisplayName="Spredelinse" DefaultValue="-" Category="Custom properties" Description="The 'SpreadingLens' custom property [Ja,-] defines whether the signal shall use spreading lenses (default: '-').">
   <Values>
    <Value>Ja</Value>
    <Value>-</Value>
   </Values>
  </CustomAttribute>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>if Yokemounted == nil then return 0 else return Yokemounted and 8.0 or 0 end</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <LuaExpression Name="ObjectInfo">
   <Formula>NOBN_sig_getSignalPartNames()</Formula>
  </LuaExpression>
  <LuaExpression Name="sight">
   <Formula>NOBN_sig_getSignalSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Rasvarslingssignal">
   <Variant Name="Rasvarslingssignal">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SIG-NSI63-RVS-RASVARSLINGSIGNAL"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Rasvarslingssignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="type" Value="other:rasvarslingsSignal"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_THUMBNAIL-UNSPECIFIED-SCHEMATIC" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_SIG-SIGNAL
				{% if Variant == 'Rasvarslingssignal' %}HS3
				{% else %}BAD_Variant
				{% endif %}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="signalfundament"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSignal" Class="RailwayPlacedObject" Name="JBTSA_SIG Brusignal/Frostportsignal" Layer="JBTSA_SIG" Color="ByLayer" Group="Signal/Hjelpesignaler" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>signal</RelationSpace>
  <AttachmentCategory Name="signal"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="Yokemounted" DisplayName="Åkmontert" DefaultValue="False" Category="Custom properties" Description="The 'Yokemounted' boolean custom property defines whether the object (board, signal etc) has its own mast (default:false) or is suspended from a yoke (true)."/>
  <CustomAttribute DataType="Enumeration" Name="SpreadingLens" DisplayName="Spredelinse" DefaultValue="-" Category="Custom properties" Description="The 'SpreadingLens' custom property [Ja,-] defines whether the signal shall use spreading lenses (default: '-').">
   <Values>
    <Value>Ja</Value>
    <Value>-</Value>
   </Values>
  </CustomAttribute>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>if Yokemounted == nil then return 0 else return Yokemounted and 8.0 or 0 end</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <LuaExpression Name="ObjectInfo">
   <Formula>NOBN_sig_getSignalPartNames()</Formula>
  </LuaExpression>
  <LuaExpression Name="sight">
   <Formula>NOBN_sig_getSignalSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Brusignal/Frostportsignal">
   <Variant Name="Brusignal/Frostportsignal">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-SIG-NSI63-BRU-OG-FROSTPORTSIGNAL"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Brusignal/Frostportsignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="type" Value="other:broSignal"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS3-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_SIG-SIGNAL
				{% if Variant == 'Brusignal/Frostportsignal' %}20-HS3
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="signalfundament"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSignal" Class="RailwayPlacedObject" Name="JBTSA_SIG Planovergangssignal" Layer="JBTSA_SIG" Color="ByLayer" Group="Signal/Veibomanlegg" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>signal</RelationSpace>
  <AttachmentCategory Name="signal"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="Yokemounted" DisplayName="Åkmontert" DefaultValue="False" Category="Custom properties" Description="The 'Yokemounted' boolean custom property defines whether the object (board, signal etc) has its own mast (default:false) or is suspended from a yoke (true)."/>
  <CustomAttribute DataType="Enumeration" Name="SpreadingLens" DisplayName="Spredelinse" DefaultValue="-" Category="Custom properties" Description="The 'SpreadingLens' custom property [Ja,-] defines whether the signal shall use spreading lenses (default: '-').">
   <Values>
    <Value>Ja</Value>
    <Value>-</Value>
   </Values>
  </CustomAttribute>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>if Yokemounted == nil then return 0 else return Yokemounted and 8.0 or 0 end</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <LuaExpression Name="ObjectInfo">
   <Formula>NOBN_sig_getSignalPartNames()</Formula>
  </LuaExpression>
  <LuaExpression Name="sight">
   <Formula>NOBN_sig_getSignalSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Planovergang, signal">
   <Variant Name="Planovergang, signal"/>
   <Variant Name="Planovergang, forsignal"/>
  </Variants>
  <LuaExpression Name="Model3DName">
   <Formula>_JBTSA_SIG_Planovergangssignal_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_JBTSA_SIG_Planovergangssignal_Model3DName()" ReturnType="String" HideFromUser="false" Description="Returns the 3D model name for a Level Crossing signal (towards track).">
   <Constructor>String _JBTSA_SIG_Planovergangssignal_Model3DName()</Constructor>
   <Formula>
				function _JBTSA_SIG_Planovergangssignal_Model3DName()
					local t = "NO-BN-3D-SA-SIG-NSI63-W-PLANOVERGANG"
					if Variant == "Planovergang, signal" then
						return t.."-SIGNAL"
					elseif Variant == "Planovergang, forsignal" then
						return t.."-FORSIGNAL"
					else 
						return "Unrecognized variant ["..Variant.."], cannot determine 3D Model Name.",_warning
					end
				end
			</Formula>
  </LuaFunction>
  <InsertPointObject VariantName="Planovergang, signal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="type" Value="other:planovergangsSignal"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <InsertPointObject VariantName="Planovergang, forsignal" DisplayBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="type" Value="other:planovergangForsignal"/>
   <SetValue Key="switchable" Value="true"/>
   <SetValue Key="virtual" Value="false"/>
   <SetValue Key="ruleCode" Value=""/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_SIG-SIGNAL-HS2-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_SIG-SIGNAL
				{% if Variant == 'Planovergang, signal' %}20-HS2
				{% elsif Variant == 'Planovergang, forsignal' %}20-HS2
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="signalfundament"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSignal" Class="RailwayPlacedObject" Name="JBTSA_SIG Veisignal" Layer="JBTSA_SIG" Color="ByLayer" Group="Signal/Veibomanlegg" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>signal_mot_vei</RelationSpace>
  <AttachmentCategory Name="signal_mot_vei" PassAttachmentToTarget="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>if Yokemounted == nil then return 0 else return Yokemounted and 8.0 or 0 end</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <LuaExpression Name="ObjectInfo">
   <Formula>NOBN_sig_getSignalPartNames()</Formula>
  </LuaExpression>
  <LuaExpression Name="sight">
   <Formula>NOBN_sig_getSignalSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Veisignal">
   <Variant Name="Veisignal/Enkelt signal mot vei">
    <SetValue Key="name" Value="V.(enkeltspor)"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
   </Variant>
   <Variant Name="Veisignal/Dobbelt signal mot vei">
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
    <SetValue Key="name" Value="V.(flerspor)"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Veisignal/Enkelt signal mot vei" DisplayName="Planovergang/Enkelt signal mot vei" DisplayBlockName="NO-BN-2D-JBTSA_SIG-VEISIGNAL-1-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="6.0">
   <OwnAlignmentTargetSpace>vei</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Veisignal/Dobbelt signal mot vei" DisplayName="Planovergang/Dobbelt signal mot vei" DisplayBlockName="NO-BN-2D-JBTSA_SIG-VEISIGNAL-2-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="6.0">
   <OwnAlignmentTargetSpace>vei</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_THUMBNAIL-UNSPECIFIED-SCHEMATIC" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_SIG-VEISIGNAL
				{% if Variant == 'Veisignal/Enkelt signal mot vei' %}1
				{% elsif Variant == 'Veisignal/Dobbelt signal mot vei' %}2
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="signalfundament"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTTE_RAC Telerack" Layer="JBTTE_RAC" Color="ByLayer" Group="Tele/Stativer" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>telerack</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTTE@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTTE@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTTE@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Tele"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Telerack">
   <Variant Name="Telerack">
    <SetValue Key="name" Value="Telerack"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-JBTTE-TELERACK"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Telerack" DisplayBlockName="NO-BN-2D-JBTTE_RAC-TELERACK-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTTE_RAC-TELERACK-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTTE_TLT Telefon" Layer="JBTTE_TLT" Color="ByLayer" Group="Tele/Telefon" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>telefon</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTTE@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTTE@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTTE@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Tele"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Telefon langs spor">
   <Variant Name="Telefon langs spor">
    <SetValue Key="Model3DName" Value="NO-BN-3D-JBTTE-TELEFON-LANGS-SPOR"/>
   </Variant>
  </Variants>
  <LuaExpression Name="name">
   <Formula>"Tlf."..code</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Telefon langs spor" DisplayBlockName="NO-BN-2D-JBTTE_TLT-TELEFON-LANGS-SPOR-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTTE_TLT-TELEFON-LANGS-SPOR-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEL_LYA Lysarmatur" Layer="JBTEL_LYA" Color="ByLayer" Group="Lavspent/Belysning" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>belysning</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTEL@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTEL@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTEL@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Lavspent"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Object"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Lysarmatur">
   <Variant Name="Lysarmatur"/>
  </Variants>
  <CustomAttribute DataType="String" Name="EL_LYA_Subvariant" DisplayName="Lysarmatur type" DefaultValue="Armatur" Description="The lighting fixture's type [freetext], e.g. 'Ukjent' (unknown), 'Armatur'."/>
  <CustomAttribute DataType="UInt32" Name="EL_LYA_Power" DisplayName="Lysarmatur effekt" DefaultValue="26" Description="The lighting fixture's power [W]."/>
  <CustomAttribute DataType="String" Name="EL_LYA_Producer" DisplayName="Lysarmatur fabrikant" DefaultValue="Ukjent" Description="The lighting fixture's producer [freetext], e.g. 'Ukjent' (unknown), 'Glamox', 'Sebra light'."/>
  <CustomAttribute DataType="String" Name="EL_LYA_ProductType" DisplayName="Lysarmatur typebetegnelse" DefaultValue="Ukjent" Description="The lighting fixture's product type [freetext], e.g. 'Ukjent' (unknown), 'Glow 300'."/>
  <CustomAttribute DataType="Enumeration" Name="EL_LYA_BatteryBackup" DisplayName="Lysarmatur batteribackup" DefaultValue="Nei" Description="The lighting fixture's battery backup requirement [ Nei (none) | Ja, krav til oppetid (Yes, required) ].">
   <Values>
    <Value>Nei</Value>
    <Value>Ja, krav til oppetid</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="String" Name="EL_LYA_LightFixtureRalColorCode" DisplayName="Lysarmatur RAL-kode" DefaultValue="Ukjent" Description="The lighting fixture's RAL color code [ Ukjent (unknown) | &lt;RAL code text string&gt; ]."/>
  <SetValue Key="dir" Value="up"/>
  <InsertPointObject VariantName="Lyspunkt" DisplayBlockName="NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0.0">
   <OwnAlignmentTargetSpace>hjelpelinje</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="up"/>
   <SetValue Key="name" Value="Lysarmatur"/>
   <SetValue Key="PoleRouting3D" Value="None"/>
   <SetValue Key="Model3DName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR-Geographic" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEL_LYS Lys" Layer="JBTEL_LYS" Color="ByLayer" Group="Lavspent/Belysning" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>belysning</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTEL@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTEL@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTEL@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Lavspent"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Ukjent">
   <Variant Name="Ukjent">
    <SetValue Key="SubVariant" Value="Punkt"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="EarthingMethod" Value="Unknown"/>
   </Variant>
   <Variant Name="Arealbelysning">
    <SetValue Key="SubVariant" Value="1-lys"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="EarthingMethod" Value="Rail"/>
    <SetValue Key="dir" Value="both"/>
    <SetValue Key="EL_LYS_MastHeight" Value="4000"/>
    <SetValue Key="EL_LYS_Arm" Value="500"/>
    <SetValue Key="Model3dName" Value="NO-BN-3D-EL-LYS-LYSMAST-{{SubVariant}}-U{{EL_LYS_Arm}}-H{EL_LYS_MastHeight}}-{{EL_LYS_Foundation}}"/>
   </Variant>
   <Variant Name="Armatur i åk">
    <SetValue Key="SubVariant" Value="1-lys"/>
    <SetValue Key="PoleRouting" Value="Vertical"/>
    <SetValue Key="dir" Value="both"/>
    <SetValue Key="Offset3D.Z" Value="0.25"/>
    <SetValue Key="EarthingMethod" Value="None"/>
   </Variant>
   <Variant Name="Belysning adkomst/gangvei, i tak">
    <SetValue Key="SubVariant" Value="Punkt"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="dir" Value="up"/>
    <SetValue Key="EarthingMethod" Value="Object"/>
    <SetValue Key="Model3dName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"/>
   </Variant>
   <Variant Name="Belysning adkomst/gangvei, på gulv">
    <SetValue Key="SubVariant" Value="Punkt"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="dir" Value="up"/>
    <SetValue Key="EarthingMethod" Value="Object"/>
    <SetValue Key="Model3dName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"/>
    <SetValue Key="Rotation3D.Y" Value="180"/>
   </Variant>
   <Variant Name="Belysning adkomst/gangvei, på vegg">
    <SetValue Key="SubVariant" Value="Punkt"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="dir" Value="up"/>
    <SetValue Key="EarthingMethod" Value="Object"/>
    <SetValue Key="Model3dName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"/>
    <SetValue Key="Rotation3D.Y" Value="{% if LeftSided %}90{% else %}-90{% endif %}"/>
   </Variant>
   <Variant Name="Belysning for vei/parkering">
    <SetValue Key="SubVariant" Value="1-lys"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="EarthingMethod" Value="Wire"/>
    <SetValue Key="dir" Value="both"/>
    <SetValue Key="EL_LYS_MastHeight" Value="4000"/>
    <SetValue Key="EL_LYS_Arm" Value="500"/>
    <SetValue Key="Model3dName" Value="=NOBN_EL_LYS_Model3dName()"/>
   </Variant>
   <Variant Name="Belysning utvendig bygg">
    <SetValue Key="SubVariant" Value="Punkt"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="EarthingMethod" Value="Object"/>
    <SetValue Key="dir" Value="both"/>
    <SetValue Key="Model3dName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-UTENDØRS-REKTANGULÆR-Ø76"/>
   </Variant>
   <Variant Name="Nedfelt markeringslys på plattform">
    <SetValue Key="SubVariant" Value="Punkt"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="EarthingMethod" Value="Object"/>
    <SetValue Key="dir" Value="up"/>
    <SetValue Key="Model3dName" Value="(har ikke 3D for {{Variant}})"/>
   </Variant>
   <Variant Name="Nødbelysning">
    <SetValue Key="SubVariant" Value="Punkt"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="EarthingMethod" Value="Object"/>
    <SetValue Key="dir" Value="up"/>
    <SetValue Key="Model3dName" Value="(har ikke 3D for {{Variant}})"/>
   </Variant>
   <Variant Name="Nødbelysning i/under/ved håndløper">
    <SetValue Key="SubVariant" Value="Punkt"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="EarthingMethod" Value="Rail"/>
    <SetValue Key="dir" Value="up"/>
    <SetValue Key="Model3dName" Value="(har ikke 3D for {{Variant}})"/>
    <SetValue Key="Rotation3D.Y" Value="180"/>
   </Variant>
   <Variant Name="Plattformbelysning på mast">
    <SetValue Key="SubVariant" Value="1-lys"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="EarthingMethod" Value="Rail"/>
    <SetValue Key="dir" Value="both"/>
    <SetValue Key="EL_LYS_MastHeight" Value="4000"/>
    <SetValue Key="EL_LYS_Arm" Value="500"/>
    <SetValue Key="Model3dName" Value="NO-BN-3D-EL-LYS-LYSMAST-{{SubVariant}}-U{{EL_LYS_Arm}}-H{EL_LYS_MastHeight}}{% if EL_LYS_Foundation == 'Ja' %}-{{ EL_LYS_Foundation }}{% endif %}"/>
   </Variant>
   <Variant Name="Plattformbelysning på vegg">
    <SetValue Key="SubVariant" Value="Punkt"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="dir" Value="up"/>
    <SetValue Key="EarthingMethod" Value="Rail"/>
    <SetValue Key="Model3dName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"/>
    <SetValue Key="Rotation3D.Y" Value="{% if LeftSided %}90{% else %}-90{% endif %}"/>
   </Variant>
   <Variant Name="Plattformbelysning under tak">
    <SetValue Key="SubVariant" Value="Punkt"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="EarthingMethod" Value="Rail"/>
    <SetValue Key="dir" Value="up"/>
    <SetValue Key="Model3dName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"/>
   </Variant>
   <Variant Name="Plattformbelysning under tak, opplys">
    <SetValue Key="SubVariant" Value="Punkt"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="EarthingMethod" Value="Rail"/>
    <SetValue Key="dir" Value="up"/>
    <SetValue Key="Model3dName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"/>
    <SetValue Key="Rotation3D.Y" Value="180"/>
   </Variant>
   <Variant Name="Sporvekselbelysning">
    <SetValue Key="SubVariant" Value="1-lys"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="EarthingMethod" Value="Rail"/>
    <SetValue Key="dir" Value="both"/>
    <SetValue Key="Model3dName" Value="NO-BN-3D-EL-LYS-LYSMAST-{{SubVariant}}-U{{EL_LYS_Arm}}-H{EL_LYS_MastHeight}}{% if EL_LYS_Foundation == 'Ja' %}-{{ EL_LYS_Foundation }}{% endif %}"/>
   </Variant>
   <Variant Name="Tunnelbelysning">
    <SetValue Key="SubVariant" Value="Punkt"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="EarthingMethod" Value="Rail"/>
    <SetValue Key="dir" Value="up"/>
    <SetValue Key="Model3dName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"/>
    <SetValue Key="Rotation3D.Y" Value="{% if LeftSided %}45{% else %}-45{% endif %}"/>
   </Variant>
   <Variant Name="Øvrige">
    <SetValue Key="SubVariant" Value="Ukjent"/>
    <SetValue Key="PoleRouting" Value="None"/>
    <SetValue Key="EarthingMethod" Value="Unknown"/>
   </Variant>
  </Variants>
  <SetValue Key="EL_LYS_Foundation" Value="Ja"/>
  <CustomAttribute DataType="Enumeration" Name="EL_LYS_SubVariant" DisplayName=" Lys type" DefaultValue="Ukjent" Description="The lighting fixture subvariant (the available selections depend on the main variant).">
   <Values Variant="Ukjent">
    <Value>Ukjent</Value>
   </Values>
   <Values Variant="Arealbelysning">
    <Value>4-lys</Value>
    <Value>3-lys-T</Value>
    <Value>3-lys</Value>
    <Value>2-lys-V</Value>
    <Value>2-lys</Value>
    <Value>1-lys</Value>
    <Value>1-lys (trinnløs)</Value>
   </Values>
   <Values Variant="Armatur i åk">
    <Value>2-lys</Value>
    <Value>1-lys</Value>
   </Values>
   <Values Variant="Belysning adkomst/gangvei, i tak">
    <Value>Punkt</Value>
   </Values>
   <Values Variant="Belysning adkomst/gangvei, på gulv">
    <Value>Punkt</Value>
   </Values>
   <Values Variant="Belysning adkomst/gangvei, på vegg">
    <Value>Punkt</Value>
   </Values>
   <Values Variant="Belysning for vei/parkering">
    <Value>Punkt</Value>
   </Values>
   <Values Variant="Belysning utvendig bygg">
    <Value>Punkt</Value>
   </Values>
   <Values Variant="Nedfelt markeringslys på plattform">
    <Value>Punkt</Value>
   </Values>
   <Values Variant="Nødbelysning">
    <Value>Punkt</Value>
   </Values>
   <Values Variant="Nødbelysning i/under/ved håndløper">
    <Value>Punkt</Value>
   </Values>
   <Values Variant="Plattformbelysning på mast">
    <Value>4-lys</Value>
    <Value>3-lys-T</Value>
    <Value>3-lys</Value>
    <Value>2-lys-V</Value>
    <Value>2-lys</Value>
    <Value>1-lys</Value>
    <Value>1-lys (trinnløs)</Value>
   </Values>
   <Values Variant="Plattformbelysning på vegg">
    <Value>Punkt</Value>
   </Values>
   <Values Variant="Plattformbelysning under tak">
    <Value>Punkt</Value>
   </Values>
   <Values Variant="Plattformbelysning under tak, opplys">
    <Value>Punkt</Value>
   </Values>
   <Values Variant="Sporvekselbelysning">
    <Value>4-lys</Value>
    <Value>3-lys-T</Value>
    <Value>3-lys</Value>
    <Value>2-lys-V</Value>
    <Value>2-lys</Value>
    <Value>1-lys</Value>
    <Value>Punkt</Value>
   </Values>
   <Values Variant="Tunnelbelysning">
    <Value>Punkt</Value>
   </Values>
   <Values Variant="Øvrige">
    <Value>4-lys</Value>
    <Value>3-lys-T</Value>
    <Value>3-lys</Value>
    <Value>2-lys-V</Value>
    <Value>2-lys</Value>
    <Value>1-lys</Value>
    <Value>Punkt</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="UInt32" Name="EL_LYS_MastHeight" DisplayName="Lys mastehøyde" DefaultValue="5000" Description="The lighting fixture's mast height [mm]. Note: 3D model name will be deduced in steps of 250 mm from 0 to 1000, thereafter in steps of 500 mm."/>
  <CustomAttribute DataType="Enumeration" Name="EL_LYS_Foundation" DisplayName="Lysmast fundament" DefaultValue="-" Description="'Ja' if the light mast comes with an integrated steel foundation, otherwise '-' (default) if no foundation is required.">
   <Values Variant="Ukjent">
    <Value>Ja</Value>
    <Value>-</Value>
   </Values>
   <Values Variant="Arealbelysning">
    <Value>Ja</Value>
    <Value>-</Value>
   </Values>
   <Values Variant="Armatur i åk">
    <Value>-</Value>
   </Values>
   <Values Variant="Belysning adkomst/gangvei, i tak">
    <Value>-</Value>
   </Values>
   <Values Variant="Belysning adkomst/gangvei, på gulv">
    <Value>-</Value>
   </Values>
   <Values Variant="Belysning adkomst/gangvei, på vegg">
    <Value>-</Value>
   </Values>
   <Values Variant="Belysning for vei/parkering">
    <Value>Ja</Value>
    <Value>-</Value>
   </Values>
   <Values Variant="Belysning utvendig bygg">
    <Value>-</Value>
   </Values>
   <Values Variant="Nedfelt markeringslys på plattform">
    <Value>-</Value>
   </Values>
   <Values Variant="Nødbelysning">
    <Value>-</Value>
   </Values>
   <Values Variant="Nødbelysning i/under/ved håndløper">
    <Value>-</Value>
   </Values>
   <Values Variant="Plattformbelysning på mast">
    <Value>Ja</Value>
    <Value>-</Value>
   </Values>
   <Values Variant="Plattformbelysning på vegg">
    <Value>-</Value>
   </Values>
   <Values Variant="Plattformbelysning under tak">
    <Value>-</Value>
   </Values>
   <Values Variant="Plattformbelysning under tak, opplys">
    <Value>-</Value>
   </Values>
   <Values Variant="Sporvekselbelysning">
    <Value>Ja</Value>
    <Value>-</Value>
   </Values>
   <Values Variant="Tunnelbelysning">
    <Value>-</Value>
   </Values>
   <Values Variant="Øvrige">
    <Value>Ja</Value>
    <Value>-</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="UInt32" Name="Number" DisplayName="Antall" DefaultValue="1" Description="The number of identical (or similar) lighting Descriptions."/>
  <CustomAttribute DataType="String" Name="EL_LYS_Producer" DisplayName="Lys fabrikant" DefaultValue="Ukjent" Description="The lighting fixture's producer [freetext], e.g. 'Ukjent' (unknown), 'Glamox', 'Sebra light'."/>
  <CustomAttribute DataType="String" Name="EL_LYS_ProductType" DisplayName="Lys typebetegnelse" DefaultValue="Ukjent" Description="The lighting fixture's product type [freetext], e.g. 'Ukjent' (unknown), 'Glow 300'."/>
  <CustomAttribute DataType="UInt32" Name="EL_LYS_Power" DisplayName="Lys effekt" DefaultValue="26" Description="The lighting fixture's power [W] per specimen."/>
  <CustomAttribute DataType="String" Name="EL_LYS_PowerSource" DisplayName="Lys strømforsynes fra" DefaultValue="Ukjent" Description="The lighting fixture's power source [freetext], e.g. 'Ukjent' (unknown), 'Hovedtavle bygg E', 'El.teknisk hus H1'."/>
  <CustomAttribute DataType="UInt32" Name="EL_LYS_TotalPower" DisplayName="Lys total effekt" DefaultValue="0.026" Description="The lighting fixture(s)' total power consumption [kW], for all concerned specimens collectively."/>
  <CustomAttribute DataType="String" Name="EL_LYS_ControlType" DisplayName="Lys styring" DefaultValue="Ukjent" Description="The lighting control system [ Ukjent (unknown) | Ingen (none) | Fotocelle | TIOS | Tidsstyrt | Togleder/TXP/El-kraft sentral | Øvrige ].">
   <Values>
    <Value>Ukjent</Value>
    <Value>Ingen</Value>
    <Value>Fotocelle</Value>
    <Value>TIOS</Value>
    <Value>Tidsstyrt</Value>
    <Value>Togleder/TXP/El-kraft sentral</Value>
    <Value>Øvrige</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="EL_LYS_BatteryBackup" DisplayName="Lys batteribackup" DefaultValue="Nei" Description="The lighting fixture's battery backup requirement [ Nei (none) | Ja, krav til oppetid (Yes, required) ].">
   <Values>
    <Value>Nei</Value>
    <Value>Ja, krav til oppetid</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="String" Name="EL_LYS_DrawingNumber" DisplayName="Lys tegningsnummer" DefaultValue="Ukjent" Description="The distribution panel's layout drawing's archive number [freetext], e.g. 'EL.108788-000', 'IUP-00-N-00648'."/>
  <CustomAttribute DataType="Enumeration" Name="EL_LYS_LightTechnique" DisplayName="Lys type lyskilde" DefaultValue="Nei" Description="The lighting fixture's battery backup requirement [ Nei (none) | Ja, krav til oppetid (Yes, required) ].">
   <Values>
    <Value>Nei</Value>
    <Value>Ja, krav til oppetid</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="String" Name="EL_LYS_IpAddress" DisplayName="Lys IP-adresse" DefaultValue="Ukjent" Description="The distribution panel's IP adresse identity [freetext], e.g. '192.86.123.03', 'Ukjent' (unknown), 'Ingen' (none)."/>
  <CustomAttribute DataType="String" Name="EL_LYS_RalColorCode" DisplayName="Lys RAL-kode" DefaultValue="Ukjent" Description="The lighting fixture's RAL color code [ Ukjent (unknown) | &lt;RAL code text string&gt; ]."/>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Arealbelysning" DisplayBlockName="NO-BN-2D-JBTEL_LYS-BELYSNING-LYSMAST-1-LYS" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <OwnAlignmentTargetSpace>hjelpelinje</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="name" Value="Arealbelysning"/>
   <SetValue Key="Model3DName" Value="NO-BN-3D-EL-LYS-LYSMAST-1-LYS-U500-H4000"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Kvadratisk armatur" DisplayBlockName="NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="1.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <OwnAlignmentTargetSpace>hjelpelinje</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="name" Value="Lysarmatur"/>
   <SetValue Key="PoleRouting3D" Value="Vertical"/>
   <SetValue Key="Offset3D.Z" Value="1.0"/>
   <SetValue Key="Model3DName" Value="NO-BN-3D-EL-LYA-ARMATUR-I-ÅK"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-
				{% if Variant == 'Arealbelysning' %}JBTEL_LYS-BELYSNING-LYSMAST-1-LYS
				{% else %}JBTEL_LYA-BELYSNING-ARMATUR
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEL_FSP Fordelingsskap" Layer="JBTEL_FSP" Color="ByLayer" Group="Lavspent/Skap" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>fordelingsskap</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTEL@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTEL@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTEL@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Lavspent"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Fordelingsskap">
   <Variant Name="Fordelingsskap"/>
  </Variants>
  <CustomAttribute DataType="String" Name="EL_FSP_FeederCableType" DisplayName="Fordelingsskap forsyningskabel type" DefaultValue="Ukjent" Description="The distribution panel's feeder cable type [ &lt;Type&gt; &lt;Conductors&gt;x&lt;mm2&gt; &lt;Material&gt; ], e.g. 'TFSP 3x50 Al'."/>
  <CustomAttribute DataType="Double" Name="EL_FSP_OverloadProtection" DisplayName="Fordelingsskap overbelastningsvern" DefaultValue="Ukjent" Description="The overload protection's fuse [A]."/>
  <CustomAttribute DataType="String" Name="EL_FSP_DistributionTarget" DisplayName="Fordelingsskap fordeling til anlegg" DefaultValue="Ukjent" Description="The distribution panel's target system to which power is fed [freetext], e.g. 'Togvarme, batteriskap', 'Effektbrytere'."/>
  <CustomAttribute DataType="String" Name="EL_FSP_EnergyMeterID" DisplayName="Fordelingsskap målerpunkt ID" DefaultValue="Ukjent" Description="The ID of the distribution panel's energy meter [freetext], e.g. '65801608'."/>
  <CustomAttribute DataType="String" Name="EL_FSP_DistributionSource" DisplayName="Fordelingsskap forsynes fra" DefaultValue="Ukjent" Description="The distribution panel's source system from which power is received [freetext], e.g. 'Glitre', 'EB nett' etc."/>
  <CustomAttribute DataType="Enumeration" Name="EL_FSP_DistributionSystem" DisplayName="Fordelingsskap fordelingssystem" DefaultValue="Ukjent" Description="The distribution panel's distribution system type [ Ukjent | IT | IT fra KL-anlegget | KL | TN-C | TN-C-S | TN-S | TT ].">
   <Values>
    <Value>Ukjent</Value>
    <Value>IT</Value>
    <Value>IT fra KL-anlegget</Value>
    <Value>KL</Value>
    <Value>TN-C</Value>
    <Value>TN-C-S</Value>
    <Value>TN-S</Value>
    <Value>TT</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="EL_FSP_DistributionVoltage" DisplayName="Fordelingsskap spenning" DefaultValue="Ukjent" Description="The distribution panel's voltage [ Ukjent | 1000 | 230 | 400 | 690 | KL | Lavere enn 230 ].">
   <Values>
    <Value>Ukjent</Value>
    <Value>1000</Value>
    <Value>230</Value>
    <Value>400</Value>
    <Value>690</Value>
    <Value>KL</Value>
    <Value>Lavere enn 230</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="Enumeration" Name="EL_FSP_DistributionPhases" DisplayName="Fordelingsskap antall faser" DefaultValue="Ukjent" Description="The distribution panel's phases [ Ukjent | 1 | 2 | 3 | 3 + N ].">
   <Values>
    <Value>Ukjent</Value>
    <Value>1</Value>
    <Value>2</Value>
    <Value>3</Value>
    <Value>3 + N</Value>
   </Values>
  </CustomAttribute>
  <CustomAttribute DataType="String" Name="EL_FSP_MainFuseType" DisplayName="Fordelingsskap Hovedsikring type" DefaultValue="Ukjent" Description="The distribution panel's main fuse type [freetext], e.g. 'Automatsikring', 'K&amp;M, IZM, 10-400N', 'LH-00'."/>
  <CustomAttribute DataType="String" Name="EL_FSP_DistributionId" DisplayName="Fordelingsskap ID" DefaultValue="Ukjent" Description="The distribution panel's own identity [freetext], e.g. 'A6-TA2, Skamarken', 'Fordeling B1'."/>
  <CustomAttribute DataType="String" Name="EL_FSP_DrawingNumber" DisplayName="Fordelingsskap tegningsnummer" DefaultValue="Ukjent" Description="The distribution panel's layout drawing's archive number [freetext], e.g. 'EL.108788-000', 'IUP-00-N-00648'."/>
  <CustomAttribute DataType="String" Name="EL_FSP_IpAddress" DisplayName="Fordelingsskap IP-adresse" DefaultValue="Ukjent" Description="The distribution panel's IP adresse identity [freetext], e.g. '192.86.123.03', 'Ukjent' (unknown), 'Ingen' (none)."/>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <InsertPointObject VariantName="Fordelingsskap" DisplayBlockName="NO-BN-2D-JBTEL_FSP-SKAP-FORDELINGSSKAP-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="name" Value="Fordelingsskap"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_FSP-SKAP-FORDELINGSSKAP" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEL_FSP-SKAP
				{% if Variant == 'Fordelingsskap' %}FORDELINGSSKAP
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEL_SVG Gruppeskap" Layer="JBTEL_SVG" Color="ByLayer" Group="Lavspent/Skap" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>gruppeskap</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTEL@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTEL@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTEL@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Lavspent"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Gruppeskap">
   <Variant Name="Gruppeskap"/>
  </Variants>
  <InsertPointObject VariantName="Gruppeskap" DisplayBlockName="NO-BN-2D-JBTEL_SVG-SKAP-GRUPPESKAP-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="name" Value="Gruppeskap"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_SVG-SKAP-GRUPPESKAP-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEL_SVG-SKAP
				{% if Variant == 'Gruppeskap' %}GRUPPESKAP
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEL_TVP Togvarmepost" Layer="JBTEL_TVP" Color="ByLayer" Group="Lavspent/Skap" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>togvarmepost</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTEL@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTEL@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTEL@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Lavspent"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Togvarmepost">
   <Variant Name="Togvarmepost"/>
  </Variants>
  <InsertPointObject VariantName="Togvarmepost" DisplayBlockName="NO-BN-2D-JBTEL_TVP-SKAP-TOGVARMEPOST-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="name" Value="Togvarmepost"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_TVP-SKAP-TOGVARMEPOST" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEL_TVP-SKAP
				{% if Variant == 'Togvarmepost' %}TOGVARMEPOST
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEL_TRF Transformator" Layer="JBTEL_TRF" Color="ByLayer" Group="Lavspent/Transformatorer" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>lavspent_transformator</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTEL@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTEL@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTEL@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Lavspent"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Transformator">
   <Variant Name="Transformator"/>
  </Variants>
  <InsertPointObject VariantName="Transformator" DisplayBlockName="NO-BN-2D-JBTEL_TRF-TRANSFORMATOR-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="name" Value="Transformator"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_TRF-TRANSFORMATOR" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEL_TRF
				{% if Variant == 'Transformator' %}TRANSFORMATOR
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" Name="JBTEL_UPS UPS fordeler" Layer="JBTEL_UPS" Color="ByLayer" Group="Lavspent/UPS" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>ups_fordeler</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTEL@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTEL@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTEL@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Lavspent"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="UPS fordeler">
   <Variant Name="UPS fordeler"/>
  </Variants>
  <InsertPointObject VariantName="UPS fordeler" DisplayBlockName="NO-BN-2D-JBTEL_UPS-UPS-FORDELER-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="name" Value="UPS fordeler"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_UPS-UPS-FORDELER" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEL_UPS
				{% if Variant == 'UPS fordeler' %}UPS-FORDELER
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
 </ObjectType>
 <LuaFunction Name="NOBN_bnp_getBoardOrPoleName()" ReturnType="String" Description="Returns a short type name for signs (boards and poles), according to the object's variant.">
  <Constructor>String NOBN_bnp_getBoardOrPoleName()</Constructor>
  <Formula>
			function NOBN_bnp_getBoardOrPoleName()
				if Variant:find("ERTMS Planovergang, forsignal") then 
					return "Fs-PLO"
				elseif Variant:find("ERTMS Planovergang, signal") then 
					return "PLO"
				elseif Variant:find("ERTMS Planovergang, signal") then
					s = s.."PLO"
				elseif Variant:find("ERTMS Planovergang, forsignal") then
					s = s.."PLO-Fs"
				elseif Variant:find("ERTMS Shunting Area begynner") then
					s = s.."Sh.start"
				elseif Variant:find("ERTMS Shunting Area slutter") then
					s = s.."Sh.slutt"
				elseif Variant:find("ERTMS Supervised Area slutter")
					then s = s.."Sup.slutt"
				elseif Variant:find("Bevegelig kryss") then
					return "Bev.X"
				elseif Variant:find("refleks") then
					return "Refl."
				elseif Variant:find("Baliseskilt") then
					return "Balise"
				elseif Variant:find("innkoblet") then
					return "Innkobl."
				elseif Variant:find("utkoblet") then
					return "Utkobl."
				elseif Variant:find("Nødtelefon") then
					return "Nødtlf."
				elseif Variant:find("1000V") then
					return "1000V"
				elseif Variant:find("se og lytt") then
					return "Se/lytt"
				elseif Variant:find("enkeltspor") then --Veisignal
					return "138"
				elseif Variant:find("flere spor") then --Veisignal
					return "138-fler"
				elseif Variant:find("Sidespor") then
					return "Ssp."
				elseif Variant:find("Kjedebrudd") then
					return "Kj.br."
				elseif Variant:find("meterangivelse") then
					return "Meterang."
				elseif Variant:find("Spornummer") then
					return "Spornr"
				elseif Variant:find("Anleggsområde") then
					return "Anl.omr."
				elseif Variant:find("Rømningsavstand") then
					local s,r,n
					s = "Har markør"
					r,n = RC__getCollectionOfRelatedObjects(s)
					if n == 0 then 
						return "UNFINISHED - Relate with '"..s.."' to one or two marker objects (marking the escape route entrances)."
					else
						return "Rømn.avst."
					end
				elseif Variant:find("Arbeidsområdeskilt Type 1%-2") then
					return "Ao type 1-2"
				elseif Variant:find("Arbeidsområdeskilt Type 1%-3") then
					return "Ao type 1-3"
				elseif Variant:find("Arbeidsområdeskilt Type 2%-2") then
					return "Ao type 2-2"
				elseif Variant:find("Arbeidsområdeskilt Type 2%-3") then
					return "Ao type 2-3"	
				elseif Variant:find("Arbeidsområdeskilt Orienterende") then
					return "Ao type Orient."
				elseif Variant:match("%d+%w+-%d") then
					return Variant:match("%d+%w+-%d")
				elseif Variant:match("%d+-%w+") then
					return Variant:match("%d+-%w+")
				elseif Variant:match("%d+%w+") then
					return Variant:match("%d+%w+")
				end
			end
        </Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_bnp_getEscapeDistanceBoardTexts()" ReturnType="String" Description="Returns a table {'Left'=Lval,'Right'=Rval} with distance to nearest related marker. Default step 10, default offset 0. '?':missing marker, '+':multiple markers found.">
  <Constructor>String NOBN_bnp_getEscapeDistanceBoardTexts([Int step[, Int offset]])</Constructor>
  <Formula>
			function NOBN_bnp_getEscapeDistanceBoardTexts(step,offset)
				local r,n,s,t,i,k,downIndex,upIndex
				if step == nil then 
					step = 10
				else
					step = math.floor(math.abs(step))
					if step == 0 then 
						step = 10 
					end
				end
				if offset == nil then offset = 0 end
				if this.RcType ~= "KO-SKT Rømningsavstand" then
					return _warning,"Bad object type ["..RcType.."], 'KO-SKT Rømningsavstand' was expected"
				else
					relationName = "Har markør"
					r,n = RC__getCollectionOfRelatedObjects(relationName)
					s = {}
					t = {}
					for i = 1, n do
						table.insert(t,r[i-1].ReferenceMileage) --collection r is indexed from 0
					end
					t = RC__sortTable(t)
					k = 0
					for i = 1, n do
						if ReferenceMileage &gt; t[i] then
							k = k + 1
						end
					end
					if leftSided then
						downIndex = "Left"
						upIndex = "Right"
					else
						downIndex = "Right"
						upIndex = "Left"
					end
					if k == 0 then
						s[downIndex] = "?"
					elseif k == 1 then
						s[downIndex] = math.floor((offset + ReferenceMileage - t[k] + step/2)/step)*step
					elseif k &gt;= 1 then
						s[downIndex] = math.floor((offset + ReferenceMileage - t[k] + step/2)/step)*step.."+"
					end
					if k == n then
						s[upIndex] = "?"
					elseif k == n-1 then
						s[upIndex] = math.floor((offset + t[k+1] - ReferenceMileage + step/2)/step)*step
					elseif k &lt;= n-2 then
						s[upIndex] = math.floor((offset + t[k+1] - ReferenceMileage + step/2)/step)*step.."+"
					end
				end
				return s
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_bnp_getEscapeDistanceBoardTextLeft()" ReturnType="String" Description="Returns distance from escape route board to a left-sided related marker. '?':No marker found in arrow direction. '+':Multiple markers found in arrow direction. denoting the emergency exit (with optional step and offset). Default step size is 10. Default offset is 0.">
  <Constructor>String NOBN_bnp_getEscapeDistanceBoardTextLeft([[Int step[, Int offset]])</Constructor>
  <Formula>
			function NOBN_bnp_getEscapeDistanceBoardTextLeft(step,offset)
				if Variant:lower():match("venstre") or Variant:lower():match("begge") then
						return NOBN_bnp_getEscapeDistanceBoardTexts(step,offset)["Left"] 
					else 
						return "-",_info("Relate escape distance board to a marker with relation 'Har markør'.")
				end
			end
		</Formula>
 </LuaFunction>
 <LuaFunction Name="NOBN_bnp_getEscapeDistanceBoardTextRight()" ReturnType="String" Description="Returns distance from escape route board to a right-sided related marker. '?':No marker found in arrow direction. '+':Multiple markers found in arrow direction. denoting the emergency exit (with optional step and offset). Default step size is 10. Default offset is 0.">
  <Constructor>String NOBN_bnp_getEscapeDistanceBoardTextRight([[Int step[, Int offset]])</Constructor>
  <Formula>
			function NOBN_bnp_getEscapeDistanceBoardTextRight(step,offset)
					if Variant:lower():match("høyre") or Variant:lower():match("begge") then
						return NOBN_bnp_getEscapeDistanceBoardTexts(step,offset)["Right"]
					else 
						return "-",_info("Relate escape distance board to a marker with relation 'Har markør'.")
					end
			end
		</Formula>
 </LuaFunction>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTSA_MSS Refleks på lyssignal" DrawTail="true" Layer="JBTSA_MSS" Color="ByLayer" Group="Skilt/Kjørende personell/Reflekser" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="signal" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="1.4" Y="30" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="30" Layer="JBTSA@TAG" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="30" Layer="JBTSA@INFO" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Hel refleksring for Ø127 signalmast">
   <Variant Name="Hel refleksring for Ø127 signalmast">
    <SetValue Key="PoleRouting3D" Value="None"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-REFLEKS-HEL-RING-Ø127"/>
   </Variant>
   <Variant Name="Halv refleksring for Ø127 signalmast">
    <SetValue Key="PoleRouting3D" Value="None"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-REFLEKS-HALV-RING-Ø127"/>
   </Variant>
   <Variant Name="Flat ensidet refleks for lyssignal">
    <SetValue Key="PoleRouting3D" Value="Vertical"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-REFLEKS-FLAT-ENKELSIDET"/>
   </Variant>
  </Variants>
  <LuaExpression Name="Offset3D.Z">
   <Formula>
				if (Attachment.RcType == "JBTSA_SIG Signal") then 
					return 1.84
				elseif (Attachment.RcType == "JBTSA_MSS Refleks på lyssignal") then --stacked reflective markers on one signal, they shall be 80 cm apart according to BN rules
					return 2.91
				else 
					return 0
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Hel refleksring for Ø127 signalmast" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-REFLEKS-HEL-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Halv refleksring for Ø127 signalmast" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-REFLEKS-HALV-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Flat ensidet refleks for lyssignal" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-REFLEKS-HALV-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-REFLEKS-HEL-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-REFLEKS
				{% if Variant == 'Hel refleksring for Ø127 signalmast' %}HEL
				{% elsif Variant == 'Halv refleksring for Ø127 signalmast' %}HALV
				{% elsif Variant == 'Flat ensidet refleks for lyssignal' %}HALV
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTEH_BKT Signal 65 Strømavtager" DrawTail="true" Layer="JBTEH_BKT" Color="ByLayer" Group="Skilt/Kjørende personell/Høyspentanlegg" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="kl-mast" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="7" Layer="JBTEH@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="15" Layer="JBTEH@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="15" Layer="JBTEH@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Signal 65A Jordet seksjon">
   <Variant Name="Signal 65A Jordet seksjon">
    <SetValue Key="Model3DName" Value="NO-BN-3D-EH-BKT-SKILT-65A-JORDET-SEKSJON"/>
   </Variant>
   <Variant Name="Signal 65B Varselsignal for kontaktledningssignal">
    <SetValue Key="Model3DName" Value="NO-BN-3D-EH-BKT-SKILT-65B-VARSELSIGNAL-FOR-KL-SIGNAL"/>
   </Variant>
   <Variant Name="Signal 65C Utkobling foran dødseksjon">
    <SetValue Key="Model3DName" Value="NO-BN-3D-EH-BKT-SKILT-65C-UTKOBLING-FORAN-DØDSEKSJON"/>
   </Variant>
   <Variant Name="Signal 65D Innkobling etter dødseksjon">
    <SetValue Key="Model3DName" Value="NO-BN-3D-EH-BKT-SKILT-65D-INNKOBLING-ETTER-DØDSEKSJON"/>
   </Variant>
   <Variant Name="Signal 65E Senking av strømavtaker">
    <SetValue Key="Model3DName" Value="NO-BN-3D-EH-BKT-SKILT-65E-SENK-STRØMAVTAGER"/>
   </Variant>
   <Variant Name="Signal 65F Heving av strømavtaker">
    <SetValue Key="Model3DName" Value="NO-BN-3D-EH-BKT-SKILT-65F-HEV-STRØMAVTAGER"/>
   </Variant>
   <Variant Name="Signal 65G-1 Stopp for elektrisk lokomotiv">
    <SetValue Key="Model3DName" Value="NO-BN-3D-EH-BKT-SKILT-65G-1-STOPP-FOR-ELEKTRISK-LOK"/>
   </Variant>
   <Variant Name="Signal 65G-2 Stopp for elektrisk lokomotiv, strømløst mot høyre">
    <SetValue Key="Model3DName" Value="NO-BN-3D-EH-BKT-SKILT-65G-2-STOPP-FOR-ELEKTRISK-LOK-H"/>
   </Variant>
   <Variant Name="Signal 65G-3 Stopp for elektrisk lokomotiv, strømløst mot venstre">
    <SetValue Key="Model3DName" Value="NO-BN-3D-EH-BKT-SKILT-65G-3-STOPP-FOR-ELEKTRISK-LOK-V"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Signal 65A Jordet seksjon" DisplayBlockName="NO-BN-2D-JBTEH_BKT_SKILT-KJOERENDE-SIGNAL-65A-JORDETSEKSJON-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 65B Varselsignal for kontaktledningssignal" DisplayBlockName="NO-BN-2D-JBTEH_BKT_SKILT-KJOERENDE-SIGNAL-65B-KONTAKTLEDNING-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 65C Utkobling foran dødseksjon" DisplayBlockName="NO-BN-2D-JBTEH_BKT_SKILT-KJOERENDE-SIGNAL-65C-UTKOBLING-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 65D Innkobling etter dødseksjon" DisplayBlockName="NO-BN-2D-JBTEH_BKT_SKILT-KJOERENDE-SIGNAL-65D-INNKOBLING-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 65E Senking av strømavtaker" DisplayBlockName="NO-BN-2D-JBTEH_BKT_SKILT-KJOERENDE-SIGNAL-65E-SENKSTROEMAVTAKER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 65F Heving av strømavtaker" DisplayBlockName="NO-BN-2D-JBTEH_BKT_SKILT-KJOERENDE-SIGNAL-65F-HEVSTROEMAVTAKER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 65G-1 Stopp for elektrisk lokomotiv" DisplayBlockName="NO-BN-2D-JBTEH_BKT_SKILT-KJOERENDE-SIGNAL-65G-1-STOPPELLOK-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 65G-2 Stopp for elektrisk lokomotiv, strømløst mot høyre" DisplayBlockName="NO-BN-2D-JBTEH_BKT_SKILT-KJOERENDE-SIGNAL-65G-2-STOPPELLOK-VSIDE-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 65G-3 Stopp for elektrisk lokomotiv, strømløst mot venstre" DisplayBlockName="NO-BN-2D-JBTEH_BKT_SKILT-KJOERENDE-SIGNAL-65G-3-STOPPELLOK-HSIDE-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEH_BKT_SKILT-KJOERENDE-SIGNAL-65A-JORDETSEKSJON-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy='-'>
				NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL
				{% if Variant == 'Signal 65A Jordet seksjon' %}65A-JORDETSEKSJON
				{% elsif Variant == 'Signal 65B Varselsignal for kontaktledningssignal' %}65B-KONTAKTLEDNING
				{% elsif Variant == 'Signal 65C Utkobling foran dødseksjon' %}65C-UTKOBLING
				{% elsif Variant == 'Signal 65D Innkobling etter dødseksjon' %}65D-INNKOBLING
				{% elsif Variant == 'Signal 65E Senking av strømavtaker' %}65E-SENKSTROEMAVTAKER
				{% elsif Variant == 'Signal 65F Heving av strømavtaker' %}65F-HEVSTROEMAVTAKER
				{% elsif Variant == 'Signal 65G-1 Stopp for elektrisk lokomotiv' %}65G-1-STOPPELLOK
				{% elsif Variant == 'Signal 65G-2 Stopp for elektrisk lokomotiv, strømløst mot høyre' %}65G-2-STOPPELLOK-VSIDE
				{% elsif Variant == 'Signal 65G-3 Stopp for elektrisk lokomotiv, strømløst mot venstre' %}65G-3-STOPPELLOK-HSIDE
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTKO_SKT Signal 66 Togvei slutt" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Diverse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <AttachTo Category="signal" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="66 Togvei slutt">
   <Variant Name="66 Togvei slutt">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-66-TOGVEI-SLUTT"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="66 Togvei slutt" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-66-TOGVEI-SLUTT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-66-TOGVEI-SLUTT-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTKO_SKT Signal 67 Orienteringssignal" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Orienteringssignaler" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Signal 67A Orienteringssignal">
   <Variant Name="Signal 67A Orienteringssignal">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-67A-ORIENTERINGSSIGNAL"/>
   </Variant>
   <Variant Name="Signal 67B Orienteringssignal for planovergang">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-67B-ORIENTERINGSSIGNAL-FOR-PLANOVERGANG"/>
   </Variant>
   <Variant Name="Signal 67C Orienteringssignal for holdeplass">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-67C-ORIENTERINGSSIGNAL-FOR-HOLDEPLASS"/>
   </Variant>
   <Variant Name="Signal 67D Orienteringssignal for planovergang og holdeplass">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-67D-ORIENTERINGSSIGNAL-FOR-PLANOVERGANG-OG-HOLDEPLASS"/>
   </Variant>
   <Variant Name="Signal 67E Orienteringssignal dagtid">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-67E-ORIENTERINGSSIGNAL-DAGTID"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Signal 67A Orienteringssignal" DisplayName="67A Orienteringssignal" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-67A-ORIENTERINGSIGNAL-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 67B Orienteringssignal for planovergang" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-67B-ORIENTERINGSIGNAL-PLANOVERGANG-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 67C Orienteringssignal for holdeplass" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-67C-ORIENTERINGSIGNAL-HOLDEPLASS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 67D Orienteringssignal for planovergang og holdeplass" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-67D-ORIENTERINGSIGNAL-PLANOVERGANG-HOLDEPLASS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 67E Orienteringssignal dagtid" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-67E-ORIENTERINGSIGNAL-DAGTID-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-67A-ORIENTERINGSIGNAL-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy='-'>
				NO-BN-2D-JBTKO_SKT
				SKILT-KJOERENDE-SIGNAL
				{% if Variant == 'Signal 67A Orienteringssignal' %}67A-ORIENTERINGSIGNAL
				{% elsif Variant == 'Signal 67B Orienteringssignal for planovergang' %}67B-ORIENTERINGSIGNAL-PLANOVERGANG
				{% elsif Variant == 'Signal 67C Orienteringssignal for holdeplass' %}67C-ORIENTERINGSIGNAL-HOLDEPLASS
				{% elsif Variant == 'Signal 67D Orienteringssignal for planovergang og holdeplass' %}67D-ORIENTERINGSIGNAL-PLANOVERGANG-HOLDEPLASS
				{% elsif Variant == 'Signal 67E Orienteringssignal dagtid' %}67E-ORIENTERINGSIGNAL-DAGTID
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTKO_SKT Signal 68/69 hastighetssignal" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Hastighetssignaler" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="signal" DrawTail="true"/>
  <AttachTo Category="kl-mast" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="UInt32" Name="SignSpeed" DisplayName="Hastighet" DefaultValue="120"/>
  <CustomAttribute DataType="UInt32" Name="SignPlusSpeed" DisplayName="Plusshastighet" DefaultValue="5"/>
  <CustomAttribute DataType="UInt32" Name="SignTiltSpeed" DisplayName="Krengetoghastighet" DefaultValue="160"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_SpeedTargetBoardVariant" DisplayName="Markeringsmerke variant" Description="Assessment that the 68D subtype 1/2/3 speed target board matches the presence or absence of a nearby counter-directed 68B 'Increased speed' or 69B 'End of Temporary Speed Restriction'."/>
  <LuaExpression Name="mc_SpeedTargetBoardVariant" IsModelCheck="true">
   <Formula>NOBN_trk_chkSpeedTargetBoardVariant()</Formula>
  </LuaExpression>
  <LuaFunction Name="NOBN_trk_chkSpeedTargetBoardVariant()" ReturnType="String" Description="Model check assessing that the 68D subtype 1/2/3 speed target board matches the presence or absence of a nearby counter-directed 68B 'Increased speed' or 69B 'End of Temporary Speed Restriction">
   <Constructor>String NOBN_trk_chkSpeedTargetBoardVariant()</Constructor>
   <Formula>
				function NOBN_trk_chkSpeedTargetBoardVariant()
					if Variant:match("68D") then 
						local tol = 1.0 --[m]
						local obj68B = getNearbyPointObjects2D(tol,RcType):filter(function (x) return x.Variant:match("68B") end)
						local obj69B = getNearbyPointObjects2D(tol,RcType):filter(function (x) return x.Variant:match("69B") end)
						local n68B = getCollectionLength(obj68B)
						local n69B = getCollectionLength(obj69B)
						if Variant:match("68D%-1") then
							if n68B &gt; 0 then 
								return "WARNING - Variant should be 68D-2 due to the nearby counter-directed board 68B.",_warning
							elseif n69B &gt; 0 then 
								return "WARNING - Variant should be 68D-3 due to the nearby counter-directed board 69B.",_warning
							else 
								return "OK - No nearby counter-directed board 68B or 69B",_ok
							end
						elseif Variant:match("68D%-2") then
							if n68B == 0 and n69B == 0 then 
								return "WARNING - Variant should be 68D-1 since there is no nearby counter-directed board 68B or 69B.",_warning
							elseif n68B == 0 and n69B &gt; 0 then 
								return "WARNING - Variant should be 68D-3 due to the nearby counter-directed board 69B.",_warning
							elseif n68B &gt; 0 then
								return "OK - A nearby counter-directed board 68B was found.",_ok
							end
						elseif Variant:match("68D%-3") then
							if n68B == 0 and n69B == 0 then 
								return "WARNING - Variant should be 68D-1 since there is no nearby counter-directed board 68B or 69B.",_warning
							elseif n68B &gt; 0 and n69B == 0 then 
								return "WARNING - Variant should be 68D-2 due to the nearby counter-directed board 68B.",_warning
							elseif n69B &gt; 0 then
								return "OK - A nearby counter-directed board 69B was found.",_ok
							end
						end
					end
				end
			</Formula>
  </LuaFunction>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NearbySpeedBoardsToBeModelchecked" DisplayName="Nearby boards to be refreshed" Description="When this section object is modelchecked, then nearby speed boards are modelchecked as well."/>
  <LuaExpression Name="mc_NearbySpeedBoardsToBeModelchecked" IsModelCheck="true">
   <Formula>NOBN_sig_chkTriggerNearbySpeedBoards()</Formula>
  </LuaExpression>
  <LuaFunction Name="NOBN_sig_chkTriggerNearbySpeedBoards()" ReturnType="String" Description="Triggers modelchecking in nearby speed boards.">
   <Constructor>NOBN_sig_chkTriggerNearbySpeedBoards()</Constructor>
   <Formula>
				function NOBN_sig_chkTriggerNearbySpeedBoards()
					local tol = 1.0 --[m]
					local speedBoards = getNearbyPointObjects2D(tol,RcType)
					local n = getCollectionLength(speedBoards)
					return n,speedBoards,_info(n.." speed boards have been refreshed.")
				end
			</Formula>
  </LuaFunction>
  <LuaExpression Name="SymbolFrame">
   <Formula>NOBN__setSymbolFrame()</Formula>
  </LuaExpression>
  <Variants DefaultValue="68A Nedsatt hastighet">
   <Variant Name="Signal 68A Nedsatt hastighet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-68A-NEDSATT-KJØREHASTIGHET"/>
   </Variant>
   <Variant Name="Signal 68B Økt hastighet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-68B-ØKT-KJØREHASTIGHET"/>
   </Variant>
   <Variant Name="Signal 68C Avvikende hastighet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-68C-AVVIKENDE-HASTIGHET"/>
   </Variant>
   <Variant Name="Signal 68D-1 Markeringsmerke">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-68D-MARKERINGSMERKE"/>
   </Variant>
   <Variant Name="Signal 68D-2 Markeringsmerke på motrettet 68B">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-68D-MARKERINGSMERKE"/>
   </Variant>
   <Variant Name="Signal 68D-3 Markeringsmerke på motrettet 69B">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-68D-MARKERINGSMERKE"/>
   </Variant>
   <Variant Name="Signal 68F Tilleggshastighet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-68F-TILLEGGSHASTIGHET"/>
   </Variant>
   <Variant Name="Signal 68G Hastighet for krengetog">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-68G-HASTIGHET-FOR-KRENGETOG"/>
   </Variant>
   <Variant Name="Signal 69A Midlertidig nedsatt hastighet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-69A-MIDLERTIDIG-NEDSATT-HASTIGHET"/>
   </Variant>
   <Variant Name="Signal 69B Midlertidig hastighet opphører">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-69B-MIDLERTIDIG-HASTIGHET-OPPHØRER"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Signal 68A Nedsatt hastighet" DisplayName="68A Nedsatt hastighet" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-68A-NEDSATT-HASTIGHET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="SignSpeed" Value="40"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 68B Økt hastighet" DisplayName="68B Økt hastighet" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-68B-OEKT-HASTIGHET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="SignSpeed" Value="80"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 68C Avvikende hastighet" DisplayName="68C Avvikende hastighet" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-68C-NEDSATT-HASTIGHET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="SignSpeed" Value="50"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 68D-1 Markeringsmerke" DisplayName="68D-1 Markeringsmerke" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-68D-1-MARKERINGSMERKE-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="SignSpeed" Value="40"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 68D-2 Markeringsmerke på motrettet 68B" DisplayName="68D-2 Markeringsmerke på motrettet 68B" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-68D-2-MARKERINGSMERKE-MOTRETTET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="SignSpeed" Value="40"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 68D-3 Markeringsmerke på motrettet 69B" DisplayName="68D-3 Markeringsmerke på motrettet 69B" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-68D-3-MARKERINGSMERKE-MOTRETTET-MIDLERTIDIG-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="SignSpeed" Value="40"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 68F Tilleggshastighet" DisplayName="68F Tilleggshastighet (underskilt)" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-68F-TILLEGGSHASTIGHET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="SignPlusSpeed" Value="5"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 68G Hastighet for krengetog" DisplayName="68G Hastighet for krengetog" DisplayBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-68G-HASTIGHET-KRENGETOG-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="SignTiltSpeed" Value="160"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 69A Midlertidig nedsatt hastighet" DisplayName="69A Midlertidig nedsatt hastighet" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-69A-MIDLERTIDIG-NEDSATT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="SignSpeed" Value="40"/>
   <SetValue Key="Model3DOffsetTowardsAlignment" Value="-1.75"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 69B Midlertidig hastighet opphører" DisplayName="69B Midlertidig hastighet opphører" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-69B-MIDLERTIDIG-OPPHOERER-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="0.75">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
   <SetValue Key="SignSpeed" Value="80"/>
   <SetValue Key="Model3DOffsetTowardsAlignment" Value="-1.75"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTKO_SKT-SKILT-KJOERENDE-SIGNAL-68A-NEDSATT-HASTIGHET-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTKO_SKT
				SKILT-KJOERENDE-SIGNAL
				{% if Variant == 'Signal 68A Nedsatt hastighet' %}68A-NEDSATT-HASTIGHET
				{% elsif Variant == 'Signal 68B Økt hastighet' %}68B-OEKT-HASTIGHET
				{% elsif Variant == 'Signal 68C Avvikende hastighet' %}68C-NEDSATT-HASTIGHET
				{% elsif Variant == 'Signal 68D-1 Markeringsmerke' %}68D-1-MARKERINGSMERKE
				{% elsif Variant == 'Signal 68D-2 Markeringsmerke på motrettet 68B' %}68D-2-MARKERINGSMERKE-MOTRETTET
				{% elsif Variant == 'Signal 68D-3 Markeringsmerke på motrettet 69B' %}68D-3-MARKERINGSMERKE-MOTRETTET-MIDLERTIDIG
				{% elsif Variant == 'Signal 68F Tilleggshastighet' %}68F-TILLEGGSHASTIGHET
				{% elsif Variant == 'Signal 68G Hastighet for krengetog' %}68G-HASTIGHET-KRENGETOG
				{% elsif Variant == 'Signal 69A Midlertidig nedsatt hastighet' %}69A-MIDLERTIDIG-NEDSATT
				{% elsif Variant == 'Signal 69B Midlertidig hastighet opphører' %}69B-MIDLERTIDIG-OPPHOERER
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
   <SymbolAttribute Tag="HAST_10">
    <Value>{{SignSpeed | v10}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="HAST_5">
    <Value>{{SignSpeed | v5}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="PLUSS_HAST">
    <Value>+{{SignPlusSpeed}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="KRENGE_HAST">
    <Value>{{SignTiltSpeed}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{SignSpeed | v10}}</Value>
   </Attribute>
   <Attribute Tag="T02">
    <Value>{{SignSpeed | v5}}</Value>
   </Attribute>
   <Attribute Tag="T03">
    <Value>+{{SignPlusSpeed}}</Value>
   </Attribute>
   <Attribute Tag="T04">
    <Value>{{SignTiltSpeed}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTSA_MSS Skilt meterangivelse (målavstand)" DrawTail="true" Layer="JBTSA_MSS" Color="ByLayer" Group="Skilt/Kjørende personell/Diverse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="7" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="15" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="15" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="UInt32" Name="TargetDistance" DisplayName="Avstand i meter" DefaultValue="300"/>
  <Variants>
   <Variant Name="Meterangivelse (underskilt)">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-METERANGIVELSE"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Meterangivelse (underskilt)" DisplayBlockName="NO-BN-2D-JBTSA_MSS_SKILT-KJOERENDE-UNDERSKILT-METERANGIVELSE-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_MSS_SKILT-KJOERENDE-UNDERSKILT-METERANGIVELSE-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <SymbolAttribute Tag="AVSTAND">
    <Value>{{TargetDistance}}m</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{TargetDistance}}m</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTSA_MSS Signal 60 ATC" DrawTail="true" Layer="JBTSA_MSS" Color="ByLayer" Group="Skilt/Kjørende personell/ATC" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="7" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="15" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="15" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Signal 60D ATC repeter hastighet">
   <Variant Name="Signal 60A ATC forsignal">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60A-ATC-FORSIGNAL"/>
   </Variant>
   <Variant Name="Signal 60B ATC repeter målpunkt">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60B-ATC-REPETER-MÅLPUNKT"/>
   </Variant>
   <Variant Name="Signal 60C ATC nødbrems">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60C-ATC-NØDBREMS"/>
   </Variant>
   <Variant Name="Signal 60D ATC repeter hastighet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60D-ATC-REPETER-HASTIGHET"/>
   </Variant>
   <Variant Name="Signal 60D ATC repeter hastighet 10 km/h">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60D-10-ATC-REPETER-HASTIGHET-10"/>
   </Variant>
   <Variant Name="Signal 60D ATC repeter hastighet 40 km/h">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60D-40-ATC-REPETER-HASTIGHET-40"/>
   </Variant>
   <Variant Name="Signal 60F FATC">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60F-FATC"/>
   </Variant>
   <Variant Name="Signal 60G DATC">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60G-DATC"/>
   </Variant>
   <Variant Name="Signal 60H ATC slutter">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60H-ATC-SLUTTER"/>
   </Variant>
   <Variant Name="Signal 60F FATC begynner (gammel type)">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60F-FATC-TILLEGGSTEKST"/>
   </Variant>
   <Variant Name="Signal 60G DATC begynner (gammel type)">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60G-DATC-TILLEGGSTEKST"/>
   </Variant>
   <Variant Name="Signal ATC innkoblet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60-ATC-INNKOBLET"/>
   </Variant>
   <Variant Name="Signal ATC utkoblet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60-ATC-UTKOBLET"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Signal 60A ATC forsignal" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60A-ATC-FORSIGNAL-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 60B ATC repeter målpunkt" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60B-ATC-REPETER-MAALPUNKT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 60C ATC nødbrems" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60C-ATC-NOEDBREMS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 60D ATC repeter hastighet" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60D-ATC-REPETER-HASTIGHET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 60D ATC repeter hastighet 10 km/h" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60D-ATC-REPETER-HASTIGHET-10-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 60D ATC repeter hastighet 40 km/h" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60D-ATC-REPETER-HASTIGHET-40-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 60F FATC" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60F-FATC-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 60G DATC" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60G-DATC-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 60H ATC slutter" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60H-ATC-SLUTTER-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 60F FATC begynner (gammel type)" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60F-FATC-TILLEGGSTEKST-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 60G DATC begynner (gammel type)" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60G-DATC-TILLEGGSTEKST-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal ATC innkoblet" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-ATC-INNKOBLET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal ATC utkoblet" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-ATC-UTKOBLET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSI-SIGNAL-UNKNOWN-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_MSS
				SKILT-KJOERENDE
				{%    if Variant == 'Signal 60A ATC forsignal' %}SIGNAL-60A-ATC-FORSIGNAL
				{% elsif Variant == 'Signal 60B ATC repeter målpunkt' %}SIGNAL-60B-ATC-REPETER-MAALPUNKT
				{% elsif Variant == 'Signal 60C ATC nødbrems' %}SIGNAL-60C-ATC-NOEDBREMS
				{% elsif Variant == 'Signal 60D ATC repeter hastighet' %}SIGNAL-60D-ATC-REPETER-HASTIGHET
				{% elsif Variant == 'Signal 60D ATC repeter hastighet 10 km/h' %}SIGNAL-60D-ATC-REPETER-HASTIGHET-10
				{% elsif Variant == 'Signal 60D ATC repeter hastighet 40 km/h' %}SIGNAL-60D-ATC-REPETER-HASTIGHET-40
				{% elsif Variant == 'Signal 60F FATC' %}SIGNAL-60F-FATC
				{% elsif Variant == 'Signal 60F FATC begynner (gammel type)' %}SIGNAL-60F-FATC-TILLEGGSTEKST
				{% elsif Variant == 'Signal 60G DATC' %}SIGNAL-60G-DATC
				{% elsif Variant == 'Signal 60G DATC begynner (gammel type)' %}SIGNAL-60G-DATC-TILLEGGSTEKST
				{% elsif Variant == 'Signal 60H ATC slutter' %}SIGNAL-60H-ATC-SLUTTER
				{% elsif Variant == 'Signal ATC innkoblet' %}ATC-INNKOBLET
				{% elsif Variant == 'Signal ATC utkoblet' %}ATC-UTKOBLET
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTSA_MSS Baliseskilt" DrawTail="false" Layer="JBTSA_MSS" Color="ByLayer" Group="Skilt/Kjørende personell/Diverse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="7" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="15" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="15" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Baliseskilt">
   <Variant Name="Baliseskilt">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-BALISE"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Baliseskilt" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-VEDLIKEHOLD-BALISE-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_MSS-SKILT-VEDLIKEHOLD-BALISE-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_MSS
				SKILT-VEDLIKEHOLD
				{% if Variant == 'Baliseskilt' %}BALISE
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>BALISE</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0"/>
    <SnapPoint X="0" Y="3"/>
    <SnapPoint X="0" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTSA_MSS Signal 61 Avstandsskilt" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Avstandsskilt" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt" DrawTail="false"/>
  <AttachTo Category="kl-mast" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="61C Avstandsskilt 3 (250m til Hs)">
   <Variant Name="61A Avstandsskilt 1 (1000m til Hs)">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-61A-AVSTANDSSKILT-1"/>
   </Variant>
   <Variant Name="61B Avstandsskilt 2 (800m til Hs)">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-61B-AVSTANDSSKILT-2"/>
   </Variant>
   <Variant Name="61C Avstandsskilt 3 (250m til Hs)">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-61C-AVSTANDSSKILT-3"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="61A Avstandsskilt 1 (1000m til Hs)" DisplayName="61A Avstandsskilt 1" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-61A-AVSTAND1-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="61B Avstandsskilt 2 (800m til Hs)" DisplayName="61B Avstandsskilt 2" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-61B-AVSTAND2-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="61C Avstandsskilt 3 (250m til Hs)" DisplayName="61C Avstandsskilt 3" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-61C-AVSTAND3-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-61A-AVSTAND1-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_MSS
				SKILT-KJOERENDE
				{%    if Variant ==  '61A Avstandsskilt 1 (1000m til Hs)' %}SIGNAL-61A-AVSTAND1
				{% elsif Variant ==  '61B Avstandsskilt 2 (800m til Hs)' %}SIGNAL-61B-AVSTAND2
				{% elsif Variant ==  '61C Avstandsskilt 3 (250m til Hs)' %}SIGNAL-61C-AVSTAND3
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="SA-MSS Skilt på lyssignal" DrawTail="true" Layer="JBTSA_MSS" Color="ByLayer" Group="Skilt/Kjørende personell/Skilt på lyssignal" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="signal" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="7" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="15" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="15" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Signal 60E ATC Varsel">
   <Variant Name="Signal 60E ATC Varsel">
    <SetValue Key="3D Offset Towards Driver" Value="0.10"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-60E-ATC-VARSEL"/>
   </Variant>
   <Variant Name="Signal 62 Ugyldighetsskilt">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-62-UGYLDIGHETSSKILT"/>
   </Variant>
   <Variant Name="Signal 70 Planovergang">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-70-PLANOVERGANGSSKILT"/>
   </Variant>
   <Variant Name="Signal 72A FJS begynner">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-72A-FJS-BEGYNNER"/>
   </Variant>
   <Variant Name="Signal 72B FJS slutter">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-72B-FJS-SLUTTER"/>
   </Variant>
   <Variant Name="Signal 73 Rasvarsling">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-73-RASVARSLINGSSKILT"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Signal 60E ATC Varsel" DisplayName="60E ATC Varsel" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60E-ATC-VARSEL-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 62 Ugyldighetsskilt" DisplayName="62 Ugyldighetsskilt" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-62-UGYLDIGHETSSKILT-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 70 Planovergang" DisplayName="70 Planovergang" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-70-PLANOVERGANGSSKILT-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 72A FJS begynner" DisplayName="72A FJS begynner" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-72A-FJS-BEGYNNER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 72B FJS slutter" DisplayName="72B FJS slutter" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-72B-FJS-SLUTTER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 73 Rasvarsling" DisplayName="73 Rasvarslingsskilt" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-73-RASVARSEL-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60E-ATC-VARSEL-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				{% if Variant == 'Signal 60E ATC Varsel' %}NO-BN-2D-JBTSA_MSS-SKILT-KJOERENDE-SIGNAL-60E-ATC-VARSEL
				{% elsif Variant == 'Signal 62 Ugyldighetsskilt' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-62-UGYLDIGHETSSKILT
				{% elsif Variant == 'Signal 70 Planovergang' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-70-PLANOVERGANGSSKILT
				{% elsif Variant == 'Signal 72A FJS begynner' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-72A-FJS-BEGYNNER
				{% elsif Variant == 'Signal 72B FJS slutter' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-72B-FJS-SLUTTER
				{% elsif Variant == 'Signal 73 Rasvarsling' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-73-RASVARSEL
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTKO_SKT Signal 63 Stigning-/fallviser" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Stigning- og fallvisere" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="kl-mast" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Name="Gradient" DataType="Int32" DefaultValue="99"/>
  <Variants DefaultValue="Signal 63A Fallviser">
   <Variant Name="Signal 63A Fallviser">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-63A-FALLVISER"/>
   </Variant>
   <Variant Name="Signal 63B Stigningsviser">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-63B-STIGNINGSVISER"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Signal 63A Fallviser" DisplayName="63A Fallviser" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-63A-FALLVISER-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 63B Stigningsviser" DisplayName="63B Stigningsviser" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-63B-STIGNINGSVISER-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-63A-FALLVISER-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				{% if Variant == 'Signal 63A Fallviser' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-63A-FALLVISER
				{% elsif Variant == 'Signal 63B Stigningsviser' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-63B-STIGNINGSVISER
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
   <SymbolAttribute Tag="Gradient">
    <Value>{{GRADIENT}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{GRADIENT}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTKO_SKT Signal 64 Stolpe" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Stolper" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>stolpe</RelationSpace>
  <AttachmentCategory Name="stolpe" PassAttachmentToTarget="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Boolean" Name="RotateText" InvertOnAlignmentReverse="true" DisplayName="Roter tekst" DefaultValue="False"/>
  <CustomAttribute DataType="String" Name="LeftText" DisplayName="Venstrejustert tekst" DefaultValue="Svart/Hvit"/>
  <CustomAttribute DataType="String" Name="RightText" DisplayName="Høyrejustert tekst" DefaultValue="Svart/Hvit"/>
  <Variants DefaultValue="Signal 64A Grensestolpe">
   <Variant Name="Signal 64A Grensestolpe">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-STOLPE-64A-GRENSE-INNKOBLINGSSTOLPE"/>
    <SetValue Key="LeftText" Value="Svart/Hvit"/>
    <SetValue Key="RightText" Value="Svart/Hvit"/>
    <SetValue Key="RotateText" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   </Variant>
   <Variant Name="Signal 64B Seksjoneringsstolpe">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-STOLPE-64B-SEKSJONERINGSSTOLPE"/>
    <SetValue Key="LeftText" Value="Rød/Hvit"/>
    <SetValue Key="RightText" Value="Rød/Hvit"/>
    <SetValue Key="RotateText" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   </Variant>
   <Variant Name="Signal 64C Rasvarslingsstolpe">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-STOLPE-64C-RASVARSLINGSSTOLPE"/>
    <SetValue Key="LeftText" Value="Gul/Hvit"/>
    <SetValue Key="RightText" Value="Gul/Hvit"/>
    <SetValue Key="RotateText" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   </Variant>
   <Variant Name="Signal 64D Bremsestolpe">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-STOLPE-64D-BREMSESTOLPE"/>
    <SetValue Key="LeftText" Value="Gul/Svart"/>
    <SetValue Key="RightText" Value="Gul/Svart"/>
    <SetValue Key="RotateText" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   </Variant>
   <Variant Name="Signal 64E Teknisk stolpe">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-STOLPE-64E-TEKNISK-STOLPE"/>
    <SetValue Key="LeftText" Value="Blå/Hvit"/>
    <SetValue Key="RightText" Value="Blå/Hvit"/>
    <SetValue Key="RotateText" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   </Variant>
   <Variant Name="Signal 64F Dvergsignalstolpe">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-STOLPE-64F-DVERGSIGNALSTOLPE"/>
    <SetValue Key="LeftText" Value="Svart/Hvit"/>
    <SetValue Key="RightText" Value="Svart/Hvit"/>
    <SetValue Key="RotateText" Value="{{alignmentRotation | minus:ucsRotation | cosisnegative}}"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Signal 64A Grensestolpe" DisplayName="64A Grensestolpe" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-64A-GRENSE-INNKOBLINGSSTOLPE-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 64B Seksjoneringsstolpe" DisplayName="64B Seksjoneringsstolpe" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-64B-SEKSJONERINGSSTOLPE-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 64C Rasvarslingsstolpe" DisplayName="64C Rasvarslingsstolpe" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-64C-RASVARSLINGSSTOLPE-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 64D Bremsestolpe" DisplayName="64D Bremsestolpe" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-64D-BREMSESTOLPE-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 64E Teknisk stolpe" DisplayName="64E Teknisk stolpe" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-64E-TEKNISK-STOLPE-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 64F Dvergsignalstolpe" DisplayName="64F Dvergsignalstolpe" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-64F-DVERGSIGNALSTOLPE-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-64A-GRENSESTOLPE-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				{% if Variant == 'Signal 64A Grensestolpe' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-64A-GRENSE-INNKOBLINGSSTOLPE
				{% elsif Variant == 'Signal 64B Seksjoneringsstolpe' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-64B-SEKSJONERINGSSTOLPE
				{% elsif Variant == 'Signal 64C Rasvarslingsstolpe' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-64C-RASVARSLINGSSTOLPE
				{% elsif Variant == 'Signal 64D Bremsestolpe' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-64D-BREMSESTOLPE
				{% elsif Variant == 'Signal 64E Teknisk stolpe' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-64E-TEKNISK-STOLPE
				{% elsif Variant == 'Signal 64F Dvergsignalstolpe' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-64F-DVERGSIGNALSTOLPE
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
   <SymbolAttribute Tag="LEFTUP">
    <Value>{% if RotateText == 'False' and dir == 'up' %}{{LeftText}}{% elsif RotateText == 'True' and dir == 'down' %}{{LeftText}}{% else %}{% endif %}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="RIGHTUP">
    <Value>{% if RotateText == 'True' and dir == 'up' %}{{RightText}}{% elsif RotateText == 'False' and dir == 'down' %}{{RightText}}{% else %}{% endif %}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="KO-SKT Skilt nødtelefon" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Diverse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="apparatskap" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Nødtelefon">
   <Variant Name="Nødtelefon">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-NØDTELEFON"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Nødtelefon" DisplayBlockName="NO-BN-2D-SKILT-TREDJEPERSON-NOEDTELEFON-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-SKILT-TREDJEPERSON-NOEDTELEFON-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				{% if Variant == 'Nødtelefon' %}NO-BN-2D-SKILT-TREDJEPERSON-NOEDTELEFON
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0"/>
    <SnapPoint X="0" Y="3"/>
    <SnapPoint X="0" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tStopPost" Class="RailwayPlacedObject" Name="JBTKO_SKT Signal 74 Toglengdeskilt" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Diverse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="UInt32" Name="HUNDRE_M" DisplayName="Hundre-metere" DotLiquidExpression="{{trainLength | toint | divided_by:100}}"/>
  <CustomAttribute DataType="UInt32" Name="TI_M" DisplayName="Ti-metere" DotLiquidExpression="{{trainLength | toint | modulo:100 | divided_by:10}}"/>
  <CustomAttribute DataType="UInt32" Name="EN_M" DisplayName="En-metere" DotLiquidExpression="{{trainLength | toint | modulo:10}} "/>
  <Variants DefaultValue="Signal 74-1 Toglengde (bred type)">
   <Variant Name="Signal 74-1 Toglengde (bred type)">
    <SetValue Key="name" Value="74-1"/>
    <SetValue Key="trainLength" Value="741"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-74-1-TOGLENGDESKILT-ALT-1-{{SymbolMode}}"/>
   </Variant>
   <Variant Name="Signal 74-2 Toglengde (smal type)">
    <SetValue Key="name" Value="74-2"/>
    <SetValue Key="trainLength" Value="742"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-74-2-TOGLENGDESKILT-ALT-2-{{SymbolMode}}"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Signal 74-1 Toglengde (bred type)" DisplayName="74-1 Toglengdeskilt (bred type)" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-74-1-TOGLENGDE1-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 74-2 Toglengde (smal type)" DisplayName="74-2 Toglengdeskilt (smal type)" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-74-2-TOGLENGDE2-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-74-1-TOGLENGDE1-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL
				{% if Variant == 'Signal 74-1 Toglengde (bred type)' %}74-1-TOGLENGDE1
				{% elsif Variant == 'Signal 74-2 Toglengde (smal type)' %}74-2-TOGLENGDE2
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
   <SymbolAttribute Tag="TOGLENGDE">
    <Value>{{trainLength}}m</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="HUNDRE_M">
    <Value>{{HUNDRE_M}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="TI_M">
    <Value>{{TI_M}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="EN_M">
    <Value>{{EN_M}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{trainLength}}m</Value>
   </Attribute>
   <Attribute Tag="T02">
    <Value>{{HUNDRE_M}}</Value>
   </Attribute>
   <Attribute Tag="T03">
    <Value>{{TI_M}}</Value>
   </Attribute>
   <Attribute Tag="T04">
    <Value>{{EN_M}}</Value>
   </Attribute>
   <Attribute Tag="T05">
    <Value>m</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="KO-SKT Skilt spornummer" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Diverse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="aak" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="Yokemounted" DisplayName="Åkmontert" DefaultValue="False" Category="Custom properties" Description="The 'Yokemounted' boolean custom property defines whether the object (board, signal etc) has its own mast (default:false) or is suspended from a yoke (true)."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Spornummer">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-SPORNUMMER"/>
    <SetValue Key="Yokemounted" Value="True"/>
    <SetValue Key="code" Value="38"/>
   </Variant>
  </Variants>
  <LuaExpression Name="TrackNumber">
   <Formula>getClosestTracks()[0].code</Formula>
  </LuaExpression>
  <LuaExpression Name="DistanceToAlignment">
   <Formula>RightSided and 4e-4 or -4e-4</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Spornummer" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SPORNUMMER-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SPORNUMMER-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <SymbolAttribute Tag="SPORNUMMER">
    <Value>{{code}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{code}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
    <SnapPoint X="0" Y="3"/>
    <SnapPoint X="0" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="SA-MSS Signal 101 Identifikasjonsskilt" DrawTail="true" Layer="JBTSA_MSS" Color="ByLayer" Group="Skilt/Kjørende personell/ID- og pilskilt" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="signal" DrawTail="true"/>
  <AttachTo Category="markerboard" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="7" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="15" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="15" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" Name="ID_BOKSTAV" DisplayName="ID-skilt litra (øvre linje)" DefaultValue=""/>
  <CustomAttribute DataType="String" Name="ID_NUMMER" DisplayName="ID-skilt signalnummer (midtre/øvre linje)" DefaultValue=""/>
  <CustomAttribute DataType="String" Name="ID_STED" DisplayName="ID-skilt stedsforkortelse (nedre linje)" DefaultValue=""/>
  <CustomAttribute DataType="String" Name="ID_MINDRE_SIGNAL" DisplayName="Litra/Nummer" DefaultValue=""/>
  <LuaExpression Name="code">
   <Formula>Attachment and Attachment.code or "(no attachment found)"</Formula>
  </LuaExpression>
  <LuaExpression Name="ID_BOKSTAV">
   <Formula>NOBN_sig_getSignalLitra()</Formula>
  </LuaExpression>
  <LuaExpression Name="ID_NUMMER">
   <Formula>NOBN_sig_getSignalNumber()</Formula>
  </LuaExpression>
  <LuaExpression Name="ID_STED">
   <Formula>Attachment and Attachment.RC_com_getOcpCode() or "(no attachment found)"</Formula>
  </LuaExpression>
  <LuaExpression Name="ID_MINDRE_SIGNAL">
   <Formula>
				if Variant == 'Signal 101-5 ID-skilt for dvergsignal og togsporsignal, 1-linje, 180x100' then
					return "R"..code
				elseif Variant == 'Signal 101-6 ID-skilt for dvergsignal, 1-linje, 300x100' then
					return "R"..code
				elseif Variant == 'Signal 101-7 ID-skilt for planovergangsignal, 200x300' then
					return "W"..code
				elseif Variant == 'Signal 101-8 ID-skilt for høyt skiftesignal, 300x200' then
					return "Z"..code
				else 
					return ""
				end
			</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Signal 101-1 ID-skilt for Hs og Fs, 3 linjer, 800x455">
    <SetValue Key="name" Value="ID (Hs/Fs/3-lj.)"/>
    <SetValue Key="Offset3D.Z" Value="2.02"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-101-1-800x455-ID-SKILT-3-LINJER"/>
   </Variant>
   <Variant Name="Signal 101-2 ID-skilt for Hs og Fs, 2 linjer, 800x325">
    <SetValue Key="name" Value="ID (Hs/Fs/2-lj.)"/>
    <SetValue Key="Offset3D.Z" Value="2.02"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-101-2-800x325-ID-SKILT-2-LINJER"/>
   </Variant>
   <Variant Name="Signal 101-3 ID-skilt for Hs og Fs, 3 linjer, Ø600">
    <SetValue Key="name" Value="ID (Hs/Fs/rundt)"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-101-3-Ø600-ID-SKILT-3-LINJER"/>
    <SetValue Key="Offset3D.Z" Value="2.02"/>
   </Variant>
   <Variant Name="Signal 101-4 ID-skilt for ERTMS, 2 linjer, 700x325">
    <SetValue Key="name" Value="ID (ERTMS/2-lj.)"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-101-4-700x325-ID-SKILT-ERTMS"/>
    <SetValue Key="Offset3D.Z" Value="2.0"/>
   </Variant>
   <Variant Name="Signal 101-5 ID-skilt for dvergsignal og togsporsignal, 1-linje, 180x100">
    <SetValue Key="name" Value="ID Ds/Tsp, lite"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-101-5-180x100-ID-SKILT-DS-OG-TSS"/>
    <SetValue Key="Offset3D.Z" Value="0.6"/>
   </Variant>
   <Variant Name="Signal 101-6 ID-skilt for dvergsignal, 1-linje, 300x100">
    <SetValue Key="name" Value="ID Ds, stort"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-101-6-300x100-ID-SKILT-DS"/>
    <SetValue Key="Offset3D.Z" Value="0.6"/>
   </Variant>
   <Variant Name="Signal 101-7 ID-skilt for planovergangsignal, 200x300">
    <SetValue Key="name" Value="ID PLOs/Fs-PLO"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-101-7-200x300-ID-SKILT-PLO-SIGNAL"/>
    <SetValue Key="Offset3D.Z" Value="1.7"/>
   </Variant>
   <Variant Name="Signal 101-8 ID-skilt for høyt skiftesignal, 300x200">
    <SetValue Key="name" Value="ID Skiftesig."/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-101-8-300x200-ID-SKILT-HØYT-SKIFTESIGNAL"/>
    <SetValue Key="Offset3D.Z" Value="1.7"/>
   </Variant>
   <Variant Name="Signal 101-9 ID-skilt for ERTMS, 2 linjer, 400x200">
    <SetValue Key="name" Value="ID ERTMS (lite)"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-101-9-400x200-ERTMS"/>
    <SetValue Key="Offset3D.Z" Value="1.7"/>
   </Variant>
   <Variant Name="Signal 101-10 ID-skilt for ERTMS, 3 linjer, 700x350">
    <SetValue Key="name" Value="ID ERTMS (stort)"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-101-10-700x350-ERTMS"/>
    <SetValue Key="Offset3D.Z" Value="1.7"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Signal 101-1 ID-skilt for Hs og Fs, 3 linjer, 800x455" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-101-1-ID-3-LINJER-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 101-2 ID-skilt for Hs og Fs, 2 linjer, 800x325" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-101-2-ID-2-LINJER-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 101-3 ID-skilt for Hs og Fs, 3 linjer, Ø600" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-101-3-ID-RUNDT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 101-5 ID-skilt for dvergsignal og togsporsignal, 1-linje, 180x100" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-101-5-ID-MINDRE-SIGNAL-180x100-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 101-6 ID-skilt for dvergsignal, 1-linje, 300x100" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-101-6-ID-MINDRE-SIGNAL-300x100-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 101-7 ID-skilt for planovergangsignal, 200x300" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-101-7-ID-MINDRE-SIGNAL-200x300-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 101-8 ID-skilt for høyt skiftesignal, 300x200" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-101-8-ID-MINDRE-SIGNAL-300x200-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-101-1-ID-3-LINJER-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL
				{% if Variant == 'Signal 101-1 ID-skilt for Hs og Fs, 3 linjer, 800x455' %}101-1-ID-3-LINJER
				{% elsif Variant == 'Signal 101-2 ID-skilt for Hs og Fs, 2 linjer, 800x325' %}101-2-ID-2-LINJER
				{% elsif Variant == 'Signal 101-3 ID-skilt for Hs og Fs, 3 linjer, Ø600' %}101-3-ID-RUNDT
				{% elsif Variant == 'Signal 101-5 ID-skilt for dvergsignal og togsporsignal, 1-linje, 180x100' %}101-5-ID-MINDRE-SIGNAL-180x100
				{% elsif Variant == 'Signal 101-6 ID-skilt for dvergsignal, 1-linje, 300x100' %}101-6-ID-MINDRE-SIGNAL-300x100
				{% elsif Variant == 'Signal 101-7 ID-skilt for planovergangsignal, 200x300' %}101-7-ID-MINDRE-SIGNAL-200x300
				{% elsif Variant == 'Signal 101-8 ID-skilt for høyt skiftesignal, 300x200' %}101-8-ID-MINDRE-SIGNAL-300x200
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
   <SymbolAttribute Tag="ID_BOKSTAV">
    <Value>{{ID_BOKSTAV}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="ID_NUMMER">
    <Value>{{ID_NUMMER}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="ID_STED">
    <Value>{{ID_STED}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="ID_BOKSTAV_OG_NR">
    <Value>{{ID_BOKSTAV}} {{ID_NUMMER}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="ID_MINDRE_SIGNAL">
    <Value>{{ID_MINDRE_SIGNAL}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{ID_BOKSTAV}}</Value>
   </Attribute>
   <Attribute Tag="T02">
    <Value>{{ID_NUMMER}}</Value>
   </Attribute>
   <Attribute Tag="T03">
    <Value>{{ID_STED}}</Value>
   </Attribute>
   <Attribute Tag="T04">
    <Value>{{ID_BOKSTAV}} {{ID_NUMMER}}</Value>
   </Attribute>
   <Attribute Tag="T05">
    <Value>{{ID_MINDRE_SIGNAL}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
    <SnapPoint X="7" Y="7"/>
    <SnapPoint X="7" Y="-7"/>
    <SnapPoint X="-7" Y="7"/>
    <SnapPoint X="-7" Y="-7"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="SA-MSS Signal 102 Pilskilt (underskilt)" DrawTail="true" Layer="JBTSA_MSS" Color="ByLayer" Group="Skilt/Kjørende personell/ID- og pilskilt" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="signal" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="7" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="15" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="15" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Signal 102-1 Pil mot høyre">
    <SetValue Key="name" Value="Pil (høyre)"/>
    <SetValue Key="Offset3D.Z" Value="1.33"/>
    <SetValue Key="3D Offset Towards Driver" Value="0.20"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-102-1-PIL-H"/>
   </Variant>
   <Variant Name="Signal 102-2 Pil mot venstre">
    <SetValue Key="name" Value="Pil (venstre)"/>
    <SetValue Key="Offset3D.Z" Value="1.33"/>
    <SetValue Key="3D Offset Towards Driver" Value="0.20"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-102-2-PIL-V"/>
   </Variant>
   <Variant Name="Signal 102-3 Pil begge veier">
    <SetValue Key="name" Value="Pil (begge veier)"/>
    <SetValue Key="Offset3D.Z" Value="2.9"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-102-3-PIL-HV"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Signal 102-1 Pil mot høyre" DisplayName="102-1 Pilskilt" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-102-1-PIL-H-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 102-2 Pil mot venstre" DisplayName="102-2 Pilskilt" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-102-2-PIL-V-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 102-3 Pil begge veier" DisplayName="102-3 Pilskilt" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-102-3-PIL-HV-{{SymbolMode}}" DefaultSnapMode="Point" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-102-3-PIL-HV-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL
				{% if Variant == 'Signal 102-1 Pil mot høyre' %}102-1-PIL-H
				{% elsif Variant == 'Signal 102-2 Pil mot venstre' %}102-2-PIL-V
				{% elsif Variant == 'Signal 102-3 Pil begge veier' %}102-3-PIL-HV
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0.3"/>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="KO-SKT Skilt 1000V togvarmeanlegg" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Diverse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="teknisk_bygg" DrawTail="true"/>
  <AttachTo Category="apparatskap" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="7" Layer="JBTEL@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="15" Layer="JBTEL@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="15" Layer="JBTEL@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="1000V togvarmeanlegg">
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="1000V togvarmeanlegg" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-1000V-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-1000V-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				{% if Variant == '1000 V togvarmeanlegg' %}NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-1000V
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="KO-SKT Skilt bevegelig kryss" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Diverse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Bevegelig kryss">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-BEVEGELIG-KRYSS"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Bevegelig kryss" DisplayBlockName="NO-BN-2D-SKILT-VEDLIKEHOLD-BEVEGELIG-KRYSS-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-SKILT-VEDLIKEHOLD-BEVEGELIG-KRYSS-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTKO_SKT Signal 75 Kilometerskilt" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Kilometerskilt" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="kl-mast" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="UInt32" Name="HEL_KM" DisplayName="Hel km" DefaultValue="0"/>
  <CustomAttribute DataType="UInt32" Name="HEL_KM_UTEN_HALV" DisplayName="Hel km uten halv" DefaultValue="0"/>
  <CustomAttribute DataType="UInt32" Name="HALV_KM" DisplayName="Halv km" DefaultValue="0"/>
  <LuaExpression Name="HEL_KM">
   <Formula>RC_com_getNearestEntireKm()</Formula>
  </LuaExpression>
  <LuaExpression Name="HEL_KM_UTEN_HALV">
   <Formula>RC_com_getNearestEntireKm2()</Formula>
  </LuaExpression>
  <LuaExpression Name="HALV_KM">
   <Formula>RC_com_getNearestHalfKm()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Signal 75A-1 Kilometerskilt, enkelsidet, midtstilt">
   <Variant Name="Signal 75A-1 Kilometerskilt, enkelsidet, midtstilt">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-75A-1-KILOMETERSKILT-ENKELSIDET-MIDTSTILT"/>
   </Variant>
   <Variant Name="Signal 75A-2 Kilometerskilt, gammel type">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-75A-2-KILOMETERSKILT-GAMMEL-TYPE"/>
   </Variant>
   <Variant Name="Signal 75A-3 Kilometerskilt, dobbelsidet, midtstilt">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-75A-3-KILOMETERSKILT-DOBBELSIDET-MIDTSTILT"/>
   </Variant>
   <Variant Name="Signal 75A-4 Kilometerskilt, dobbelsidet, sidestilt">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-75A-4-KILOMETERSKILT-DOBBELSIDET-SIDESTILT"/>
   </Variant>
   <Variant Name="Signal 75B Kilometerskilt i tunnel, dobbelsidet">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-75B-KILOMETERSKILT-FOR-TUNNELER-DOBBELSIDET"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Signal 75A-1 Kilometerskilt, enkelsidet, midtstilt" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-75A-1-KILOMETER-ENKELSIDET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 75A-2 Kilometerskilt, gammel type" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-75A-2-KILOMETER-GAMMEL-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 75A-3 Kilometerskilt, dobbelsidet, midtstilt" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-75A-3-KILOMETER-DOBBELSIDET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 75A-4 Kilometerskilt, dobbelsidet, sidestilt" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-75A-3-KILOMETER-DOBBELSIDET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 75B Kilometerskilt i tunnel, dobbelsidet" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-75B-KILOMETER-TUNNEL-DOBBELSIDET-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.8">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
   <SetValue Key="dir" Value="both"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL-75A-1-KILOMETER-ENKELSIDET-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIGNAL
				{% if Variant == 'Signal 75A-1 Kilometerskilt, enkelsidet, midtstilt' %}75A-1-KILOMETER-ENKELSIDET
				{% elsif Variant == 'Signal 75A-2 Kilometerskilt, gammel type' %}75A-2-KILOMETER-GAMMEL
				{% elsif Variant == 'Signal 75A-3 Kilometerskilt, dobbelsidet, midtstilt' %}75A-3-KILOMETER-DOBBELSIDET
				{% elsif Variant == 'Signal 75A-4 Kilometerskilt, dobbelsidet, sidestilt' %}75A-3-KILOMETER-DOBBELSIDET 
				{% elsif Variant == 'Signal 75B Kilometerskilt i tunnel, dobbelsidet' %}75B-KILOMETER-TUNNEL-DOBBELSIDET
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
   <SymbolAttribute Tag="HUNDRE_KM">
    <Value>{{HEL_KM | divided_by:100}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="TI_KM">
    <Value>{{HEL_KM | modulo:100 | divided_by:10}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="EN_KM">
    <Value>{{HEL_KM | modulo:10}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="HEL_KM">
    <Value>{{HEL_KM}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="HALV_KM">
    <Value>{{HALV_KM}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="HEL_KM_UTEN_HALV">
    <Value>{{HEL_KM_UTEN_HALV}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="HUNDRE_KM2">
    <Value>{{HEL_KM | divided_by:100}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="TI_KM2">
    <Value>{{HEL_KM | modulo:100 | divided_by:10}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="EN_KM2">
    <Value>{{HEL_KM | modulo:10}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="HEL_KM2">
    <Value>{{HEL_KM}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="HALV_KM2">
    <Value>{{HALV_KM}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{HEL_KM}}</Value>
   </Attribute>
   <Attribute Tag="T02">
    <Value>{{HALV_KM}}</Value>
   </Attribute>
   <Attribute Tag="T03">
    <Value>{{HEL_KM | divided_by:100}}</Value>
   </Attribute>
   <Attribute Tag="T04">
    <Value>{{HEL_KM | modulo:100 | divided_by:10}}</Value>
   </Attribute>
   <Attribute Tag="T05">
    <Value>{{HEL_KM | modulo:10}}</Value>
   </Attribute>
   <Attribute Tag="T06">
    <Value>{{HEL_KM_UTEN_HALV}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
    <SnapPoint X="0" Y="3"/>
    <SnapPoint X="0" Y="-3"/>
    <SnapPoint X="3" Y="0"/>
    <SnapPoint X="-3" Y="-0"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="KO-SKT Anleggsområde" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Diverse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Anleggsområde begynner">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-ANLEGGSOMRÅDE-BEGYNNER"/>
   </Variant>
   <Variant Name="Anleggsområde slutter">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-SKILT-ANLEGGSOMRÅDE-SLUTTER"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Anleggsområde begynner" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-ANLEGGSOMRAADE-BEGYNNER-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Anleggsområde slutter" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-ANLEGGSOMRAADE-SLUTTER-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-ANLEGGSOMRAADE-BEGYNNER-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-ANLEGGSOMRAADE
				{% if Variant == 'Anleggsområde begynner' %}BEGYNNER
				{% elsif Variant == 'Anleggsområde slutter' %}SLUTTER
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="KO-SKT Sidespor" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Kjørende personell/Diverse" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" Name="SSP_NAVN" DisplayName="Sidespor navn (store bokstaver):" DefaultValue="Firmanavn AS"/>
  <CustomAttribute DataType="String" Name="SSP_KM" DisplayName="Kilometer (xxx,xx):" DefaultValue="0,0"/>
  <CustomAttribute DataType="String" Name="SSP_FRA_STASJON" DisplayName="Stasjon 1" DefaultValue="Askeby"/>
  <CustomAttribute DataType="String" Name="SSP_TIL_STASJON" DisplayName="Stasjon 2" DefaultValue="Potteby"/>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Sidespor">
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Sidespor" DisplayBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIDESPOR-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="180" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-JBTSK_SKK-SKILT-KJOERENDE-SIDESPOR-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <SymbolAttribute Tag="SSP_NAVN">
    <Value>{{SSP_NAVN}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="SSP_KM">
    <Value>Km. {{SSP_KM}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="SSP_STASJON">
    <Value>{{SSP_FRA_STASJON}}og {{SSP_TIL_STASJON}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{SSP_NAVN}}</Value>
   </Attribute>
   <Attribute Tag="T02">
    <Value>Km. {{SSP_KM}}</Value>
   </Attribute>
   <Attribute Tag="T03">
    <Value>{{SSP_FRA_STASJON} } og {{SSP_TIL_STASJON}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTKO_SKT Signal 75C/75D Hev/senk sporrenser" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Vedlikeholdspersonell/Sporrenser" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="kl-mast" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>_KO_SKT_75CD_Model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_KO_SKT_75CD_Model3DName()" ReturnType="String" Description="Obtains the board's 3D model name.">
   <Constructor>String _KO_SKT_75CD_Model3DName()</Constructor>
   <Formula>
				function _KO_SKT_75CD_Model3DName()
					if RightSided then 
						side = (dir == 'up' and "HSIDE" or "VSIDE")
					else 
						side = (dir == 'up' and "VSIDE" or "HSIDE")
					end
					if Variant:match("75C") then
						return "NO-BN-3D-KO-SKT-SKILT-75C-HEV-SPORRENSER-"..side
					elseif Variant:match("75D") then
						return "NO-BN-3D-KO-SKT-SKILT-75D-SENK-SPORRENSER-"..side
					else	
						return "Unrecognized variant ["..Variant.."]."
					end
				end
			</Formula>
  </LuaFunction>
  <Variants DefaultValue="Signal 75C Hev sporrenser">
   <Variant Name="Signal 75C Hev sporrenser"/>
   <Variant Name="Signal 75D Senk sporrenser"/>
  </Variants>
  <InsertPointObject VariantName="Signal 75C Hev sporrenser" DisplayBlockName="NO-BN-2D-SKILT-VEDLIKEHOLD-SIGNAL-75C-{% if dir == 'up' %}{% if RightSided %}1{% else %}2{% endif %}{% else %}{% if RightSided %}2{% else %}1{% endif %}{% endif %}-HEV-{% if dir == 'up' %}{% if RightSided %}HSIDE{% else %}VSIDE{% endif %}{% else %}{% if RightSided %}VSIDE{% else %}HSIDE{% endif %}{% endif %}-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfLeftSideOfAlignment="false" AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 75D Senk sporrenser" DisplayBlockName="NO-BN-2D-SKILT-VEDLIKEHOLD-SIGNAL-75D-{% if dir == 'up' %}{% if RightSided %}1{% else %}2{% endif %}{% else %}{% if RightSided %}2{% else %}1{% endif %}{% endif %}-SENK-{% if dir == 'up' %}{% if RightSided %}HSIDE{% else %}VSIDE{% endif %}{% else %}{% if RightSided %}VSIDE{% else %}HSIDE{% endif %}{% endif %}-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfLeftSideOfAlignment="false" AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="NO-BN-2D-SKILT-VEDLIKEHOLD-SIGNAL-75C-1-HEV-HSIDE-{{SymbolMode}}">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
			NO-BN-2D-SKILT-VEDLIKEHOLD-SIGNAL
			{% if Variant == 'Signal 75C Hev sporrenser' %}75C{% else %}75D{% endif %}
			{% if dir == 'up' %}{% if RightSided %}1{% else %}2{% endif %}{% else %}{% if RightSided %}2{% else %}1{% endif %}{% endif %}
			{% if Variant == 'Signal 75C Hev sporrenser' %}HEV{% else %}SENK{% endif %}
			{% if dir == 'up' %}{% if RightSided %}HSIDE{% else %}VSIDE{% endif %}{% else %}{% if RightSided %}VSIDE{% else %}HSIDE{% endif %}{% endif %}
			{% if Variant != 'Signal 75C Hev sporrenser' and Variant != 'Signal 75D Senk sporrenser' %}BAD_Variant{% endif %}
			{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="JBTKO_SKT Signal 75E Kjedebrudd" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Vedlikeholdspersonell/Kjedebrudd" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Signal 75E-1 Kjedebrudd">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-KJEDEBRUDD-EKSAKT"/>
   </Variant>
   <Variant Name="Signal 75E-2 Eksakt kjedebrudd">
    <SetValue Key="Model3DName" Value="NO-BN-3D-KO-SKT-KJEDEBRUDD-EKSAKT"/>
   </Variant>
  </Variants>
  <LuaExpression Name="dir">
   <Formula>"both"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" Name="FRA_1" DisplayName="Fra km" DefaultValue="15"/>
  <CustomAttribute DataType="String" Name="FRA_2" DisplayName="Fra m hhv. mm" DefaultValue="422"/>
  <CustomAttribute DataType="String" Name="TIL_1" DisplayName="Til km" DefaultValue="15"/>
  <CustomAttribute DataType="String" Name="TIL_2" DisplayName="Til m. hhv. mm" DefaultValue="450"/>
  <CustomAttribute DataType="String" Name="SPRANG" DisplayName="Sprang i m" DefaultValue="+28 m"/>
  <LuaExpression Name="FRA_1">
   <Formula>
				local ai = getAlignmentInfo()
				local m = ai and ai.NearestMileageChange.MileageIn or 0.0
				return RC__isNan(m) and "0" or string.format("%0.f",math.floor(m))
			</Formula>
  </LuaExpression>
  <LuaExpression Name="FRA_2">
   <Formula>
				local ai = getAlignmentInfo()
				local m = ai and ai.NearestMileageChange.MileageIn or 0.0
				if RC__isNan(m) then
					return "0",_warning,_info("Missing own alignment.")
				else
					if Variant == "Signal 75E-1 Kjedebrudd" then
						return string.format("%.0f",m%1e3)
					elseif Variant == "Signal 75E-2 Eksakt kjedebrudd" then
						return string.format("%.0f",(m*1000)%1e6)
					else
						return "Unrecognized variant ["..Variant.."]."
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="TIL_1">
   <Formula>
				local ai = getAlignmentInfo()
				local m = ai and ai.NearestMileageChange.MileageOut or 0.0
				return RC__isNan(m) and "0" or string.format("%0.f",math.floor(m))
			</Formula>
  </LuaExpression>
  <LuaExpression Name="TIL_2">
   <Formula>
				local ai = getAlignmentInfo()
				local m = ai and ai.NearestMileageChange.MileageOut or 0.0
				if RC__isNan(m) then
					return "0",_warning,_info("Missing own alignment.")
				else
					if Variant == "Signal 75E-1 Kjedebrudd" then
						return string.format("%.0f",m%1e3)
					elseif Variant == "Signal 75E-2 Eksakt kjedebrudd" then
						return string.format("%.0f",(m*1000)%1e6)
					else
						return "Unrecognized variant ["..Variant.."]."
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="SPRANG">
   <Formula>
				local ai = getAlignmentInfo()
				if ai then 
					local mileageChange = getAlignmentInfo().NearestMileageChange
					if Variant == "Signal 75E-1 Kjedebrudd" then
						return string.format("%.0f", (mileageChange.MileageOut - mileageChange.MileageIn))
					elseif Variant == "Signal 75E-2 Eksakt kjedebrudd" then
						return string.format("%.3f", (mileageChange.MileageOut - mileageChange.MileageIn))
					else
						return "Unrecognized variant ["..Variant.."]."
					end
				else
					return "0"
				end
			</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Signal 75E-1 Kjedebrudd" DisplayBlockName="NO-BN-2D-SKILT-VEDLIKEHOLD-SIGNAL-75E-KJEDEBRUDD-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Signal 75E-2 Eksakt kjedebrudd" DisplayBlockName="NO-BN-2D-SKILT-VEDLIKEHOLD-SIGNAL-75E-EKSAKT-KJEDEBRUDD-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_THUMBNAIL-UNSPECIFIED-SCHEMATIC" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
			NO-BN-2D-SKILT-VEDLIKEHOLD-SIGNAL
			{% if Variant == 'Signal 75E-1 Kjedebrudd' %}75E-KJEDEBRUDD
			{% elsif Variant == 'Signal 75E-2 Eksakt kjedebrudd' %}75E-EKSAKT-KJEDEBRUDD
			{% else %}BAD_Variant
			{% endif %}
			{{SymbolMode}}
			</BlockNameFormat>
   <SymbolAttribute Tag="FRA_1">
    <Value>{% if Variant == 'Signal 75E-2 Eksakt kjedebrudd' %}Km{{FRA_1}},{% else %}{{FRA_1}}{% endif %}"</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="FRA_2">
    <Value>{% if Variant == 'Signal 75E-2 Eksakt kjedebrudd' %}{{FRA_3}},{% else %}{{FRA_2}}{% endif %}"</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="TIL_1">
    <Value>{% if Variant == 'Signal 75E-2 Eksakt kjedebrudd' %}Km{{TIL_1}},{% else %}{{TIL_1}}{% endif %}"</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="TIL_2">
    <Value>{% if Variant == 'Signal 75E-2 Eksakt kjedebrudd' %}Km{{TIL_3}},{% else %}{{TIL_2}}{% endif %}"</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="SPRANG">
    <Value>{% if sprang &gt; 0 %}+{% endif %}{{SPRANG}} m"</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T02">
    <Value>{% if Variant == 'Signal 75E-2 Eksakt kjedebrudd' %}Km{{FRA_1}},{% else %}{{FRA_1}}{% endif %}"</Value>
   </Attribute>
   <Attribute Tag="T02">
    <Value>{% if Variant == 'Signal 75E-2 Eksakt kjedebrudd' %}{{FRA_3}},{% else %}{{FRA_2}}{% endif %}"</Value>
   </Attribute>
   <Attribute Tag="T03">
    <Value>{% if Variant == 'Signal 75E-2 Eksakt kjedebrudd' %}Km{{TIL_1}},{% else %}{{TIL_1}}{% endif %}"</Value>
   </Attribute>
   <Attribute Tag="T04">
    <Value>{% if Variant == 'Signal 75E-2 Eksakt kjedebrudd' %}Km{{TIL_3}},{% else %}{{TIL_2}}{% endif %}"</Value>
   </Attribute>
   <Attribute Tag="T05">
    <Value>{% if sprang &gt; 0 %}+{% endif %}{{SPRANG}} m"</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0"/>
    <SnapPoint X="0" Y="3"/>
    <SnapPoint X="0" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="SA-MSS Arbeidsområdeskilt" DrawTail="true" Layer="JBTSA_MSS" Color="ByLayer" Group="Skilt/Vedlikeholdspersonell/Arbeidsområdeskilt" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="signal" DrawTail="true"/>
  <AttachTo Category="skilt" DrawTail="true"/>
  <AttachTo Category="apparatskap" DrawTail="true"/>
  <AttachTo Category="markerboard" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="7" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="15" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="15" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute DataType="String" Name="TEKST1" DisplayName="Tekstlinje 1" DefaultValue=""/>
  <CustomAttribute DataType="String" Name="TEKST2" DisplayName="Tekstlinje 2" DefaultValue="Arbeidsområde"/>
  <CustomAttribute DataType="String" Name="TEKST3" DisplayName="Tekstlinje 3" DefaultValue=""/>
  <CustomAttribute DataType="String" Name="TEKST4" DisplayName="Tekstlinje 4" DefaultValue=""/>
  <CustomAttribute DataType="String" Name="TEKST5" DisplayName="Tekstlinje 5" DefaultValue="Arbeidsområde"/>
  <CustomAttribute DataType="String" Name="TEKST6" DisplayName="Tekstlinje 6" DefaultValue=""/>
  <Variants>
   <Variant Name="Arbeidsområdeskilt Type 1-2">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-ARBEIDSOMRÅDE-1-2"/>
   </Variant>
   <Variant Name="Arbeidsområdeskilt Type 1-3">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-ARBEIDSOMRÅDE-1-3"/>
   </Variant>
   <Variant Name="Arbeidsområdeskilt Type 2-2">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-ARBEIDSOMRÅDE-2-2"/>
   </Variant>
   <Variant Name="Arbeidsområdeskilt Type 2-3">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-ARBEIDSOMRÅDE-2-3"/>
   </Variant>
   <Variant Name="Arbeidsområdeskilt Orienterende">
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-SKILT-ARBEIDSOMRÅDE-3"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Arbeidsområdeskilt Type 1-2" DisplayBlockName="NO-BN-2D-SKILT-VEDLIKEHOLD-ARBEIDSOMRAADE-1-2-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="TEKST1" Value="Arbeidsområde"/>
   <SetValue Key="TEKST2" Value="OSL 1"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Arbeidsområdeskilt Type 1-3" DisplayBlockName="NO-BN-2D-SKILT-VEDLIKEHOLD-ARBEIDSOMRAADE-1-3-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="TEKST1" Value="Arbeidsområde"/>
   <SetValue Key="TEKST2" Value="OSL 1"/>
   <SetValue Key="TEKST3" Value="OSL 3"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Arbeidsområdeskilt Type 2-2" DisplayBlockName="NO-BN-2D-SKILT-VEDLIKEHOLD-ARBEIDSOMRAADE-2-2-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="TEKST1" Value="   Arb.område"/>
   <SetValue Key="TEKST2" Value="OSL 1"/>
   <SetValue Key="TEKST4" Value="Arb.område   "/>
   <SetValue Key="TEKST5" Value="OSL 3"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Arbeidsområdeskilt Type 2-3" DisplayBlockName="NO-BN-2D-SKILT-VEDLIKEHOLD-ARBEIDSOMRAADE-2-3-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="both"/>
   <SetValue Key="TEKST1" Value="Venstre"/>
   <SetValue Key="TEKST2" Value="Arbeidsområde"/>
   <SetValue Key="TEKST3" Value="OSL 1"/>
   <SetValue Key="TEKST4" Value="Høyre"/>
   <SetValue Key="TEKST5" Value="Arbeidsområde"/>
   <SetValue Key="TEKST6" Value="OSL 3"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Arbeidsområdeskilt Orienterende" DisplayBlockName="NO-BN-2D-SKILT-VEDLIKEHOLD-ARBEIDSOMRAADE-3-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
   <SetValue Key="dir" Value="none"/>
   <SetValue Key="TEKST2" Value="Port til:"/>
   <SetValue Key="TEKST4" Value="Arbeidsområde"/>
   <SetValue Key="TEKST5" Value="OSL 1 - OSL 3"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-SKILT-VEDLIKEHOLD-ARBEIDSOMRAADE-3-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-SKILT-VEDLIKEHOLD
				{% if Variant == 'Arbeidsområdeskilt Type 1-2' %}ARBEIDSOMRAADE-1-2
				{% elsif Variant == 'Arbeidsområdeskilt Type 1-3' %}ARBEIDSOMRAADE-1-3
				{% elsif Variant == 'Arbeidsområdeskilt Type 2-2' %}ARBEIDSOMRAADE-2-2
				{% elsif Variant == 'Arbeidsområdeskilt Type 2-3' %}ARBEIDSOMRAADE-2-3
				{% elsif Variant == 'Arbeidsområdeskilt Orienterende' %}ARBEIDSOMRAADE-3
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
   <SymbolAttribute Tag="TEKST1">
    <Value>{{TEKST1}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="TEKST2">
    <Value>{{TEKST2}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="TEKST3">
    <Value>{{TEKST3}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="TEKST4">
    <Value>{{TEKST4}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="TEKST5">
    <Value>{{TEKST5}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="TEKST6">
    <Value>{{TEKST6}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{TEKST1}}</Value>
   </Attribute>
   <Attribute Tag="T02">
    <Value>{{TEKST2}}</Value>
   </Attribute>
   <Attribute Tag="T03">
    <Value>{{TEKST3}}</Value>
   </Attribute>
   <Attribute Tag="T04">
    <Value>{{TEKST4}}</Value>
   </Attribute>
   <Attribute Tag="T05">
    <Value>{{TEKST5}}</Value>
   </Attribute>
   <Attribute Tag="T06">
    <Value>{{TEKST6}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
    <SnapPoint X="3" Y="0"/>
    <SnapPoint X="-3" Y="0"/>
    <SnapPoint X="0" Y="3"/>
    <SnapPoint X="0" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="KO-SKT Rømningsavstand" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Tredjeperson" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt</RelationSpace>
  <AttachmentCategory Name="skilt" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt"/>
  <AttachTo Category="kl-mast" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Skilt Rømningsavstand begge veier">
   <Variant Name="Skilt Rømningsavstand begge veier"/>
   <Variant Name="Skilt Rømningsavstand mot venstre"/>
   <Variant Name="Skilt Rømningsavstand mot høyre"/>
  </Variants>
  <SetValue Key="dir" Value="both"/>
  <CustomAttribute DataType="String" Name="LeftDistance" DisplayName="Rømningsavstand mot venstre" DefaultValue="-" Description="The 'LeftDistance' custom attribute holds the distance, along own alignment, between the board and a left-sided related marker (FE-DIV MARKØR) object."/>
  <CustomAttribute DataType="String" Name="RightDistance" DisplayName="Rømningsavstand mot høyre" DefaultValue="-" Description="The 'RightDistance' custom attribute holds the distance, along own alignment, between the board and a right-sided related marker (FE-DIV MARKØR) object."/>
  <LuaExpression Name="LeftDistance">
   <Formula>NOBN_bnp_getEscapeDistanceBoardTextLeft(10,0)</Formula>
  </LuaExpression>
  <LuaExpression Name="RightDistance">
   <Formula>NOBN_bnp_getEscapeDistanceBoardTextRight(10,0)</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>
				if Variant == "Skilt Rømningsavstand begge veier" then
					return "NO-BN-3D-KO-SKT-SKILT-RØMNINGSAVSTAND-VH"
				elseif  Variant == "Skilt Rømningsavstand mot venstre" then
					return "NO-BN-3D-KO-SKT-SKILT-RØMNINGSAVSTAND-V" 
				elseif  Variant == "Skilt Rømningsavstand mot høyre" then
					return "NO-BN-3D-KO-SKT-SKILT-RØMNINGSAVSTAND-H"
				else
					return "Unrecognized variant ["..Variant.."], cannot Evaluate Model3DName",_warning
				end
			</Formula>
  </LuaExpression>
  <InsertPointObject VariantName="Skilt Rømningsavstand begge veier" DisplayBlockName="NO-BN-2D-SKILT-TREDJEPERSON-ROEMNINGSVEI-VH-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.8">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Skilt Rømningsavstand mot venstre" DisplayBlockName="NO-BN-2D-SKILT-TREDJEPERSON-ROEMNINGSVEI-V-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.8">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Skilt Rømningsavstand mot høyre" DisplayBlockName="NO-BN-2D-SKILT-TREDJEPERSON-ROEMNINGSVEI-H-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.8">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-SKILT-TREDJEPERSON-ROEMNINGSVEI-VH-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-SKILT-TREDJEPERSON
				{% if Variant == 'Skilt Rømningsavstand begge veier' %}ROEMNINGSVEI-VH
				{% elsif Variant == 'Skilt Rømningsavstand mot venstre' %}ROEMNINGSVEI-V
				{% elsif Variant == 'Skilt Rømningsavstand mot høyre' %}ROEMNINGSVEI-H
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
   <SymbolAttribute Tag="VDIST">
    <Value>{{LeftDistance}}</Value>
   </SymbolAttribute>
   <SymbolAttribute Tag="HDIST">
    <Value>{{RightDistance}}</Value>
   </SymbolAttribute>
  </SymbolDefinition>
  <Model3DDefinition>
   <Attribute Tag="T01">
    <Value>{{LeftDistance}}</Value>
   </Attribute>
   <Attribute Tag="T02">
    <Value>{{RightDistance}}</Value>
   </Attribute>
  </Model3DDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="KO-SKT Stopp se og lytt" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Tredjeperson" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt_mot_vei</RelationSpace>
  <AttachmentCategory Name="skilt_mot_vei" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt_mot_vei"/>
  <AttachTo Category="signal_mot_vei"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="10" Layer="JBTKO@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="18" Layer="JBTKO@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="18" Layer="JBTKO@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="None"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants>
   <Variant Name="Skilt Stopp se og lytt">
    <SetValue Key="Model3DName" Value="NO-BN-3D-FE-DIV-UKJENT"/>
   </Variant>
  </Variants>
  <SetValue Key="dir" Value="both"/>
  <InsertPointObject VariantName="Skilt Stopp se og lytt" DisplayBlockName="NO-BN-2D-SKILT-TREDJEPERSON-STOPPSEOGLYTT-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
   <OwnAlignmentTargetSpace>vei</OwnAlignmentTargetSpace>
   <JigSymbolAppearance RotateIfRightSideOfAlignment="true" AddAngle="0" EnableDirectionSetting="false"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-SKILT-TREDJEPERSON-STOPPSEOGLYTT-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt_mot_vei"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSign" Class="RailwayPlacedObject" Name="SA-MSS Trafikkskilt 138 Jernbaneovergang" DrawTail="true" Layer="JBTKO_SKT" Color="ByLayer" Group="Skilt/Tredjeperson" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>skilt_mot_vei</RelationSpace>
  <AttachmentCategory Name="skilt_mot_vei" PassAttachmentToTarget="true"/>
  <AttachTo Category="skilt_mot_vei"/>
  <AttachTo Category="signal_mot_vei" DrawTail="true"/>
  <AttachTo Category="skiltfeste" DrawTail="true"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="7" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="-90" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="15" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="-1.4" Y="15" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="-90"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Skilt"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>
				if Yokemounted then
					--Object has  the Yokemounted custom attribute:
					return Yokemounted and 8.0 or 0
				else
					if Variant:find("Baliseskilt") then return 0.30 --Typically located on platform side facing the track
					elseif Variant:find("75B") then return 2.75 --On tunnel wall
					elseif Variant:find("Rømningsavstand") then return 1.85 --Escape distance/directions. On tunnel wall.
					else
						return 0
					end
				end
			</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_bnp_getBoardOrPoleName()</Formula>
  </LuaExpression>
  <LuaExpression Name="Sight">
   <Formula>NOBN_bnp_getBoardSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <Variants DefaultValue="Andreaskors for enkeltspor">
   <Variant Name="Andreaskors for enkeltspor">
    <SetValue Key="name" Value="Jernbaneovergang"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-TRAFIKKSKILT-138-JERNBANEOVERGANG-ENKELTSPOR"/>
   </Variant>
   <Variant Name="Andreaskors for flere spor">
    <SetValue Key="name" Value="Jernbaneovergang flere spor"/>
    <SetValue Key="Model3DName" Value="NO-BN-3D-SA-MSS-TRAFIKKSKILT-138-JERNBANEOVERGANG-FLERSPOR"/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="Andreaskors for enkeltspor" DisplayName="Trafikkskilt 138 Jernbaneovergang" DisplayBlockName="NO-BN-2D-SKILT-TREDJEPERSON-138-MOT-VEI-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>vei</OwnAlignmentTargetSpace>
   <OwnAlignmentTargetSpace>hjelpelinje</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="Andreaskors for flere spor" DisplayName="Trafikkskilt 138 Jernbaneovergang flere spor" DisplayBlockName="NO-BN-2D-SKILT-TREDJEPERSON-138-MOT-VEI-FLERE-SPOR-{{SymbolMode}}" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
   <OwnAlignmentTargetSpace>vei</OwnAlignmentTargetSpace>
   <OwnAlignmentTargetSpace>hjelpelinje</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-SKILT-TREDJEPERSON-138-MOT-VEI-{{SymbolMode}}" AllowSymbolMove="true">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270|plus:0}}
														{% elsif dir == 'down' %}{{90|plus:0}}
														{% elsif dir == 'both' and RightSided %}{{180|plus:0}}
														{% elsif dir == 'both' and LeftSided %}{{0|plus:0}}
														{% elsif dir == 'none' and RightSided %}{{0|plus:0}}
														{% elsif dir == 'none' and LeftSided %}{{180|plus:0}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-SKILT-TREDJEPERSON
				{% if Variant == 'Andreaskors for enkeltspor' %}138-MOT-VEI
				{% elsif Variant == 'Andreaskors for flere spor' %}138-MOT-VEI-FLERE-SPOR
				{% else %}BAD_Variant
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt_mot_vei"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
  <DisplayPointDefinitions>
   <SnapPoints>
    <SnapPoint X="3" Y="3"/>
    <SnapPoint X="3" Y="-3"/>
    <SnapPoint X="-3" Y="3"/>
    <SnapPoint X="-3" Y="-3"/>
   </SnapPoints>
  </DisplayPointDefinitions>
 </ObjectType>
 <ObjectType DataType="tSignal" Class="RailwayPlacedObject" Name="TFES_ERP ERTMS" Layer="JBTSA_MSS" Color="ByLayer" Group="Skilt/ERTMS" AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}">
  <RelationSpace>ertms_skilt</RelationSpace>
  <AttachmentCategory Name="ertms_skilt"/>
  <AttachTo Category="ertms_skilt"/>
  <AttachTo Category="markerboard"/>
  <AttachTo Category="skiltfeste"/>
  <CustomAttribute DataType="Double" Name="AngularOffset" DisplayName="3D Angular offset" DefaultValue="0.0" Category="3D" Description="The 'AngularOffset' custom property [DD] is added to the object's basic 3D orientation. The basic orientation is defined by the current 'dir' property's up/down/none/both/unknown value. If property dir is 'unknown' then the orientation will be 45 degrees as a visual reminder that dir is unknown. For some objects types (e.g. yokes) the 2D symbol orientation will also be affected."/>
  <CustomAttribute DataType="String" Name="Tag" DisplayName="Tag" DefaultValue="" Category="Metadata" Description="The 'Tag' custom property holds a unique identifier, within an administration's context, such as a unique key for the administration's asset management database. Hide/unhide using the ShowLayer tool."/>
  <CustomAttribute DataType="String" Name="ObjectInfo" DisplayName="Objektinfo" DefaultValue="" Category="Metadata" Description="The 'ObjectInfo' custom property holds user-defined information which needs to be shown in drawings. Hide/unhide using the ShowLayer tool. Extra information, e.g. for the building process, should be stored in the Description property."/>
  <CustomAttribute DataType="String" Name="Var0" DisplayName="Var0" DefaultValue="" Category="Local variables" Description="The 'Var0' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var1" DisplayName="Var1" DefaultValue="" Category="Local variables" Description="The 'Var1' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var2" DisplayName="Var2" DefaultValue="" Category="Local variables" Description="The 'Var2' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var3" DisplayName="Var3" DefaultValue="" Category="Local variables" Description="The 'Var3' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var4" DisplayName="Var4" DefaultValue="" Category="Local variables" Description="The 'Var4' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var5" DisplayName="Var5" DefaultValue="" Category="Local variables" Description="The 'Var5' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var6" DisplayName="Var6" DefaultValue="" Category="Local variables" Description="The 'Var6' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var7" DisplayName="Var7" DefaultValue="" Category="Local variables" Description="The 'Var7' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var8" DisplayName="Var8" DefaultValue="" Category="Local variables" Description="The 'Var8' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="String" Name="Var9" DisplayName="Var9" DefaultValue="" Category="Local variables" Description="The 'Var9' custom property [String] is a local variable for free use."/>
  <CustomAttribute DataType="Boolean" Name="Yokemounted" DisplayName="Åkmontert" DefaultValue="False" Category="Custom properties" Description="The 'Yokemounted' boolean custom property defines whether the object (board, signal etc) has its own mast (default:false) or is suspended from a yoke (true)."/>
  <TextAttribute Annotative="true" BindingProperty="name" CadAttributeTag="OBJEKTNAVN" X="0" Y="8" Layer="JBTSA@NAVN" Color="ByBlock" Justify="MiddleCenter" Height="1.25" Rotation="0" ObliqueAngle="15"/>
  <TextAttribute Annotative="true" BindingProperty="Tag" CadAttributeTag="TAG" X="0" Y="5" Layer="JBTSA@TAG" Color="ByLayer" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <TextAttribute Annotative="true" BindingProperty="ObjectInfo" CadAttributeTag="OBJEKTINFO" X="0" Y="11" Layer="JBTSA@INFO" Color="ByBlock" Justify="MiddleCenter" Height="0.9" Rotation="0" ObliqueAngle="0"/>
  <LuaExpression Name="Tag">
   <Formula>RC__sub(RcType,1,6).."-nnnnnn"</Formula>
  </LuaExpression>
  <CustomAttribute DataType="Enumeration" Name="Discipline" DisplayName="Discipline" DefaultValue="" Category="General" Description="The custom 'Discipline' attribute [Felles | Skilt | Overbygning | Underbygning | Kontaktledning | Signal | Tele | Lavspent] identifies the discpline owning the object.">
   <Values>
    <Value>Felles</Value>
    <Value>Underbygning</Value>
    <Value>Overbygning</Value>
    <Value>Kontaktledning</Value>
    <Value>Signal</Value>
    <Value>Tele</Value>
    <Value>Lavspent</Value>
    <Value>Skilt</Value>
   </Values>
  </CustomAttribute>
  <SetValue Key="Discipline" Value="Signal"/>
  <CustomAttribute DataType="String" ReadOnly="true" Category="Model check" Name="mc_NumberOfOcpAreas" DisplayName="Antall OCP områder" Description="Number of peration / Control Point (OCP) areas to which the object belongs. Most objects shall belong to an OCP, holding properties such as location name and/or resource names."/>
  <LuaExpression Name="mc_NumberOfOcpAreas" IsModelCheck="true">
   <Formula>NOBN_com_chkNumberOfOcpAreas()</Formula>
  </LuaExpression>
  <LuaExpression Name="ocpStationReference">
   <Formula>RC_com_getOcpStationReference()</Formula>
  </LuaExpression>
  <LuaExpression Name="Stage">
   <Formula>layer:match(".+(%d%d%d%d%-%d%d%d%d)$") or "?"</Formula>
  </LuaExpression>
  <LuaExpression Name="RelativeElevation">
   <Formula>if Yokemounted == nil then return 0 else return Yokemounted and 8.0 or 0 end</Formula>
  </LuaExpression>
  <LuaExpression Name="Rotation3D.Z">
   <Formula>NOBN_trk_getYawFromDir()</Formula>
  </LuaExpression>
  <LuaExpression Name="name">
   <Formula>NOBN_sig_getSignalFullName()</Formula>
  </LuaExpression>
  <LuaExpression Name="ObjectInfo">
   <Formula>NOBN_sig_getSignalPartNames()</Formula>
  </LuaExpression>
  <LuaExpression Name="sight">
   <Formula>NOBN_sig_getSignalSightingRequirement()</Formula>
  </LuaExpression>
  <SetValue Key="EarthingMethod" Value="Rail"/>
  <LuaExpression Name="EarthingLabelColor">
   <Formula>NOBN_com_assignEarthingLabelColor()</Formula>
  </LuaExpression>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosesskode" Name="IsyProsesskode" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosesskode"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Prosessnavn " Name="IsyProsessnavn" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Prosessnavn"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="UInt32" DisplayName="ISY Mengde" Name="IsyMengde" DefaultValue="1" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Mengde"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Enhet" Name="IsyEnhet" DefaultValue="stk" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Enhet"/>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Sted" Name="IsySted" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" Description="The IsySted [Enum] is a string from an from external file, referenced as a path+filename and  parsed with suitable Lua code, declared in global property 'ExternalFileObjectReferences'." ExtendedDataPropertyDefinition="ISY Sted" StandardValuesFromLuaFormula="true" StandardValuesExclusive="true">
   <StandardValuesLuaFormula>DocumentData.ExternalFileObjects.ISY_Steder</StandardValuesLuaFormula>
  </CustomAttribute>
  <CustomAttribute Category="ISY Beskrivelse" DataType="String" DisplayName="ISY Postnotat" Name="IsyPostnotat" DefaultValue="" ExtendedDataPropertySet="ISY Beskrivelse" ExtendedDataPropertyDefinition="ISY Postnotat"/>
  <LuaExpression Name="IsyPostnotat">
   <Formula>NOBN_bnp_getBoardOrPoleName().." - "..code</Formula>
  </LuaExpression>
  <LuaExpression Name="PoleRouting3D">
   <Formula>NOBN_bnp_getPoleRoutingDefaultValue()</Formula>
  </LuaExpression>
  <LuaExpression Name="Offset3D.Z">
   <Formula>NOBN_bnp_getBoardOffset3dZ()</Formula>
  </LuaExpression>
  <LuaExpression Name="Model3DName">
   <Formula>_SA_MSS_ertms_model3DName()</Formula>
  </LuaExpression>
  <LuaFunction Name="_SA_MSS_ertms_model3DName()" ReturnType="String" HideFromUser="false" Description="Returns the 3D model name [String] for the ERTMS board. Covers various ERTMS board types, except stop/location markerboards.">
   <Constructor>String _SA_MSS_ertms_model3DName()</Constructor>
   <Formula>
				function _SA_MSS_ertms_model3DName()
					--Board type:
					t = "NO-BN-3D-SA-MSS"
					if Variant:find("Planovergang") then 
						t = t.."-E36-LEVEL-CROSSING"
					elseif Variant:find("Shunting") then 
						t = t.."-SHUNTING-AREA"
						t = t..(Variant:find("begynner") and "-BEGIN" or "-END")
					elseif Variant:find("Supervised") then 
						t = t.."-SUPERVISED-AREA"
						t = t..(Variant:find("begynner") and "-BEGIN" or "-END")
					else 
						return "Unrecognized variant ["..Variant.."], cannot determine 3D Model Name.",_error
					end
					--Placement Right/Left/Above (relevant only for STOP and POSITION markers):
					if Variant:find("sidestilt") then
						if RightSided then
							t = (dir == 'up') and t.."-RIGHT" or t.."-LEFT"
						else
							t = (dir == 'up') and t.."-LEFT" or t.."-RIGHT"
						end
					elseif Variant:find("nedpil") then
						t = t.."-ABOVE"
					else
						--Do nothing for boards that don't depend on position)
					end
					--Size:
					if Size == "Large" then
						t = t.."-700x700"
					elseif Size == "Small" then
						t = t.."-400x400"
					else
						return "Unrecognized variant ["..Variant.."], cannot determine 3D Model Name.",_error
					end
					return t
				end
			</Formula>
  </LuaFunction>
  <Variants>
   <Variant Name="ERTMS Planovergang, signal">
    <SetValue Key="type" Value="other:levelCrossingSignal"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
   </Variant>
   <Variant Name="ERTMS Planovergang, forsignal">
    <SetValue Key="type" Value="other:levelCrossingDistantSignal"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
   </Variant>
   <Variant Name="ERTMS E34 Stedsskilt, sidestilt">
    <SetValue Key="type" Value="main"/>
    <SetValue Key="function" Value="blocking"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
    <SetValue Key="Yokemounted" Value="False"/>
   </Variant>
   <Variant Name="ERTMS E34 Stedsskilt, nedpil">
    <SetValue Key="type" Value="main"/>
    <SetValue Key="function" Value="blocking"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
    <SetValue Key="Yokemounted" Value="True"/>
   </Variant>
   <Variant Name="ERTMS E35 Stoppskilt, sidestilt">
    <SetValue Key="type" Value="main"/>
    <SetValue Key="function" Value="blocking"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
    <SetValue Key="Yokemounted" Value="False"/>
   </Variant>
   <Variant Name="ERTMS E35 Stoppskilt, nedpil">
    <SetValue Key="type" Value="main"/>
    <SetValue Key="function" Value="blocking"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
    <SetValue Key="Yokemounted" Value="True"/>
   </Variant>
   <Variant Name="ERTMS Shunting Area begynner">
    <SetValue Key="type" Value="other:shuntingAreaBegin"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
   </Variant>
   <Variant Name="ERTMS Shunting Area slutter">
    <SetValue Key="type" Value="other:shuntingAreaEnd"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
   </Variant>
   <Variant Name="ERTMS Supervised Area slutter">
    <SetValue Key="type" Value="other:supervisedAreaEnd"/>
    <SetValue Key="switchable" Value="false"/>
    <SetValue Key="virtual" Value="false"/>
    <SetValue Key="ruleCode" Value=""/>
   </Variant>
  </Variants>
  <InsertPointObject VariantName="ERTMS Planovergang, signal" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-ERTMS-LEVEL-CROSSING" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ERTMS Planovergang, forsignal" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-ERTMS-LEVEL-CROSSING-ANNOUNCE" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ERTMS E34 Stedsskilt, sidestilt" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-ERTMS-E34-LOCATION-RSIDE" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true" MirrorAboutJigXAxisIfLeftSideOfAlignment="true"/>
   <SetValue Key="type" Value="main"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ERTMS E34 Stedsskilt, nedpil" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-ERTMS-E34-LOCATION-OVER" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ERTMS E35 Stoppskilt, sidestilt" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-ERTMS-E35-STOP-RSIDE" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true" MirrorAboutJigXAxisIfLeftSideOfAlignment="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ERTMS E35 Stoppskilt, nedpil" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-ERTMS-E35-STOP-OVER" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ERTMS Shunting Area begynner" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-ERTMS-SHUNTING-AREA-BEGIN" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ERTMS Shunting Area slutter" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-ERTMS-SHUNTING-AREA-END" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <InsertPointObject VariantName="ERTMS Supervised Area slutter" DisplayBlockName="NO-BN-2D-JBTSA_MSS-SKILT-ERTMS-SUPERVISED-AREA-END" DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4.0">
   <OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
   <JigSymbolAppearance AddAngle="-90" EnableDirectionSetting="true"/>
  </InsertPointObject>
  <SymbolDefinition AllowSymbolMove="true" DefaultBlockName="">
   <Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>
   <BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTSA_MSS
				SKILT-ERTMS
				{% if Variant == 'ERTMS E34 Stedsskilt, sidestilt' or Variant == 'ERTMS E34 Stedsskilt, nedpil' %}E34-LOCATION
				{% elsif Variant == 'ERTMS E35 Stoppskilt, sidestilt' or Variant == 'ERTMS E35 Stoppskilt, nedpil' %}E35-STOP
				{% elsif Variant == 'ERTMS Planovergang, signal' %}LEVEL-CROSSING
				{% elsif Variant == 'ERTMS Planovergang, forsignal' %}PLANOVERGANG-FORSIGNAL
				{% elsif Variant == 'ERTMS Shunting Area begynner' %}SHUNTING-AREA-BEGIN
				{% elsif Variant == 'ERTMS Shunting Area slutter' %}SHUNTING-AREA-END
				{% elsif Variant == 'ERTMS Supervised Area slutter' %}SUPERVISED-AREA-END
				{% else %}BAD_Variant
				{% endif %}
				{% if Yokemounted %}YOKE{% endif %}
				{% if ArrowDirection == 'leftArrow' %}RSIDE
				{% elsif ArrowDirection == 'rightArrow' %}LSIDE
				{% elsif ArrowDirection == 'downArrow' %}ABOVE
				{% elsif ArrowDirection == 'noArrow' %}
				{% else %}BAD_ARROWDIRECTION
				{% endif %}
			</BlockNameFormat>
  </SymbolDefinition>
  <SymbolDefinition DefaultBlockName="NO-BN-2D-##RC_INNSETTINGSPUNKT-Schematic"/>
  <DockPointDefinitions>
   <SnapPoints>
    <SnapPoint X="0" Y="0" TargetSpace="skilt"/>
    <SnapPoint X="0" Y="0" TargetSpace="skiltfeste"/>
   </SnapPoints>
  </DockPointDefinitions>
 </ObjectType>
</RailwayObjectTypeDefinitions>
