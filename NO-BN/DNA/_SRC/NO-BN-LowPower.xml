<!--========================================================================================================

    NO-BN-LowPower.xml
	
	Include in DNA file using XPPq XML preprocessor directive <xpp:expand href="fileName.xml"/>.

	Copyright (c) 2015-2024 Railcomplete AS, Norway, NO916118503
	
=========================================================================================================-->
<xpp:bloc>



<!--========================================================================================================
	LAVSPENT
	LYSARMATURER
	Lyspunkter i tak, på vegg, typisk innendørs
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" LuaName="rctype_LightingFixture" Name="JBTEL_LYA Lysarmatur"
				Layer="JBTEL_LYA" Color="ByLayer"
				Group="Lavspent/Belysning"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>belysning</RelationSpace>

		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___SYMBOLFRAME"/>
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___VAR"/>
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW"/>
		<xpp:expand select="NOBN_com_DISCIPLINE___POW"/>
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS"/>
		<xpp:expand select="NOBN_com_SET_OCP_STATION_REFERENCE"/>
		<!-- <xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT"/> --> <!-- Only contains 3d properties, but this object doesn't have 3d yet knhel 2023-05-09 -->
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_OBJECT"/>
		<xpp:expand select="NOBN_com_PSET_BANE_NOR"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA"/>
		<xpp:expand select="NOBN_com_PSET_ISY_STK"/>
		<xpp:expand select="NOBN_com_PSET_TITTELFELT"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_LYA"/>
		
		<Variants DefaultValue="Lysarmatur">
			<!-- Two variants  for use in catenaray portals - indirectly earthed by the portal. No models prepared in 3D other than the light head. -->
			<Variant Name="Lysarmatur">
			</Variant>
		</Variants>

		<!-- BEGIN Banedata custom attributes (specific to this object type) -->
		<CustomProperty DataType="String" Name="EL_LYA_Subvariant" DisplayName="Lysarmatur type" DefaultValue="Armatur"
			Description="The lighting fixture's type [freetext], e.g. 'Ukjent' (unknown), 'Armatur'."/>
		
		<CustomProperty DataType="UInt32" Name="EL_LYA_Power" DisplayName="Lysarmatur effekt" DefaultValue="26"
			Description="The lighting fixture's power [W]."/>
		
		<CustomProperty DataType="String" Name="EL_LYA_Producer" DisplayName="Lysarmatur fabrikant" DefaultValue="Ukjent"
			Description="The lighting fixture's producer [freetext], e.g. 'Ukjent' (unknown), 'Glamox', 'Sebra light'."/>
		
		<CustomProperty DataType="String" Name="EL_LYA_ProductType" DisplayName="Lysarmatur typebetegnelse" DefaultValue="Ukjent"
			Description="The lighting fixture's product type [freetext], e.g. 'Ukjent' (unknown), 'Glow 300'."/>
		
		<CustomProperty DataType="Enumeration" Name="EL_LYA_BatteryBackup" DisplayName="Lysarmatur batteribackup" DefaultValue="Nei"
			Description="The lighting fixture's battery backup requirement [ Nei (none) | Ja, krav til oppetid (Yes, required) ].">
			<Values>
				<Value>Nei</Value>
				<Value>Ja, krav til oppetid</Value>
			</Values>
		</CustomProperty>
		
		<CustomProperty DataType="String" Name="EL_LYA_LightFixtureRalColorCode" DisplayName="Lysarmatur RAL-kode" DefaultValue="Ukjent"
			Description="The lighting fixture's RAL color code [ Ukjent (unknown) | &lt;RAL code text string&gt; ]."/>
		
		<!-- END Banedata custom attributes (specific to this object type) -->

		<SetValue Key="dir" Value="up"/>

		<InsertPointObject Name="Lyspunkt" DisplayBlockName="NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="1e-3">
			<OwnAlignmentTargetSpace>hjelpelinje</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
			<SetValue Key="dir" Value="up"/>
			<SetValue Key="name" Value="Lysarmatur"/>
			<SetValue Key="PoleRouting" Value="None"/>
			<SetValue Key="Geometry3D_0.Name" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"/>
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR-Geographic" AllowSymbolMove="true">
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>	
			<BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" DoNotIncludeInSymbolFrame="true"/>

	</ObjectType>



<!--========================================================================================================
	LAVSPENT
	BELYSNING
	Lys i åk, på mast, adkomstveibelysning, plattformbelysning, P-plasser, arealbelyning (sporvekselbelysning) etc
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" LuaName="rctype_Lighting" Name="JBTEL_LYS Lys"
				Layer="JBTEL_LYS" Color="ByLayer"
				Group="Lavspent/Belysning"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>belysning</RelationSpace>

		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___SYMBOLFRAME"/>
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___VAR"/>
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW"/>
		<xpp:expand select="NOBN_com_DISCIPLINE___POW"/>
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS"/>
		<xpp:expand select="NOBN_com_SET_OCP_STATION_REFERENCE"/>
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT"/>
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_RAIL"/> <!-- will be overridden when Variant is set -->
		<xpp:expand select="NOBN_com_PSET_BANE_NOR"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA"/>
		<xpp:expand select="NOBN_com_PSET_ISY_STK"/>
		<xpp:expand select="NOBN_com_PSET_TITTELFELT"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_LYS"/>
		
		<Variants DefaultValue="Uspesifisert">
			<Variant Name="Uspesifisert">
				<SetValue Key="LightingFixtureSubvariant" Value="Punkt"/>
				<SetValue Key="Geometry3D_0.Name" Value="(har ikke 3D for {{Variant}})"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>
				<SetValue Key="EarthingMethod" Value="Unknown"/>
			</Variant>
			<Variant Name="Arealbelysning">
				<SetValue Key="LightingFixtureSubvariant" Value="1-lys"/>
				<SetValue Key="dir" Value="both"/>
				<SetValue Key="LightingFixturePoleHeight" Value="4000"/>
				<SetValue Key="LightingFixtureArmLength" Value="500"/>
				<SetValue Key="Geometry3D_0.Name" Value="(har ikke 3D for {{Variant}})"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>
				<SetValue Key="EarthingMethod" Value="Rail"/>
			</Variant>
			<Variant Name="Armatur i åk">
				<SetValue Key="LightingFixtureSubvariant" Value="1-lys"/>
				<SetValue Key="dir" Value="both"/>
				<SetValue Key="Geometry3D_0.Name" Value="(har ikke 3D for {{Variant}})"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="Vertical"/>
				<SetValue Key="Geometry3D_0.Offset.Z" Value="0.25"/>
				<SetValue Key="EarthingMethod" Value="None"/>
			</Variant>
			<Variant Name="Belysning adkomst/gangvei, i tak">
				<SetValue Key="LightingFixtureSubvariant" Value="Punkt"/>
				<SetValue Key="dir" Value="up"/>
				<SetValue Key="Geometry3D_0.Name" Value="(har ikke 3D for {{Variant}})"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>
				<SetValue Key="EarthingMethod" Value="Object"/>
			</Variant>
			<Variant Name="Belysning adkomst/gangvei, på gulv">
				<SetValue Key="LightingFixtureSubvariant" Value="Punkt"/>
				<SetValue Key="dir" Value="up"/>
				<SetValue Key="Geometry3D_0.Name" Value="(har ikke 3D for {{Variant}})"/>
				<SetValue Key="Geometry3D_0.Rotation.Y" Value="180"/>
				<SetValue Key="EarthingMethod" Value="Object"/>
			</Variant>
			<Variant Name="Belysning adkomst/gangvei, på vegg">
				<SetValue Key="LightingFixtureSubvariant" Value="Punkt"/>
				<SetValue Key="dir" Value="up"/>
				<SetValue Key="Geometry3D_0.Name" Value="(har ikke 3D for {{Variant}})"/>
				<SetValue Key="Geometry3D_0.Rotation.Y" Value="{% if LeftSided %}90{% else %}-90{% endif %}"/>
				<SetValue Key="EarthingMethod" Value="Object"/>
			</Variant>
			<Variant Name="Belysning for vei/parkering">
				<SetValue Key="LightingFixtureSubvariant" Value="1-lys"/>
				<SetValue Key="dir" Value="both"/>
				<SetValue Key="LightingFixturePoleHeight" Value="4000"/>
				<SetValue Key="LightingFixtureArmLength" Value="500"/>
				<SetValue Key="Geometry3D_0.Name" Value="(har ikke 3D for {{Variant}})"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>
				<SetValue Key="EarthingMethod" Value="Wire"/>
			</Variant>
			<Variant Name="Belysning utvendig bygg">
				<SetValue Key="LightingFixtureSubvariant" Value="Punkt"/>
				<SetValue Key="dir" Value="both"/>
				<SetValue Key="Geometry3D_0.Name" Value="(har ikke 3D for {{Variant}})"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>har
				<SetValue Key="EarthingMethod" Value="Object"/>
			</Variant>
			<!-- TODO: Skille ut markeringslys i plattform som eget linjeobjekt med lys -->
			<Variant Name="Nedfelt markeringslys på plattform">
				<SetValue Key="LightingFixtureSubvariant" Value="Punkt"/>
				<SetValue Key="dir" Value="up"/>
				<SetValue Key="Geometry3D_0.Name" Value="(har ikke 3D for {{Variant}})"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>
				<SetValue Key="EarthingMethod" Value="Object"/>
			</Variant>
			<Variant Name="Nødbelysning">
				<SetValue Key="LightingFixtureSubvariant" Value="Punkt"/>
				<SetValue Key="dir" Value="up"/>
				<SetValue Key="Geometry3D_0.Name" Value="(har ikke 3D for {{Variant}})"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>
				<SetValue Key="EarthingMethod" Value="Object"/>
			</Variant>
			<!-- TODO: Skille ut håndløper med lys som eget linjeobjekt -->
			<Variant Name="Nødbelysning i/under/ved håndløper">
				<SetValue Key="LightingFixtureSubvariant" Value="Punkt"/>
				<SetValue Key="dir" Value="up"/>
				<SetValue Key="Geometry3D_0.Name" Value="(har ikke 3D for {{Variant}})"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>
				<SetValue Key="Geometry3D_0.Rotation.Y" Value="180"/>
				<SetValue Key="EarthingMethod" Value="Rail"/>
			</Variant>
			<Variant Name="Plattformbelysning på mast">
				<SetValue Key="LightingFixtureSubvariant" Value="1-lys"/>
				<SetValue Key="dir" Value="both"/>
				<SetValue Key="LightingFixturePoleHeight" Value="4000"/>
				<SetValue Key="LightingFixtureArmLength" Value="500"/>

				<SetValue Key="Geometry3D_0.Offset.X" Value="0"/>
				<SetValue Key="Geometry3D_0.Offset.Y" Value="0"/>
				<SetValue Key="Geometry3D_0.Offset.Z" Value="0"/>
				<SetValue Key="Geometry3D_0.Rotation.X" Value="0"/>
				<SetValue Key="Geometry3D_0.Rotation.Y" Value="0"/>
				<SetValue Key="Geometry3D_0.Rotation.Z" Value="0"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>
				<SetValue Key="EarthingMethod" Value="Rail"/>
			</Variant>

			<!--<SetValue Key="Geometry3D_0.Name" Value="NO-BN-3D-EL-LYS-LYSMAST-{{LightingFixtureSubvariant}}-U{{LightingFixtureArmLength}}-H{LightingFixturePoleHeight}}{% if LightingFixtureFoundation == 'Yes' %}-{{ LightingFixtureFoundation }}{% endif %}"/> -->

			<Variant Name="Plattformbelysning på vegg">
				<SetValue Key="LightingFixtureSubvariant" Value="Punkt"/>
				<SetValue Key="dir" Value="up"/>
				<SetValue Key="Geometry3D_0.Name" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>
				<SetValue Key="Geometry3D_0.Rotation.Y" Value="{% if LeftSided %}90{% else %}-90{% endif %}"/>
				<SetValue Key="EarthingMethod" Value="Rail"/>
			</Variant>
			<Variant Name="Plattformbelysning under tak">
				<SetValue Key="LightingFixtureSubvariant" Value="Punkt"/>
				<SetValue Key="dir" Value="up"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>
				<SetValue Key="Geometry3D_0.Name" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"/>
				<SetValue Key="EarthingMethod" Value="Rail"/>
			</Variant>
			<Variant Name="Plattformbelysning under tak, opplys">
				<SetValue Key="LightingFixtureSubvariant" Value="Punkt"/>
				<SetValue Key="dir" Value="up"/>
				<SetValue Key="Geometry3D_0.Name" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>
				<SetValue Key="Geometry3D_0.Rotation.Y" Value="180"/>
				<SetValue Key="EarthingMethod" Value="Rail"/>
			</Variant>
			<Variant Name="Sporvekselbelysning">
				<SetValue Key="LightingFixtureSubvariant" Value="1-lys"/>
				<SetValue Key="dir" Value="both"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>
				<SetValue Key="EarthingMethod" Value="Rail"/>

				<SetValue Key="Geometry3D_0.Offset.X" Value="0"/>
				<SetValue Key="Geometry3D_0.Offset.Y" Value="0"/>
				<SetValue Key="Geometry3D_0.Offset.Z" Value="0"/>
				<SetValue Key="Geometry3D_0.Rotation.X" Value="0"/>
				<SetValue Key="Geometry3D_0.Rotation.Y" Value="0"/>
				<SetValue Key="Geometry3D_0.Rotation.Z" Value="0"/>
				<!-- TODO 2021-01-30 CLFEY: Add all 3D models with foundation. -->
				<!-- <SetValue Key="Geometry3D_0.Name" Value="NO-BN-3D-EL-LYS-LYSMAST-{{SubVariant}}-U{{EL_LYS_Arm}}-H{LightingFixturePoleHeight}}-{{LightingFixtureFoundation}}"/> -->
			</Variant>
			<Variant Name="Tunnelbelysning">
				<SetValue Key="LightingFixtureSubvariant" Value="Punkt"/>
				<SetValue Key="dir" Value="up"/>
				<SetValue Key="Geometry3D_0.Name" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>
				<SetValue Key="Geometry3D_0.Rotation.Y" Value="{% if LeftSided %}45{% else %}-45{% endif %}"/>
				<SetValue Key="EarthingMethod" Value="Rail"/>
			</Variant>
			<Variant Name="Øvrige">
				<SetValue Key="LightingFixtureSubvariant" Value="Ukjent"/>
				<SetValue Key="Geometry3D_0.Name" Value="(har ikke 3D for {{Variant}})"/>
				<SetValue Key="Geometry3D_0.PoleRouting" Value="None"/>

				<SetValue Key="Geometry3D_0.Offset.X" Value="0"/>
				<SetValue Key="Geometry3D_0.Offset.Y" Value="0"/>
				<SetValue Key="Geometry3D_0.Offset.Z" Value="0"/>
				<SetValue Key="Geometry3D_0.Rotation.X" Value="0"/>
				<SetValue Key="Geometry3D_0.Rotation.Y" Value="0"/>
				<SetValue Key="Geometry3D_0.Rotation.Z" Value="0"/>

				<SetValue Key="EarthingMethod" Value="Unknown"/>
			</Variant>
		</Variants>

		<CustomProperty DataType="Enumeration" Name="LightingFixtureSubvariant" DisplayName=" Lys type" DefaultValue="Ukjent"
			Description="The lighting fixture subvariant (the available selections depend on the main variant).">
			<Values Variant="Ukjent">
				<Value>Ukjent</Value>
			</Values>
			<Values Variant="Arealbelysning">
				<Value>4-lys</Value>
				<Value>3-lys-T</Value>
				<Value>3-lys</Value>
				<Value>2-lys-V</Value>
				<Value>2-lys</Value>
				<Value>1-lys</Value>
				<Value>1-lys (trinnløs)</Value>
			</Values>
			<Values Variant="Armatur i åk">
				<Value>2-lys</Value>
				<Value>1-lys</Value>
			</Values>
			<Values Variant="Belysning adkomst/gangvei, i tak">
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Belysning adkomst/gangvei, på gulv">
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Belysning adkomst/gangvei, på vegg">
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Belysning for vei/parkering">
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Belysning utvendig bygg">
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Nedfelt markeringslys på plattform">
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Nødbelysning">
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Nødbelysning i/under/ved håndløper">
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Plattformbelysning på mast">
				<Value>4-lys</Value>
				<Value>3-lys-T</Value>
				<Value>3-lys</Value>
				<Value>2-lys-V</Value>
				<Value>2-lys</Value>
				<Value>1-lys</Value>
				<Value>1-lys (trinnløs)</Value>
			</Values>
			<Values Variant="Plattformbelysning på vegg">
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Plattformbelysning under tak">
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Plattformbelysning under tak, opplys">
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Sporvekselbelysning">
				<Value>4-lys</Value>
				<Value>3-lys-T</Value>
				<Value>3-lys</Value>
				<Value>2-lys-V</Value>
				<Value>2-lys</Value>
				<Value>1-lys</Value>
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Tunnelbelysning">
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Øvrige">
				<Value>4-lys</Value>
				<Value>3-lys-T</Value>
				<Value>3-lys</Value>
				<Value>2-lys-V</Value>
				<Value>2-lys</Value>
				<Value>1-lys</Value>
				<Value>Punkt</Value>
			</Values>
		</CustomProperty>

		<CustomProperty DataType="UInt32" Name="LightingFixturePoleHeight" DisplayName="Lys mastehøyde"
			DefaultValue="5000"
			Description="The lighting fixture's pole height [mm]. Note: 3D model name will be deduced in steps of 250 mm from 0 to 1000, thereafter in steps of 500 mm.">
		</CustomProperty>

		<CustomProperty DataType="Enumeration" Name="LightingFixtureFoundation" DisplayName="Lysmast fundament" DefaultValue="Kappe"
			Description="'Stålramme' if the lighting fixture comes with an integrated steel foundation, otherwise '-' (default) if no foundation is required.">
			<Values Variant="Ukjent">
				<Value>Stålramme</Value>
				<Value>Kappe</Value>
			</Values>
			<Values Variant="Arealbelysning">
				<Value>Stålramme</Value>
				<Value>Kappe</Value>
			</Values>
			<Values Variant="Armatur i åk">
				<Value>-</Value>
			</Values>
			<Values Variant="Belysning adkomst/gangvei, i tak">
				<Value>-</Value>
			</Values>
			<Values Variant="Belysning adkomst/gangvei, på gulv">
				<Value>-</Value>
			</Values>
			<Values Variant="Belysning adkomst/gangvei, på vegg">
				<Value>-</Value>
			</Values>
			<Values Variant="Belysning for vei/parkering">
				<Value>Stålramme</Value>
				<Value>Kappe</Value>
			</Values>
			<Values Variant="Belysning utvendig bygg">
				<Value>-</Value>
			</Values>
			<Values Variant="Nedfelt markeringslys på plattform">
				<Value>-</Value>
			</Values>
			<Values Variant="Nødbelysning">
				<Value>-</Value>
			</Values>
			<Values Variant="Nødbelysning i/under/ved håndløper">
				<Value>-</Value>
			</Values>
			<Values Variant="Plattformbelysning på mast">
				<Value>Stålramme</Value>
				<Value>Kappe</Value>
			</Values>
			<Values Variant="Plattformbelysning på vegg">
				<Value>-</Value>
			</Values>
			<Values Variant="Plattformbelysning under tak">
				<Value>-</Value>
			</Values>
			<Values Variant="Plattformbelysning under tak, opplys">
				<Value>-</Value>
			</Values>
			<Values Variant="Sporvekselbelysning">
				<Value>Stålramme</Value>
				<Value>Kappe</Value>
			</Values>
			<Values Variant="Tunnelbelysning">
				<Value>-</Value>
			</Values>
			<Values Variant="Øvrige">
				<Value>Stålramme</Value>
				<Value>Kappe</Value>
			</Values>
		</CustomProperty>
		
		<CustomProperty DataType="Double" Name="LightingFixtureArmLength" DisplayName="Lys armlengde" 
			Description="The length of the arms of the lighting fixture in mm.  Note: 3D model name will be deduced in steps of 250 mm from 500 to 1000, thereafter in steps of 500 mm."
			DefaultValue="1000">
		</CustomProperty>

		<!-- BEGIN Banedata custom attributes (specific to this object type) -->

		<CustomProperty DataType="UInt32" Name="LightingFixturePower" DisplayName="Lys effekt" DefaultValue="26"
			Description="The lighting fixture's power [W] per specimen."/>

		<!-- RAL code seems relevant even though itis not mentioned by Banedata for EL-LYS -->
		<CustomProperty DataType="String" Name="LightingFixtureRalColorCode" DisplayName="Lys RAL-kode"
			DefaultValue="Ukjent"
			Description="The lighting fixture's RAL color code [ Ukjent (unknown) | &lt;RAL code text string&gt; ].">
		</CustomProperty>

		<CustomProperty DataType="String" Name="LightingFixtureHeadType" DisplayName="Hode type"
			DefaultValue="TYPE-A"
			Description="Hode type. Choose between Type-A and Type-B.">
		</CustomProperty>

		<CustomProperty DataType="Double" Name="LightingFixtureArmAngle" DisplayName="Arm Vinkel"
			DefaultValue="3"
			Description="Arm vinkel.">

		</CustomProperty>
		
		<LuaExpression Name="dir"><Formula>"both"</Formula></LuaExpression>

		<LuaFunction Name="JBTEL_LYS_Composed()" ReturnType="String" 
		Description="Returns true if lightfixture is composed of multiple entries.">
			<Constructor>String JBTEL_LYS_Composed(ObjRef lightingFixture = this)</Constructor>
			<Formula>
function JBTEL_LYS_Composed(lightingFixture)
	if lightingFixture.Variant == "Sporvekselbelysning" then
		return true
	elseif lightingFixture.Variant == "Plattformbelysning på mast" then
		return true
	elseif lightingFixture.Variant == "Øvrige" then
		return true
	elseif lightingFixture.Variant == "Arealbelysning" then
		return true
	else 
		return false
	end
end
			</Formula>
		</LuaFunction> 

		<LuaExpression Name="Geometry3D_0.Frozen">
			<Formula>JBTEL_LYS_Composed(this)
			</Formula>
		</LuaExpression>

		<!--Fundament-->
		<DynamicProperty Type="Representation3D" Subtype="Geometry3D">
			<SetValue Key="Parent" Value="0"/>
			<LuaExpression Name="Name">
				<Formula>if LightingFixtureFoundation:lower() == "kappe" then
	return "NO-BN-2D-EL-LYS-LYSMAST-FUNDAMENT-BETONGKAPPE"
elseif LightingFixtureFoundation:lower() == "stålramme" then
	return "NO-BN-2D-EL-LYS-LYSMAST-FUNDAMENT-STÅLRAMME"
end
return ""
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Frozen">
				<Formula>not JBTEL_LYS_Composed(this)
				</Formula>
			</LuaExpression>
		</DynamicProperty>

		<!-- Hoved Lysmast-->
		<DynamicProperty Type="Representation3D" Subtype="Geometry3D">
			<SetValue Key="Parent" Value="0"/>
				<LuaExpression Name="Name">
					<Formula>"NO-BN-3D-EL-LYS-LYSMAST-Ø164-Ø76-" .. LightingFixturePoleHeight
					</Formula>
				</LuaExpression>
				<LuaExpression Name="Frozen">
					<Formula>not JBTEL_LYS_Composed(this)
					</Formula>
				</LuaExpression>
		</DynamicProperty>

		<!-- Arm 1-->
		<DynamicProperty Type="Representation3D" Subtype="Geometry3D">
			<SetValue Key="Parent" Value="0"/>
			<SetValue Key="RotationOrder" Value="XYZ"/>
			<SetValue Key="RotationBeforeOffset" Value="true"/>
			<LuaExpression Name="Name">
				<Formula>"NO-BN-3D-EL-LYS-LYSMAST-ARM-" .. LightingFixtureArmLength
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Offset.Z">
				<Formula>LightingFixturePoleHeight/1000
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Rotation.X">
				<Formula>-LightingFixtureArmAngle
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Frozen">
					<Formula>not JBTEL_LYS_Composed(this)
					</Formula>
			</LuaExpression>
		</DynamicProperty>

			<!-- Arm 2-->
		<DynamicProperty Type="Representation3D" Subtype="Geometry3D">
			<SetValue Key="Parent" Value="0"/>
			<SetValue Key="RotationOrder" Value="XYZ"/>
			<SetValue Key="RotationBeforeOffset" Value="true"/>
			<LuaExpression Name="Name">
				<Formula>"NO-BN-3D-EL-LYS-LYSMAST-ARM-" .. LightingFixtureArmLength
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Frozen">
				<Formula>if not JBTEL_LYS_Composed(this) then
	return true
else 
	return LightingFixtureSubvariant == "1-lys" or LightingFixtureSubvariant == "1-lys (trinnløs)"
end
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Offset.Z">
				<Formula>LightingFixturePoleHeight/1000
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Rotation.X">
				<Formula>-LightingFixtureArmAngle
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Rotation.Z">
				<Formula>function GetElInt()
		return LightingFixtureSubvariant:sub(1,1)
	end

	if LightingFixtureSubvariant == "2-lys-V" or LightingFixtureSubvariant == "3-lys-T" then
		return -90
	else
		return 360/ GetElInt()
	end
				</Formula>
			</LuaExpression>
		</DynamicProperty>

			<!-- Arm 3-->
		<DynamicProperty Type="Representation3D" Subtype="Geometry3D">
			<SetValue Key="Parent" Value="0"/>
			<SetValue Key="RotationOrder" Value="XYZ"/>
			<SetValue Key="RotationBeforeOffset" Value="true"/>
			<LuaExpression Name="Name">
				<Formula>"NO-BN-3D-EL-LYS-LYSMAST-ARM-" .. LightingFixtureArmLength
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Frozen">
				<Formula>if not JBTEL_LYS_Composed(this) then
	return true
else return LightingFixtureSubvariant == "1-lys"
	or LightingFixtureSubvariant == "1-lys (trinnløs)" 
	or LightingFixtureSubvariant == "2-lys"
	or LightingFixtureSubvariant == "2-lys-V"
end
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Offset.Z">
				<Formula>LightingFixturePoleHeight/1000
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Rotation.X">
				<Formula>-LightingFixtureArmAngle
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Rotation.Z">
				<Formula>function GetElInt()
	return LightingFixtureSubvariant:sub(1,1)
end

if LightingFixtureSubvariant == "3-lys-T" then
	return 90
else
	return 360/ GetElInt()*2
end
				</Formula>
			</LuaExpression>
			
		</DynamicProperty>

			<!-- Arm 4-->
		<DynamicProperty Type="Representation3D" Subtype="Geometry3D">
			<SetValue Key="Parent" Value="0"/>
			<SetValue Key="RotationOrder" Value="XYZ"/>
			<SetValue Key="RotationBeforeOffset" Value="true"/>
			<LuaExpression Name="Name">
				<Formula>"NO-BN-3D-EL-LYS-LYSMAST-ARM-" .. LightingFixtureArmLength
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Frozen">
				<Formula>if not JBTEL_LYS_Composed(this) then
	return true
else 
	return LightingFixtureSubvariant ~= "4-lys"
end
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Offset.Z">
				<Formula>LightingFixturePoleHeight/1000
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Rotation.X">
				<Formula>-LightingFixtureArmAngle
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Rotation.Z">
				<Formula>360/4*3
				</Formula>
			</LuaExpression>
		</DynamicProperty>

		<!-- Hode 1. should follow arm 1's coordinate system, therefore parent=3. Should be frozen if parent is frozen-->
		<DynamicProperty Type="Representation3D" Subtype="Geometry3D">
			<SetValue Key="Parent" Value="3"/>
			<SetValue Key="RotationOrder" Value="XYZ"/>
			<SetValue Key="RotationBeforeOffset" Value="true"/>
			<LuaExpression Name="Name">
				<Formula>"NO-BN-3D-EL-LYS-LYSMAST-HODE-" .. LightingFixtureHeadType
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Frozen">
				<Formula>Geometry3D_3.Frozen
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Offset.Y">
				<Formula>if LightingFixtureArmLength &lt; 1000 then
	return -math.floor(LightingFixtureArmLength/250+0.5)*250/1000
else
	return -math.floor(LightingFixtureArmLength/500+0.5)*500/1000
end
				</Formula>
			</LuaExpression>
		</DynamicProperty>


		<!-- Hode 2. should follow arm 2's coordinate system, therefore parent=4. Should be frozen if parent is frozen-->
		<DynamicProperty Type="Representation3D" Subtype="Geometry3D">
			<SetValue Key="Parent" Value="4"/>
			<SetValue Key="RotationOrder" Value="XYZ"/>
			<SetValue Key="RotationBeforeOffset" Value="true"/>
			<LuaExpression Name="Name">
				<Formula>"NO-BN-3D-EL-LYS-LYSMAST-HODE-" .. LightingFixtureHeadType
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Frozen">
				<Formula>Geometry3D_4.Frozen
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Offset.Y">
				<Formula>if LightingFixtureArmLength &lt; 1000 then
	return -math.floor(LightingFixtureArmLength/250+0.5)*250/1000
else
	return -math.floor(LightingFixtureArmLength/500+0.5)*500/1000
end
				</Formula>
			</LuaExpression>
		</DynamicProperty>

		<!-- Hode 3. should follow arm 3's coordinate system, therefore parent=5. Should be frozen if parent is frozen-->
		<DynamicProperty Type="Representation3D" Subtype="Geometry3D">
			<SetValue Key="Parent" Value="5"/>
			<SetValue Key="RotationOrder" Value="XYZ"/>
			<SetValue Key="RotationBeforeOffset" Value="true"/>
			<LuaExpression Name="Name">
				<Formula>"NO-BN-3D-EL-LYS-LYSMAST-HODE-" .. LightingFixtureHeadType
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Frozen">
				<Formula>Geometry3D_5.Frozen
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Offset.Y">
				<Formula>if LightingFixtureArmLength &lt; 1000 then
	return -math.floor(LightingFixtureArmLength/250+0.5)*250/1000
else
	return -math.floor(LightingFixtureArmLength/500+0.5)*500/1000
end
				</Formula>
			</LuaExpression>
		</DynamicProperty>

		<!-- Hode 4. should follow arm 4's coordinate system, therefore parent=6. Should be frozen if parent is frozen-->
		<DynamicProperty Type="Representation3D" Subtype="Geometry3D">
			<SetValue Key="Parent" Value="6"/>
			<SetValue Key="RotationOrder" Value="XYZ"/>
			<SetValue Key="RotationBeforeOffset" Value="true"/>
			<LuaExpression Name="Name">
				<Formula>"NO-BN-3D-EL-LYS-LYSMAST-HODE-" .. LightingFixtureHeadType
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Frozen">
				<Formula>Geometry3D_6.Frozen
				</Formula>
			</LuaExpression>
			<LuaExpression Name="Offset.Y">
				<Formula>if LightingFixtureArmLength &lt; 1000 then
	return -math.floor(LightingFixtureArmLength/250+0.5)*250/1000
else
	return -math.floor(LightingFixtureArmLength/500+0.5)*500/1000
end
				</Formula>
			</LuaExpression>
		</DynamicProperty>


		<!-- TODO 2020-10-12 Lag InsertPointObject for alle varianter -XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX -->
			<!-- <Values Variant="Ukjent"> -->
			<!-- <Values Variant="Arealbelysning"> -->
			<!-- <Values Variant="Armatur i åk"> -->
			<!-- <Values Variant="Belysning adkomst/gangvei, i tak"> -->
			<!-- <Values Variant="Belysning adkomst/gangvei, på gulv"> -->
			<!-- <Values Variant="Belysning adkomst/gangvei, på vegg"> -->
			<!-- <Values Variant="Belysning for vei/parkering"> -->
			<!-- <Values Variant="Belysning utvendig bygg"> -->
			<!-- <Values Variant="Nedfelt markeringslys på plattform"> -->
			<!-- <Values Variant="Nødbelysning"> -->
			<!-- <Values Variant="Nødbelysning i/under/ved håndløper"> -->
			<!-- <Values Variant="Plattformbelysning på mast"> -->
			<!-- <Values Variant="Plattformbelysning på vegg"> -->
			<!-- <Values Variant="Plattformbelysning under tak"> -->
			<!-- <Values Variant="Plattformbelysning under tak, opplys"> -->
			<!-- <Values Variant="Sporvekselbelysning"> -->
			<!-- <Values Variant="Tunnelbelysning"> -->
			<!-- <Values Variant="Øvrige"> -->

		<InsertPointObject Name="Arealbelysning" DisplayBlockName="NO-BN-2D-JBTEL_LYS-BELYSNING-LYSMAST-1-LYS-{{SymbolMode}}"
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5">
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<OwnAlignmentTargetSpace>hjelpelinje</OwnAlignmentTargetSpace>
			<OwnAlignmentTargetSpace>vei</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
			<SetValue Key="dir" Value="both"/>
			<SetValue Key="name" Value="Arealbelysning"/>
	
		</InsertPointObject>

		<InsertPointObject Name="Kvadratisk armatur" DisplayBlockName="NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="1.75">
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<OwnAlignmentTargetSpace>hjelpelinje</OwnAlignmentTargetSpace>
			<OwnAlignmentTargetSpace>vei</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
			<SetValue Key="dir" Value="both"/>
			<SetValue Key="name" Value="Lysarmatur"/>
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR-{{SymbolMode}}" AllowSymbolMove="true">
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>	
			<BlockNameFormat JoinBy="-">
				NO-BN-2D
				{% if Variant == 'Arealbelysning' %}JBTEL_LYS-BELYSNING-LYSMAST-1-LYS
				{% else %}JBTEL_LYA-BELYSNING-ARMATUR
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" DoNotIncludeInSymbolFrame="true"/>

	</ObjectType>



<!--========================================================================================================
	LAVSPENT
	SKAP
	JBTEL_FSP Fordelingsskap
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" LuaName="rctype_LowPowerDistributionCabinet" Name="JBTEL_FSP Fordelingsskap"
				Layer="JBTEL_FSP" Color="ByLayer"
				Group="Lavspent/Skap"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>fordelingsskap</RelationSpace>

		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___SYMBOLFRAME"/>
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___VAR"/>
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW"/>
		<xpp:expand select="NOBN_com_DISCIPLINE___POW"/>
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS"/>
		<xpp:expand select="NOBN_com_SET_OCP_STATION_REFERENCE"/>
		<!-- <xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT" /> -->  <!-- Only contains 3d properties, but this object doesn't have 3d yet knhel 2023-05-09 -->
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_RAIL"/>
		<xpp:expand select="NOBN_com_PSET_BANE_NOR"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA"/>
		<xpp:expand select="NOBN_com_PSET_ISY_STK"/>
		<xpp:expand select="NOBN_com_PSET_TITTELFELT"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_FSP"/>

		<Variants DefaultValue="Fordelingsskap">
			<Variant Name="Fordelingsskap"/>
		</Variants>
		
		<!-- BEGIN Banedata custom attributes (specific to this object type) -->
		<CustomProperty DataType="String" Name="EL_FSP_FeederCableType" DisplayName="Fordelingsskap forsyningskabel type" DefaultValue="Ukjent"
			Description="The distribution panel's feeder cable type [ &lt;Type&gt; &lt;Conductors&gt;x&lt;mm2&gt; &lt;Material&gt; ], e.g. 'TFSP 3x50 Al'."/>

		<CustomProperty DataType="Double" Name="EL_FSP_OverloadProtection" DisplayName="Fordelingsskap overbelastningsvern" DefaultValue="Ukjent"
			Description="The overload protection's fuse [A]."/>

		<CustomProperty DataType="String" Name="EL_FSP_DistributionTarget" DisplayName="Fordelingsskap fordeling til anlegg" DefaultValue="Ukjent"
			Description="The distribution panel's target system to which power is fed [freetext], e.g. 'Togvarme, batteriskap', 'Effektbrytere'."/>

		<CustomProperty DataType="String" Name="EL_FSP_EnergyMeterID" DisplayName="Fordelingsskap målerpunkt ID" DefaultValue="Ukjent"
			Description="The ID of the distribution panel's energy meter [freetext], e.g. '65801608'."/>

		<CustomProperty DataType="String" Name="EL_FSP_DistributionSource" DisplayName="Fordelingsskap forsynes fra" DefaultValue="Ukjent"
			Description="The distribution panel's source system from which power is received [freetext], e.g. 'Glitre', 'EB nett' etc."/>

		<CustomProperty DataType="Enumeration" Name="EL_FSP_DistributionSystem" DisplayName="Fordelingsskap fordelingssystem" DefaultValue="Ukjent"
			Description="The distribution panel's distribution system type [ Ukjent | IT | IT fra KL-anlegget | KL | TN-C | TN-C-S | TN-S | TT ].">
			<Values>
				<Value>Ukjent</Value>
				<Value>IT</Value>
				<Value>IT fra KL-anlegget</Value>
				<Value>KL</Value>
				<Value>TN-C</Value>
				<Value>TN-C-S</Value>
				<Value>TN-S</Value>
				<Value>TT</Value>
			</Values>
		</CustomProperty>

		<CustomProperty DataType="Enumeration" Name="EL_FSP_DistributionVoltage" DisplayName="Fordelingsskap spenning" DefaultValue="Ukjent"
			Description="The distribution panel's voltage [ Ukjent | 1000 | 230 | 400 | 690 | KL | Lavere enn 230 ].">
			<Values>
				<Value>Ukjent</Value>
				<Value>1000</Value>
				<Value>230</Value>
				<Value>400</Value>
				<Value>690</Value>
				<Value>KL</Value>
				<Value>Lavere enn 230</Value>
			</Values>
		</CustomProperty>

		<CustomProperty DataType="Enumeration" Name="EL_FSP_DistributionPhases" DisplayName="Fordelingsskap antall faser" DefaultValue="Ukjent"
			Description="The distribution panel's phases [ Ukjent | 1 | 2 | 3 | 3 + N ].">
			<Values>
				<Value>Ukjent</Value>
				<Value>1</Value>
				<Value>2</Value>
				<Value>3</Value>
				<Value>3 + N</Value>
			</Values>
		</CustomProperty>

		<CustomProperty DataType="String" Name="EL_FSP_MainFuseType" DisplayName="Fordelingsskap Hovedsikring type" DefaultValue="Ukjent"
			Description="The distribution panel's main fuse type [freetext], e.g. 'Automatsikring', 'K&amp;M, IZM, 10-400N', 'LH-00'."/>

		<CustomProperty DataType="String" Name="EL_FSP_DistributionId" DisplayName="Fordelingsskap ID" DefaultValue="Ukjent"
			Description="The distribution panel's own identity [freetext], e.g. 'A6-TA2, Skamarken', 'Fordeling B1'."/>

		<CustomProperty DataType="String" Name="EL_FSP_DrawingNumber" DisplayName="Fordelingsskap tegningsnummer" DefaultValue="Ukjent"
			Description="The distribution panel's layout drawing's archive number [freetext], e.g. 'EL.108788-000', 'IUP-00-N-00648'."/>

		<CustomProperty DataType="String" Name="EL_FSP_IpAddress" DisplayName="Fordelingsskap IP-adresse" DefaultValue="Ukjent"
			Description="The distribution panel's IP adresse identity [freetext], e.g. '192.86.123.03', 'Ukjent' (unknown), 'Ingen' (none)."/>
		
		<!-- END Banedata custom attributes (specific to this object type) -->
		
		<InsertPointObject Name="Fordelingsskap" DisplayBlockName="NO-BN-2D-JBTEL_FSP-SKAP-FORDELINGSSKAP-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
			<SetValue Key="dir" Value="both"/>
			<SetValue Key="name" Value="Fordelingsskap"/>
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_FSP-SKAP-FORDELINGSSKAP" AllowSymbolMove="true">
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>	
			<BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEL_FSP-SKAP
				{% if Variant == 'Fordelingsskap' %}FORDELINGSSKAP
				{% else %}BAD_Variant_{{Variant}}
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" DoNotIncludeInSymbolFrame="true"/>

	</ObjectType>



<!--========================================================================================================
	LAVSPENT
	SKAP
	EL-SVG Sporveksel sporvekselvarmeskap = gruppeskap
	Har samme symbol i TRV som fordelingsskap.
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" LuaName="rctype_SwitchHeatingCabinet" Name="JBTEL_SVG Gruppeskap"
				Layer="JBTEL_SVG" Color="ByLayer"
				Group="Lavspent/Skap"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>gruppeskap</RelationSpace>

		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___SYMBOLFRAME"/>
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___VAR"/>
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW"/>
		<xpp:expand select="NOBN_com_DISCIPLINE___POW"/>
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS"/>
		<xpp:expand select="NOBN_com_SET_OCP_STATION_REFERENCE"/>
		<!-- <xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT" /> --> <!-- Only contains 3d properties, but this object doesn't have 3d yet knhel 2023-05-09 -->
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_RAIL"/>
		<xpp:expand select="NOBN_com_PSET_BANE_NOR"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA"/>
		<xpp:expand select="NOBN_com_PSET_ISY_STK"/>
		<xpp:expand select="NOBN_com_PSET_TITTELFELT"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_SVG"/>
	
		<Variants DefaultValue="Gruppeskap">
			<Variant Name="Gruppeskap"/>
		</Variants>

		<InsertPointObject Name="Gruppeskap" DisplayBlockName="NO-BN-2D-JBTEL_SVG-SKAP-GRUPPESKAP-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
			<SetValue Key="dir" Value="both"/>
			<SetValue Key="name" Value="Gruppeskap"/>
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_SVG-SKAP-GRUPPESKAP-{{SymbolMode}}" AllowSymbolMove="true">
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>	
			<BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEL_SVG-SKAP
				{% if Variant == 'Gruppeskap' %}GRUPPESKAP
				{% else %}BAD_Variant_{{Variant}}
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" DoNotIncludeInSymbolFrame="true"/>

	</ObjectType>



<!--========================================================================================================
	LAVSPENT
	SKAP
	JBTEL_TVP Togvarmepost (skap)
	Symbol i TRV er et rektangel med andreaskors.
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" LuaName="rctype_TrainHeatingCabinet" Name="JBTEL_TVP Togvarmepost"
				Layer="JBTEL_TVP" Color="ByLayer"
				Group="Lavspent/Skap"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>togvarmepost</RelationSpace>

		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___SYMBOLFRAME"/>
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___VAR"/>
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW"/>
		<xpp:expand select="NOBN_com_DISCIPLINE___POW"/>
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS"/>
		<xpp:expand select="NOBN_com_SET_OCP_STATION_REFERENCE"/>
		<!-- <xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT" /> --> <!-- Only contains 3d properties, but this object doesn't have 3d yet knhel 2023-05-09 -->
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_RAIL"/>
		<xpp:expand select="NOBN_com_PSET_BANE_NOR"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA"/>
		<xpp:expand select="NOBN_com_PSET_ISY_STK"/>
		<xpp:expand select="NOBN_com_PSET_TITTELFELT"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_TVP"/>

		<Variants DefaultValue="Togvarmepost">
			<Variant Name="Togvarmepost"/>
		</Variants>

		<InsertPointObject Name="Togvarmepost" DisplayBlockName="NO-BN-2D-JBTEL_TVP-SKAP-TOGVARMEPOST-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
			<SetValue Key="dir" Value="both"/>
			<SetValue Key="name" Value="Togvarmepost"/>
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_TVP-SKAP-TOGVARMEPOST" AllowSymbolMove="true">
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>	
			<BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEL_TVP-SKAP
				{% if Variant == 'Togvarmepost' %}TOGVARMEPOST
				{% else %}BAD_Variant_{{Variant}}
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" DoNotIncludeInSymbolFrame="true"/>

	</ObjectType>



<!--========================================================================================================
	LAVSPENT
	TRANSFORMATORER
	JBTEL_TRF Transformator
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" LuaName="rctype_LowPowerTransfomer" Name="JBTEL_TRF Transformator"
				Layer="JBTEL_TRF" Color="ByLayer"
				Group="Lavspent/Transformatorer"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>lavspent_transformator</RelationSpace>

		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___SYMBOLFRAME"/>
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___VAR"/>
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW"/>
		<xpp:expand select="NOBN_com_DISCIPLINE___POW"/>
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS"/>
		<xpp:expand select="NOBN_com_SET_OCP_STATION_REFERENCE"/>
		<!-- <xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT" /> --> <!-- Only contains 3d properties, but this object doesn't have 3d yet knhel 2023-05-09 -->
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_RAIL"/>
		<xpp:expand select="NOBN_com_PSET_BANE_NOR"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA"/>
		<xpp:expand select="NOBN_com_PSET_ISY_STK"/>
		<xpp:expand select="NOBN_com_PSET_TITTELFELT"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_TRF"/>

		<Variants DefaultValue="Transformator">
			<Variant Name="Transformator"/>
		</Variants>
		
		<InsertPointObject Name="Transformator" DisplayBlockName="NO-BN-2D-JBTEL_TRF-TRANSFORMATOR-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
			<SetValue Key="dir" Value="both"/>
			<SetValue Key="name" Value="Transformator"/>
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_TRF-TRANSFORMATOR" AllowSymbolMove="true">
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>	
			<BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEL_TRF
				{% if Variant == 'Transformator' %}TRANSFORMATOR
				{% else %}BAD_Variant_{{Variant}}
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" DoNotIncludeInSymbolFrame="true"/>
	
	</ObjectType>



<!--========================================================================================================
	LAVSPENT
	UPS
	JBTEL_UPS UPS fordeler
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" LuaName="rctype_UpsDistribution" Name="JBTEL_UPS UPS fordeler"
				Layer="JBTEL_UPS" Color="ByLayer"
				Group="Lavspent/UPS"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>ups_fordeler</RelationSpace>

		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___SYMBOLFRAME"/>
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___VAR"/>
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW"/>
		<xpp:expand select="NOBN_com_DISCIPLINE___POW"/>
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS"/>
		<xpp:expand select="NOBN_com_SET_OCP_STATION_REFERENCE"/>
		<!-- <xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT" /> --> <!-- Only contains 3d properties, but this object doesn't have 3d yet knhel 2023-05-09 -->
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_RAIL"/>
		<xpp:expand select="NOBN_com_PSET_BANE_NOR"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA"/>
		<xpp:expand select="NOBN_com_PSET_ISY_STK"/>
		<xpp:expand select="NOBN_com_PSET_TITTELFELT"/>
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_UPS"/>

		<Variants DefaultValue="UPS fordeler">
			<Variant Name="UPS fordeler"/>
		</Variants>
		
		<InsertPointObject Name="UPS fordeler" DisplayBlockName="NO-BN-2D-JBTEL_UPS-UPS-FORDELER-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true">
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true"/>
			<SetValue Key="dir" Value="both"/>
			<SetValue Key="name" Value="UPS fordeler"/>
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_UPS-UPS-FORDELER" AllowSymbolMove="true">
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}"/>	
			<BlockNameFormat JoinBy="-">
				NO-BN-2D-JBTEL_UPS
				{% if Variant == 'UPS fordeler' %}UPS-FORDELER
				{% else %}BAD_Variant_{{Variant}}
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" DoNotIncludeInSymbolFrame="true"/>
	
	</ObjectType>



<!--========================================================================================================
    End of file 
=========================================================================================================-->
</xpp:bloc>
