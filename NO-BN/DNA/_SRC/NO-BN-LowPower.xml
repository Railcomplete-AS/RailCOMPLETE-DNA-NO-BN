<!--========================================================================================================

    NO-BN-LowPower.xml
	
	Include in DNA file using XPPq XML preprocessor directive <xpp:expand href="fileName.xml" />.

	(c) Railcomplete AS, Norway, 2015-2021. All rights reserved.
	
=========================================================================================================-->
<xpp:bloc>



<!--========================================================================================================
	LAVSPENT
	LYSARMATURER
	Lyspunkter i tak, på vegg, typisk innendørs
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" EulynxDataType="EULYNX.sig.Fixing" LuaName="rctype_LightingFixture" Name="JBTEL_LYA Lysarmatur"
				Layer="JBTEL_LYA" Color="ByLayer"
				Group="Lavspent/Belysning"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>belysning</RelationSpace>

		<xpp:expand select="NOBN_com_SYMBOLFRAME" />
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___ANGULAROFFSET_VAR" />
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW" />
		<xpp:expand select="NOBN_com_DISCIPLINE___POW" />
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS" />
		<xpp:expand select="RC_com_SET_OCP_STATION_REFERENCE" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_OBJECT" />
		<xpp:expand select="NOBN_com_PSET_BANE_NOR" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA" />
		<xpp:expand select="NOBN_com_PSET_ISY_STK" />
		<xpp:expand select="NOBN_com_PSET_TITTELFELT" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_LYA" />
		
		<Variants DefaultValue="Lysarmatur" >
			<!-- Two variants  for use in catenaray yokes - indirectly earthed by the yoke. No models prepared in 3D other than the light head. -->
			<Variant Name="Lysarmatur" >
			</Variant>
		</Variants>

		<!-- BEGIN Banedata custom attributes (specific to this object type) -->
		<CustomAttribute DataType="String" Name="EL_LYA_Subvariant" DisplayName="Lysarmatur type" DefaultValue="Armatur"
			Description="The lighting fixture's type [freetext], e.g. 'Ukjent' (unknown), 'Armatur'." />
		
		<CustomAttribute DataType="UInt32" Name="EL_LYA_Power" DisplayName="Lysarmatur effekt" DefaultValue="26"
			Description="The lighting fixture's power [W]." />
		
		<CustomAttribute DataType="String" Name="EL_LYA_Producer" DisplayName="Lysarmatur fabrikant" DefaultValue="Ukjent"
			Description="The lighting fixture's producer [freetext], e.g. 'Ukjent' (unknown), 'Glamox', 'Sebra light'." />
		
		<CustomAttribute DataType="String" Name="EL_LYA_ProductType" DisplayName="Lysarmatur typebetegnelse" DefaultValue="Ukjent"
			Description="The lighting fixture's product type [freetext], e.g. 'Ukjent' (unknown), 'Glow 300'." />
		
		<CustomAttribute DataType="Enumeration" Name="EL_LYA_BatteryBackup" DisplayName="Lysarmatur batteribackup" DefaultValue="Nei"
			Description="The lighting fixture's battery backup requirement [ Nei (none) | Ja, krav til oppetid (Yes, required) ]." >
			<Values>
				<Value>Nei</Value>
				<Value>Ja, krav til oppetid</Value>
			</Values>
		</CustomAttribute>
		
		<CustomAttribute DataType="String" Name="EL_LYA_LightFixtureRalColorCode" DisplayName="Lysarmatur RAL-kode" DefaultValue="Ukjent"
			Description="The lighting fixture's RAL color code [ Ukjent (unknown) | &lt;RAL code text string&gt; ]." />
		
		<!-- END Banedata custom attributes (specific to this object type) -->

		<SetValue Key="dir" Value="up" />

		<InsertPointObject VariantName="Lyspunkt" DisplayBlockName="NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="4e-4" >
			<OwnAlignmentTargetSpace>hjelpelinje</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true" />
			<SetValue Key="dir" Value="up" />
			<SetValue Key="name" Value="Lysarmatur" />
			<SetValue Key="PoleRouting3D" Value="None" />
			<SetValue Key="Model3DName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2" />
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR-Geographic" AllowSymbolMove="true" >
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}" />	
			<BlockNameFormat JoinBy="-" >
				NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" />

	</ObjectType>



<!--========================================================================================================
	LAVSPENT
	BELYSNING
	Lys i åk, på mast, adkomstveibelysning, plattformbelysning, P-plasser, arealbelyning (sporvekselbelysning) etc
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" EulynxDataType="EULYNX.sig.Fixing" LuaName="rctype_Lighting" Name="JBTEL_LYS Lys"
				Layer="JBTEL_LYS" Color="ByLayer"
				Group="Lavspent/Belysning"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>belysning</RelationSpace>

		<xpp:expand select="NOBN_com_SYMBOLFRAME" />
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___ANGULAROFFSET_VAR" />
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW" />
		<xpp:expand select="NOBN_com_DISCIPLINE___POW" />
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS" />
		<xpp:expand select="RC_com_SET_OCP_STATION_REFERENCE" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_RAIL" /> <!-- will be overridden when Variant is set -->
		<xpp:expand select="NOBN_com_PSET_BANE_NOR" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA" />
		<xpp:expand select="NOBN_com_PSET_ISY_STK" />
		<xpp:expand select="NOBN_com_PSET_TITTELFELT" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_LYS" />
		
		<Variants DefaultValue="Ukjent" >
			<Variant Name="Ukjent" >
				<SetValue Key="SubVariant" Value="Punkt" />
				<SetValue Key="Model3D_0.Model3dName" Value="(har ikke 3D for {{Variant}})" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="EarthingMethod" Value="Unknown" />
			</Variant>
			<Variant Name="Arealbelysning" >
				<SetValue Key="SubVariant" Value="1-lys" />
				<SetValue Key="dir" Value="both" />
				<SetValue Key="EL_LYS_MastHeight" Value="4000" />
				<SetValue Key="EL_LYS_Arm" Value="500" />
				<SetValue Key="Model3D_0.Model3dName" Value="(har ikke 3D for {{Variant}})" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="EarthingMethod" Value="Rail" />
			</Variant>
			<Variant Name="Armatur i åk" >
				<SetValue Key="SubVariant" Value="1-lys" />
				<SetValue Key="dir" Value="both" />
				<SetValue Key="Model3D_0.Model3dName" Value="(har ikke 3D for {{Variant}})" />
				<SetValue Key="Model3D_0.PoleRouting" Value="Vertical" />
				<SetValue Key="Model3D_0.Offset3D.Z" Value="0.25" />
				<SetValue Key="EarthingMethod" Value="None" />
			</Variant>
			<Variant Name="Belysning adkomst/Pedestrian lane, i tak" >
				<SetValue Key="SubVariant" Value="Punkt" />
				<SetValue Key="dir" Value="up" />
				<SetValue Key="Model3D_0.Model3dName" Value="(har ikke 3D for {{Variant}})" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="EarthingMethod" Value="Object" />
			</Variant>
			<Variant Name="Belysning adkomst/Pedestrian lane, på gulv" >
				<SetValue Key="SubVariant" Value="Punkt" />
				<SetValue Key="dir" Value="up" />
				<SetValue Key="Model3D_0.Model3dName" Value="(har ikke 3D for {{Variant}})" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="Model3D_0.Rotation3D.Y" Value="180" />
				<SetValue Key="EarthingMethod" Value="Object" />
			</Variant>
			<Variant Name="Belysning adkomst/Pedestrian lane, på vegg" >
				<SetValue Key="SubVariant" Value="Punkt" />
				<SetValue Key="dir" Value="up" />
				<SetValue Key="Model3D_0.Model3dName" Value="(har ikke 3D for {{Variant}})" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="Model3D_0.Rotation3D.Y" Value="{% if LeftSided %}90{% else %}-90{% endif %}" />
				<SetValue Key="EarthingMethod" Value="Object" />
			</Variant>
			<Variant Name="Belysning for vei/parkering" >
				<SetValue Key="SubVariant" Value="1-lys" />
				<SetValue Key="dir" Value="both" />
				<SetValue Key="EL_LYS_MastHeight" Value="4000" />
				<SetValue Key="EL_LYS_Arm" Value="500" />
				<SetValue Key="Model3D_0.Model3dName" Value="(har ikke 3D for {{Variant}})" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="EarthingMethod" Value="Wire" />
			</Variant>
			<Variant Name="Belysning utvendig bygg" >
				<SetValue Key="SubVariant" Value="Punkt" />
				<SetValue Key="dir" Value="both" />
				<SetValue Key="Model3D_0.Model3dName" Value="(har ikke 3D for {{Variant}})" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="EarthingMethod" Value="Object" />
			</Variant>
			<!-- TODO: Skille ut markeringslys i plattform som eget linjeobjekt med lys -->
			<Variant Name="Nedfelt markeringslys på plattform" >
				<SetValue Key="SubVariant" Value="Punkt" />
				<SetValue Key="dir" Value="up" />
				<SetValue Key="Model3D_0.Model3dName" Value="(har ikke 3D for {{Variant}})" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="EarthingMethod" Value="Object" />
			</Variant>
			<Variant Name="Nødbelysning" >
				<SetValue Key="SubVariant" Value="Punkt" />
				<SetValue Key="dir" Value="up" />
				<SetValue Key="Model3D_0.Model3dName" Value="(har ikke 3D for {{Variant}})" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="EarthingMethod" Value="Object" />
			</Variant>
			<!-- TODO: Skille ut håndløper med lys som eget linjeobjekt -->
			<Variant Name="Nødbelysning i/under/ved håndløper" >
				<SetValue Key="SubVariant" Value="Punkt" />
				<SetValue Key="dir" Value="up" />
				<SetValue Key="Model3D_0.Model3dName" Value="(har ikke 3D for {{Variant}})" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="Model3D_0.Rotation3D.Y" Value="180" />
				<SetValue Key="EarthingMethod" Value="Rail" />
			</Variant>
			<Variant Name="Plattformbelysning på mast" >
				<SetValue Key="SubVariant" Value="1-lys" />
				<SetValue Key="dir" Value="both" />
				<SetValue Key="EL_LYS_MastHeight" Value="4000" />
				<SetValue Key="EL_LYS_Arm" Value="500" />
				<SetValue Key="Model3D_0.Model3dName" Value="NO-BN-3D-EL-LYS-LYSMAST-{{SubVariant}}-U{{EL_LYS_Arm}}-H{EL_LYS_MastHeight}}{% if EL_LYS_Foundation == 'Yes' %}-{{ EL_LYS_Foundation }}{% endif %}" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="EarthingMethod" Value="Rail" />
			</Variant>
			<Variant Name="Plattformbelysning på vegg" >
				<SetValue Key="SubVariant" Value="Punkt" />
				<SetValue Key="dir" Value="up" />
				<SetValue Key="Model3D_0.Model3dName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="Model3D_0.Rotation3D.Y" Value="{% if LeftSided %}90{% else %}-90{% endif %}" />
				<SetValue Key="EarthingMethod" Value="Rail" />
			</Variant>
			<Variant Name="Plattformbelysning under tak" >
				<SetValue Key="SubVariant" Value="Punkt" />
				<SetValue Key="dir" Value="up" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="Model3D_0.Model3dName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2" />
				<SetValue Key="EarthingMethod" Value="Rail" />
			</Variant>
			<Variant Name="Plattformbelysning under tak, opplys" >
				<SetValue Key="SubVariant" Value="Punkt" />
				<SetValue Key="dir" Value="up" />
				<SetValue Key="Model3D_0.Model3dName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="Model3D_0.Rotation3D.Y" Value="180" />
				<SetValue Key="EarthingMethod" Value="Rail" />
			</Variant>
			<Variant Name="Sporvekselbelysning" >
				<SetValue Key="SubVariant" Value="1-lys" />
				<SetValue Key="dir" Value="both" />
				<SetValue Key="Model3D_0.Model3dName" Value="NO-BN-3D-EL-LYS-LYSMAST-{{SubVariant}}-U{{EL_LYS_Arm}}-H{EL_LYS_MastHeight}}{% if EL_LYS_Foundation == 'Yes' %}-{{ EL_LYS_Foundation }}{% endif %}" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="EarthingMethod" Value="Rail" />
				<!-- TODO 2021-01-30 CLFEY: Add all 3D models with foundation. -->
				<!-- <SetValue Key="Model3dName" Value="NO-BN-3D-EL-LYS-LYSMAST-{{SubVariant}}-U{{EL_LYS_Arm}}-H{EL_LYS_MastHeight}}-{{EL_LYS_Foundation}}" /> -->
			</Variant>
			<Variant Name="Tunnelbelysning" >
				<SetValue Key="SubVariant" Value="Punkt" />
				<SetValue Key="dir" Value="up" />
				<SetValue Key="Model3D_0.Model3dName" Value="NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="Model3D_0.Rotation3D.Y" Value="{% if LeftSided %}45{% else %}-45{% endif %}" />
				<SetValue Key="EarthingMethod" Value="Rail" />
			</Variant>
			<Variant Name="Øvrige" >
				<SetValue Key="SubVariant" Value="Ukjent" />
				<SetValue Key="Model3D_0.Model3dName" Value="(har ikke 3D for {{Variant}})" />
				<SetValue Key="Model3D_0.PoleRouting" Value="None" />
				<SetValue Key="EarthingMethod" Value="Unknown" />
			</Variant>
		</Variants>

 		<SetDynamicProperty DynamicPropertiesPropertyName="Representation" DynamicPropertyType="Model3D"/>
		
		<SetValue Key="EL_LYS_Foundation" Value="Ja" />

		<CustomAttribute DataType="Enumeration" Name="EL_LYS_SubVariant" DisplayName=" Lys type" DefaultValue="Ukjent"
			Description="The lighting fixture subvariant (the available selections depend on the main variant)." >
			<Values Variant="Ukjent" >
				<Value>Ukjent</Value>
			</Values>
			<Values Variant="Arealbelysning" >
				<Value>4-lys</Value>
				<Value>3-lys-T</Value>
				<Value>3-lys</Value>
				<Value>2-lys-V</Value>
				<Value>2-lys</Value>
				<Value>1-lys</Value>
				<Value>1-lys (trinnløs)</Value>
			</Values>
			<Values Variant="Armatur i åk" >
				<Value>2-lys</Value>
				<Value>1-lys</Value>
			</Values>
			<Values Variant="Belysning adkomst/gangvei, i tak" >
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Belysning adkomst/gangvei, på gulv" >
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Belysning adkomst/gangvei, på vegg" >
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Belysning for vei/parkering" >
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Belysning utvendig bygg" >
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Nedfelt markeringslys på plattform" >
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Nødbelysning" >
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Nødbelysning i/under/ved håndløper" >
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Plattformbelysning på mast" >
				<Value>4-lys</Value>
				<Value>3-lys-T</Value>
				<Value>3-lys</Value>
				<Value>2-lys-V</Value>
				<Value>2-lys</Value>
				<Value>1-lys</Value>
				<Value>1-lys (trinnløs)</Value>
			</Values>
			<Values Variant="Plattformbelysning på vegg" >
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Plattformbelysning under tak" >
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Plattformbelysning under tak, opplys" >
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Sporvekselbelysning" >
				<Value>4-lys</Value>
				<Value>3-lys-T</Value>
				<Value>3-lys</Value>
				<Value>2-lys-V</Value>
				<Value>2-lys</Value>
				<Value>1-lys</Value>
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Tunnelbelysning" >
				<Value>Punkt</Value>
			</Values>
			<Values Variant="Øvrige" >
				<Value>4-lys</Value>
				<Value>3-lys-T</Value>
				<Value>3-lys</Value>
				<Value>2-lys-V</Value>
				<Value>2-lys</Value>
				<Value>1-lys</Value>
				<Value>Punkt</Value>
			</Values>
		</CustomAttribute>

		<CustomAttribute DataType="UInt32" Name="EL_LYS_MastHeight" DisplayName="Lys mastehøyde"
			DefaultValue="5000"
			Description="The lighting fixture's mast height [mm]. Note: 3D model name will be deduced in steps of 250 mm from 0 to 1000, thereafter in steps of 500 mm." >
		</CustomAttribute>
		
		<CustomAttribute DataType="Enumeration" Name="EL_LYS_Foundation" DisplayName="Lysmast fundament" DefaultValue="-"
			Description="'Ja' if the light mast comes with an integrated steel foundation, otherwise '-' (default) if no foundation is required." >
			<Values Variant="Ukjent" >
				<Value>Ja</Value>
				<Value>-</Value>
			</Values>
			<Values Variant="Arealbelysning" >
				<Value>Ja</Value>
				<Value>-</Value>
			</Values>
			<Values Variant="Armatur i åk" >
				<Value>-</Value>
			</Values>
			<Values Variant="Belysning adkomst/gangvei, i tak" >
				<Value>-</Value>
			</Values>
			<Values Variant="Belysning adkomst/gangvei, på gulv" >
				<Value>-</Value>
			</Values>
			<Values Variant="Belysning adkomst/gangvei, på vegg" >
				<Value>-</Value>
			</Values>
			<Values Variant="Belysning for vei/parkering" >
				<Value>Ja</Value>
				<Value>-</Value>
			</Values>
			<Values Variant="Belysning utvendig bygg" >
				<Value>-</Value>
			</Values>
			<Values Variant="Nedfelt markeringslys på plattform" >
				<Value>-</Value>
			</Values>
			<Values Variant="Nødbelysning" >
				<Value>-</Value>
			</Values>
			<Values Variant="Nødbelysning i/under/ved håndløper" >
				<Value>-</Value>
			</Values>
			<Values Variant="Plattformbelysning på mast" >
				<Value>Ja</Value>
				<Value>-</Value>
			</Values>
			<Values Variant="Plattformbelysning på vegg" >
				<Value>-</Value>
			</Values>
			<Values Variant="Plattformbelysning under tak" >
				<Value>-</Value>
			</Values>
			<Values Variant="Plattformbelysning under tak, opplys" >
				<Value>-</Value>
			</Values>
			<Values Variant="Sporvekselbelysning" >
				<Value>Ja</Value>
				<Value>-</Value>
			</Values>
			<Values Variant="Tunnelbelysning" >
				<Value>-</Value>
			</Values>
			<Values Variant="Øvrige" >
				<Value>Ja</Value>
				<Value>-</Value>
			</Values>
		</CustomAttribute>
		
		
		<CustomAttribute DataType="Double" Name="EL_LYS_Arm_Length" DisplayName="Lys armlengde" 
			Description="The length of the arms of the lighting fixture in mm.  Note: 3D model name will be deduced in steps of 250 mm from 500 to 1000, thereafter in steps of 500 mm."
			DefaultValue="1000" >
		</CustomAttribute>
		

		<!-- BEGIN Banedata custom attributes (specific to this object type) -->

		<CustomAttribute DataType="UInt32" Name="EL_LYS_Power" DisplayName="Lys effekt" DefaultValue="26"
			Description="The lighting fixture's power [W] per specimen." />

		<!-- RAL code seems relevant even though itis not mentioned by Banedata for EL-LYS -->
		<CustomAttribute DataType="String" Name="EL_LYS_RalColorCode" DisplayName="Lys RAL-kode"
			DefaultValue="Ukjent"
			Description="The lighting fixture's RAL color code [ Ukjent (unknown) | &lt;RAL code text string&gt; ]." >
		</CustomAttribute>
	
		<!-- END Banedata custom attributes (specific to this object type) -->
		

		<LuaExpression Name="dir" ><Formula>"both"</Formula></LuaExpression>
		
		<LuaExpression Name="Model3DName" ><Formula>_JBTEL_LYS_Model3DName()</Formula></LuaExpression>
		<LuaFunction Name="_JBTEL_LYS_Model3DName()" ReturnType="String"
			Description="Returns the 3D model name for an light." >
			<Constructor>String _JBTEL_LYS_Model3DName()</Constructor>
			<Formula>
				function _JBTEL_LYS_Model3DName()
					function bin(bins, ball)
						num = tonumber(ball)
						if num == nil then return end
						if num &lt; bins[1] then return bins[1] end
						for i=2,#bins do
							if num &lt; bins[i] then
								if num &lt;= (bins[i] + bins[i-1])/2 then
									return bins[i-1]
								else
									return bins[i]
								end
							end
						end
						return bins[#bins]		
					end
				
					local lysror = "NO-BN-3D-EL-LYA-LYSARMATUR-INNENDØRS-LYSSTOFFRØR-1200x2"	
				
					local U = bin({500, 750, 1000, 1500, 2000, 2500, 3000}, EL_LYS_Arm_Length)
					local H = bin({4000, 5000, 6000, 7000, 8000, 9000, 10000, 11000, 12000}, EL_LYS_MastHeight)
				
					function mast3d()
						local subVar = EL_LYS_SubVariant
						if EL_LYS_SubVariant == "1-lys (trinnløs)" then
							subVar = "1-LYS"
						elseif EL_LYS_SubVariant == "2-lys" then
							subVar = "2-LYS-V180"
						elseif EL_LYS_SubVariant == "2-lys-V" then
							subVar = "2-LYS-V120"
						elseif EL_LYS_SubVariant == "3-lys" then
							subVar = "3-LYS-V120"
						elseif EL_LYS_SubVariant == "3-lys-T" then
							subVar = "3-LYS-V120"
						elseif EL_LYS_SubVariant == "4-lys" then
							subVar = "4-LYS-X090"
						end
						
						if subVar == "Ukjent" then 
							return "NO-BN-3D-EL-LYS-LYSMAST-1-LYS-U"..U.."-H"..H
						else
							return "NO-BN-3D-EL-LYS-LYSMAST-"..subVar.."-U"..U.."-H"..H
						end
					end
				
					if Variant == "Ukjent" then
						return nil
					elseif Variant == "Arealbelysning" then
						return mast3d()
					elseif Variant == "Armatur i åk" then
						return nil
					elseif Variant == "Belysning adkomst/gangvei, i tak" then
						return lysror
					elseif Variant == "Belysning adkomst/gangvei, på gulv" then
						return lysror
					elseif Variant == "Belysning adkomst/gangvei, på vegg" then
						return lysror
					elseif Variant == "Belysning for vei/parkering" then
						return "NO-BN-3D-EL-LYS-LYSMAST-1-LYS-U"..U.."-H"..H
					elseif Variant == "Belysning utvendig bygg" then
						return lysror
					elseif Variant == "Nedfelt markeringslys på plattform" then
						return nil
					elseif Variant == "Nødbelysning" then
						return lysror
					elseif Variant == "Nødbelysning i/under/ved håndløper" then
						return nil
					elseif Variant == "Plattformbelysning på mast" then
						return mast3d()
					elseif Variant == "Plattformbelysning på vegg" then
						return lysror
					elseif Variant == "Plattformbelysning under tak" then
						return lysror
					elseif Variant == "Plattformbelysning under tak, opplys" then
						return lysror
					elseif Variant == "Sporvekselbelysning" then
						return mast3d()
					elseif Variant == "Tunnelbelysning" then
						return lysror
					elseif Variant == "Øvrige" then
						return mast3d()
					end
				end		
					
			</Formula>
		</LuaFunction>

		<!-- TODO 2020-10-12 Lag InsertPointObject for alle varianter -XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX -->
			<!-- <Values Variant="Ukjent" > -->
			<!-- <Values Variant="Arealbelysning" > -->
			<!-- <Values Variant="Armatur i åk" > -->
			<!-- <Values Variant="Belysning adkomst/gangvei, i tak" > -->
			<!-- <Values Variant="Belysning adkomst/gangvei, på gulv" > -->
			<!-- <Values Variant="Belysning adkomst/gangvei, på vegg" > -->
			<!-- <Values Variant="Belysning for vei/parkering" > -->
			<!-- <Values Variant="Belysning utvendig bygg" > -->
			<!-- <Values Variant="Nedfelt markeringslys på plattform" > -->
			<!-- <Values Variant="Nødbelysning" > -->
			<!-- <Values Variant="Nødbelysning i/under/ved håndløper" > -->
			<!-- <Values Variant="Plattformbelysning på mast" > -->
			<!-- <Values Variant="Plattformbelysning på vegg" > -->
			<!-- <Values Variant="Plattformbelysning under tak" > -->
			<!-- <Values Variant="Plattformbelysning under tak, opplys" > -->
			<!-- <Values Variant="Sporvekselbelysning" > -->
			<!-- <Values Variant="Tunnelbelysning" > -->
			<!-- <Values Variant="Øvrige" > -->

		<InsertPointObject VariantName="Arealbelysning" DisplayBlockName="NO-BN-2D-JBTEL_LYS-BELYSNING-LYSMAST-1-LYS-{{SymbolMode}}"
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" >
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<OwnAlignmentTargetSpace>hjelpelinje</OwnAlignmentTargetSpace>
			<OwnAlignmentTargetSpace>vei</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true" />
			<SetValue Key="dir" Value="both" />
			<SetValue Key="name" Value="Arealbelysning" />
			<SetValue Key="Model3DName" Value="NO-BN-3D-EL-LYS-LYSMAST-1-LYS-U500-H4000" />
		</InsertPointObject>

		<InsertPointObject VariantName="Kvadratisk armatur" DisplayBlockName="NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="1.75" >
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<OwnAlignmentTargetSpace>hjelpelinje</OwnAlignmentTargetSpace>
			<OwnAlignmentTargetSpace>vei</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true" />
			<SetValue Key="dir" Value="both" />
			<SetValue Key="name" Value="Lysarmatur" />
			<SetValue Key="PoleRouting3D" Value="Vertical" />
			<SetValue Key="Offset3D.Z" Value="1.0" />
			<SetValue Key="Model3DName" Value="NO-BN-3D-EL-LYA-ARMATUR-I-ÅK" />
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_LYA-BELYSNING-ARMATUR-{{SymbolMode}}" AllowSymbolMove="true" >
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}" />	
			<BlockNameFormat JoinBy="-" >
				NO-BN-2D
				{% if Variant == 'Arealbelysning' %}JBTEL_LYS-BELYSNING-LYSMAST-1-LYS
				{% else %}JBTEL_LYA-BELYSNING-ARMATUR
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" />

	</ObjectType>



<!--========================================================================================================
	LAVSPENT
	SKAP
	JBTEL_FSP Fordelingsskap
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" EulynxDataType="EULYNX.sig.Cabinet" LuaName="rctype_LowPowerDistributionCabinet" Name="JBTEL_FSP Fordelingsskap"
				Layer="JBTEL_FSP" Color="ByLayer"
				Group="Lavspent/Skap"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>fordelingsskap</RelationSpace>

		<xpp:expand select="NOBN_com_SYMBOLFRAME" />
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___ANGULAROFFSET_VAR" />
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW" />
		<xpp:expand select="NOBN_com_DISCIPLINE___POW" />
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS" />
		<xpp:expand select="RC_com_SET_OCP_STATION_REFERENCE" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_RAIL" />
		<xpp:expand select="NOBN_com_PSET_BANE_NOR" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA" />
		<xpp:expand select="NOBN_com_PSET_ISY_STK" />
		<xpp:expand select="NOBN_com_PSET_TITTELFELT" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_FSP" />

		<Variants DefaultValue="Fordelingsskap" >
			<Variant Name="Fordelingsskap" />
		</Variants>
		
		<!-- BEGIN Banedata custom attributes (specific to this object type) -->
		<CustomAttribute DataType="String" Name="EL_FSP_FeederCableType" DisplayName="Fordelingsskap forsyningskabel type" DefaultValue="Ukjent"
			Description="The distribution panel's feeder cable type [ &lt;Type&gt; &lt;Conductors&gt;x&lt;mm2&gt; &lt;Material&gt; ], e.g. 'TFSP 3x50 Al'." />

		<CustomAttribute DataType="Double" Name="EL_FSP_OverloadProtection" DisplayName="Fordelingsskap overbelastningsvern" DefaultValue="Ukjent"
			Description="The overload protection's fuse [A]." />

		<CustomAttribute DataType="String" Name="EL_FSP_DistributionTarget" DisplayName="Fordelingsskap fordeling til anlegg" DefaultValue="Ukjent"
			Description="The distribution panel's target system to which power is fed [freetext], e.g. 'Togvarme, batteriskap', 'Effektbrytere'." />

		<CustomAttribute DataType="String" Name="EL_FSP_EnergyMeterID" DisplayName="Fordelingsskap målerpunkt ID" DefaultValue="Ukjent"
			Description="The ID of the distribution panel's energy meter [freetext], e.g. '65801608'." />

		<CustomAttribute DataType="String" Name="EL_FSP_DistributionSource" DisplayName="Fordelingsskap forsynes fra" DefaultValue="Ukjent"
			Description="The distribution panel's source system from which power is received [freetext], e.g. 'Glitre', 'EB nett' etc." />

		<CustomAttribute DataType="Enumeration" Name="EL_FSP_DistributionSystem" DisplayName="Fordelingsskap fordelingssystem" DefaultValue="Ukjent"
			Description="The distribution panel's distribution system type [ Ukjent | IT | IT fra KL-anlegget | KL | TN-C | TN-C-S | TN-S | TT ]." >
			<Values>
				<Value>Ukjent</Value>
				<Value>IT</Value>
				<Value>IT fra KL-anlegget</Value>
				<Value>KL</Value>
				<Value>TN-C</Value>
				<Value>TN-C-S</Value>
				<Value>TN-S</Value>
				<Value>TT</Value>
			</Values>
		</CustomAttribute>

		<CustomAttribute DataType="Enumeration" Name="EL_FSP_DistributionVoltage" DisplayName="Fordelingsskap spenning" DefaultValue="Ukjent"
			Description="The distribution panel's voltage [ Ukjent | 1000 | 230 | 400 | 690 | KL | Lavere enn 230 ]." >
			<Values>
				<Value>Ukjent</Value>
				<Value>1000</Value>
				<Value>230</Value>
				<Value>400</Value>
				<Value>690</Value>
				<Value>KL</Value>
				<Value>Lavere enn 230</Value>
			</Values>
		</CustomAttribute>

		<CustomAttribute DataType="Enumeration" Name="EL_FSP_DistributionPhases" DisplayName="Fordelingsskap antall faser" DefaultValue="Ukjent"
			Description="The distribution panel's phases [ Ukjent | 1 | 2 | 3 | 3 + N ]." >
			<Values>
				<Value>Ukjent</Value>
				<Value>1</Value>
				<Value>2</Value>
				<Value>3</Value>
				<Value>3 + N</Value>
			</Values>
		</CustomAttribute>

		<CustomAttribute DataType="String" Name="EL_FSP_MainFuseType" DisplayName="Fordelingsskap Hovedsikring type" DefaultValue="Ukjent"
			Description="The distribution panel's main fuse type [freetext], e.g. 'Automatsikring', 'K&amp;M, IZM, 10-400N', 'LH-00'." />

		<CustomAttribute DataType="String" Name="EL_FSP_DistributionId" DisplayName="Fordelingsskap ID" DefaultValue="Ukjent"
			Description="The distribution panel's own identity [freetext], e.g. 'A6-TA2, Skamarken', 'Fordeling B1'." />

		<CustomAttribute DataType="String" Name="EL_FSP_DrawingNumber" DisplayName="Fordelingsskap tegningsnummer" DefaultValue="Ukjent"
			Description="The distribution panel's layout drawing's archive number [freetext], e.g. 'EL.108788-000', 'IUP-00-N-00648'." />

		<CustomAttribute DataType="String" Name="EL_FSP_IpAddress" DisplayName="Fordelingsskap IP-adresse" DefaultValue="Ukjent"
			Description="The distribution panel's IP adresse identity [freetext], e.g. '192.86.123.03', 'Ukjent' (unknown), 'Ingen' (none)." />
		
		<!-- END Banedata custom attributes (specific to this object type) -->
		
		<InsertPointObject VariantName="Fordelingsskap" DisplayBlockName="NO-BN-2D-JBTEL_FSP-SKAP-FORDELINGSSKAP-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true" >
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true" />
			<SetValue Key="dir" Value="both" />
			<SetValue Key="name" Value="Fordelingsskap" />
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_FSP-SKAP-FORDELINGSSKAP" AllowSymbolMove="true" >
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}" />	
			<BlockNameFormat JoinBy="-" >
				NO-BN-2D-JBTEL_FSP-SKAP
				{% if Variant == 'Fordelingsskap' %}FORDELINGSSKAP
				{% else %}BAD_Variant_{{Variant}}
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" />

	</ObjectType>



<!--========================================================================================================
	LAVSPENT
	SKAP
	EL-SVG Sporveksel sporvekselvarmeskap = gruppeskap
	Har samme symbol i TRV som fordelingsskap.
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" EulynxDataType="EULYNX.sig.Cabinet" LuaName="rctype_PointHeatingCabinet" Name="JBTEL_SVG Gruppeskap"
				Layer="JBTEL_SVG" Color="ByLayer"
				Group="Lavspent/Skap"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>gruppeskap</RelationSpace>

		<xpp:expand select="NOBN_com_SYMBOLFRAME" />
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___ANGULAROFFSET_VAR" />
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW" />
		<xpp:expand select="NOBN_com_DISCIPLINE___POW" />
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS" />
		<xpp:expand select="RC_com_SET_OCP_STATION_REFERENCE" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_RAIL" />
		<xpp:expand select="NOBN_com_PSET_BANE_NOR" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA" />
		<xpp:expand select="NOBN_com_PSET_ISY_STK" />
		<xpp:expand select="NOBN_com_PSET_TITTELFELT" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_SVG" />
	
		<Variants DefaultValue="Gruppeskap" >
			<Variant Name="Gruppeskap" />
		</Variants>

		<InsertPointObject VariantName="Gruppeskap" DisplayBlockName="NO-BN-2D-JBTEL_SVG-SKAP-GRUPPESKAP-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true" >
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true" />
			<SetValue Key="dir" Value="both" />
			<SetValue Key="name" Value="Gruppeskap" />
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_SVG-SKAP-GRUPPESKAP-{{SymbolMode}}" AllowSymbolMove="true" >
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}" />	
			<BlockNameFormat JoinBy="-" >
				NO-BN-2D-JBTEL_SVG-SKAP
				{% if Variant == 'Gruppeskap' %}GRUPPESKAP
				{% else %}BAD_Variant_{{Variant}}
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" />

	</ObjectType>



<!--========================================================================================================
	LAVSPENT
	SKAP
	JBTEL_TVP Togvarmepost (skap)
	Symbol i TRV er et rektangel med andreaskors.
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" EulynxDataType="EULYNX.sig.Cabinet" LuaName="rctype_TrainHeatingCabinet" Name="JBTEL_TVP Togvarmepost"
				Layer="JBTEL_TVP" Color="ByLayer"
				Group="Lavspent/Skap"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>togvarmepost</RelationSpace>

		<xpp:expand select="NOBN_com_SYMBOLFRAME" />
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___ANGULAROFFSET_VAR" />
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW" />
		<xpp:expand select="NOBN_com_DISCIPLINE___POW" />
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS" />
		<xpp:expand select="RC_com_SET_OCP_STATION_REFERENCE" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_RAIL" />
		<xpp:expand select="NOBN_com_PSET_BANE_NOR" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA" />
		<xpp:expand select="NOBN_com_PSET_ISY_STK" />
		<xpp:expand select="NOBN_com_PSET_TITTELFELT" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_TVP" />

		<Variants DefaultValue="Togvarmepost" >
			<Variant Name="Togvarmepost" />
		</Variants>

		<InsertPointObject VariantName="Togvarmepost" DisplayBlockName="NO-BN-2D-JBTEL_TVP-SKAP-TOGVARMEPOST-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true" >
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true" />
			<SetValue Key="dir" Value="both" />
			<SetValue Key="name" Value="Togvarmepost" />
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_TVP-SKAP-TOGVARMEPOST" AllowSymbolMove="true" >
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}" />	
			<BlockNameFormat JoinBy="-" >
				NO-BN-2D-JBTEL_TVP-SKAP
				{% if Variant == 'Togvarmepost' %}TOGVARMEPOST
				{% else %}BAD_Variant_{{Variant}}
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" />

	</ObjectType>



<!--========================================================================================================
	LAVSPENT
	TRANSFORMATORER
	JBTEL_TRF Transformator
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" LuaName="rctype_LowPowerTransfomer" Name="JBTEL_TRF Transformator"
				Layer="JBTEL_TRF" Color="ByLayer"
				Group="Lavspent/Transformatorer"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>lavspent_transformator</RelationSpace>

		<xpp:expand select="NOBN_com_SYMBOLFRAME" />
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___ANGULAROFFSET_VAR" />
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW" />
		<xpp:expand select="NOBN_com_DISCIPLINE___POW" />
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS" />
		<xpp:expand select="RC_com_SET_OCP_STATION_REFERENCE" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_RAIL" />
		<xpp:expand select="NOBN_com_PSET_BANE_NOR" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA" />
		<xpp:expand select="NOBN_com_PSET_ISY_STK" />
		<xpp:expand select="NOBN_com_PSET_TITTELFELT" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_TRF" />

		<Variants DefaultValue="Transformator" >
			<Variant Name="Transformator" />
		</Variants>
		
		<InsertPointObject VariantName="Transformator" DisplayBlockName="NO-BN-2D-JBTEL_TRF-TRANSFORMATOR-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true" >
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true" />
			<SetValue Key="dir" Value="both" />
			<SetValue Key="name" Value="Transformator" />
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_TRF-TRANSFORMATOR" AllowSymbolMove="true" >
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}" />	
			<BlockNameFormat JoinBy="-" >
				NO-BN-2D-JBTEL_TRF
				{% if Variant == 'Transformator' %}TRANSFORMATOR
				{% else %}BAD_Variant_{{Variant}}
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" />
	
	</ObjectType>



<!--========================================================================================================
	LAVSPENT
	UPS
	JBTEL_UPS UPS fordeler
=========================================================================================================-->
	<ObjectType DataType="tOrientedElement" Class="RailwayPlacedObject" EulynxDataType="EULYNX.sig.Cabinet" LuaName="rctype_UpsDistribution" Name="JBTEL_UPS UPS fordeler"
				Layer="JBTEL_UPS" Color="ByLayer"
				Group="Lavspent/UPS"
				AttMirrorY="{% if RightSided %}true{% else %}false{% endif %}"
				>
				
		<RelationSpace>ups_fordeler</RelationSpace>

		<xpp:expand select="NOBN_com_SYMBOLFRAME" />
		<xpp:expand select="NOBN_com_STD_CUSTOMATTRIBUTES___ANGULAROFFSET_VAR" />
		<xpp:expand select="NOBN_com_STD_TEXATTRIBUTES___VERTICAL_AND_FAR___POW" />
		<xpp:expand select="NOBN_com_DISCIPLINE___POW" />
		<xpp:expand select="NOBN_com_CHK_NUMBER_OF_OCP_AREAS" />
		<xpp:expand select="RC_com_SET_OCP_STATION_REFERENCE" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___WAYSIDE_GENERAL_OBJECT" />
		<xpp:expand select="NOBN_com_STD_LUAEXPRESSIONS___EARTHED_TO_RAIL" />
		<xpp:expand select="NOBN_com_PSET_BANE_NOR" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA" />
		<xpp:expand select="NOBN_com_PSET_ISY_STK" />
		<xpp:expand select="NOBN_com_PSET_TITTELFELT" />
		<xpp:expand select="NOBN_com_PSET_FDV_BANEDATA_EL_UPS" />

		<Variants DefaultValue="UPS fordeler" >
			<Variant Name="UPS fordeler" />
		</Variants>
		
		<InsertPointObject VariantName="UPS fordeler" DisplayBlockName="NO-BN-2D-JBTEL_UPS-UPS-FORDELER-{{SymbolMode}}" 
				DefaultSnapMode="Alignment" SnapToAlignment="true" SnapDistance="3.5" AskForAttachment="true" >
			<OwnAlignmentTargetSpace>spor</OwnAlignmentTargetSpace>
			<JigSymbolAppearance AddAngle="0" EnableDirectionSetting="true" RotateIfRightSideOfAlignment="true" />
			<SetValue Key="dir" Value="both" />
			<SetValue Key="name" Value="UPS fordeler" />
		</InsertPointObject>

		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTEL_UPS-UPS-FORDELER" AllowSymbolMove="true" >
			<Rotation Add180DegreesIfDirIsDown="false" AddAngle="{% if dir == 'up' %}{{270.0|plus:AngularOffset}}
														{% elsif dir == 'down' %}{{90.0|plus:AngularOffset}}
														{% elsif dir == 'both' and RightSided %}{{180.0|plus:AngularOffset}}
														{% elsif dir == 'both' and LeftSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and RightSided %}{{0.0|plus:AngularOffset}}
														{% elsif dir == 'none' and LeftSided %}{{180.0|plus:AngularOffset}}
														{% else %}45.0
														{% endif %}" />	
			<BlockNameFormat JoinBy="-" >
				NO-BN-2D-JBTEL_UPS
				{% if Variant == 'UPS fordeler' %}UPS-FORDELER
				{% else %}BAD_Variant_{{Variant}}
				{% endif %}
				{{SymbolMode}}
			</BlockNameFormat>
		</SymbolDefinition>
		
		<SymbolDefinition DefaultBlockName="NO-BN-2D-JBTRC_INNSETTINGSPUNKT-Schematic" />
	
	</ObjectType>



<!--========================================================================================================
    End of file 
=========================================================================================================-->
</xpp:bloc>
